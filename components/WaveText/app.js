!(function (e) {
  function t(t) {
    for (
      var i, s, o = t[0], l = t[1], u = t[2], d = 0, h = [];
      d < o.length;
      d++
    )
      (s = o[d]), a[s] && h.push(a[s][0]), (a[s] = 0)
    for (i in l) Object.prototype.hasOwnProperty.call(l, i) && (e[i] = l[i])
    for (c && c(t); h.length; ) h.shift()()
    return r.push.apply(r, u || []), n()
  }
  function n() {
    for (var e, t = 0; t < r.length; t++) {
      for (var n = r[t], i = !0, o = 1; o < n.length; o++) {
        var l = n[o]
        0 !== a[l] && (i = !1)
      }
      i && (r.splice(t--, 1), (e = s((s.s = n[0]))))
    }
    return e
  }
  var i = {},
    a = { app: 0 },
    r = []
  function s(t) {
    if (i[t]) return i[t].exports
    var n = (i[t] = { i: t, l: !1, exports: {} })
    return e[t].call(n.exports, n, n.exports, s), (n.l = !0), n.exports
  }
  ;(s.e = function (e) {
    var t = [],
      n = a[e]
    if (0 !== n)
      if (n) t.push(n[2])
      else {
        var i = new Promise(function (t, i) {
          n = a[e] = [t, i]
        })
        t.push((n[2] = i))
        var r,
          o = document.createElement('script')
        ;(o.charset = 'utf-8'),
          (o.timeout = 120),
          s.nc && o.setAttribute('nonce', s.nc),
          (o.src = (function (e) {
            return s.p + 'version/1581425299820/js/' + e + '.js'
          })(e)),
          (r = function (t) {
            ;(o.onerror = o.onload = null), clearTimeout(l)
            var n = a[e]
            if (0 !== n) {
              if (n) {
                var i = t && ('load' === t.type ? 'missing' : t.type),
                  r = t && t.target && t.target.src,
                  s = new Error(
                    'Loading chunk ' + e + ' failed.\n(' + i + ': ' + r + ')'
                  )
                ;(s.type = i), (s.request = r), n[1](s)
              }
              a[e] = void 0
            }
          })
        var l = setTimeout(function () {
          r({ type: 'timeout', target: o })
        }, 12e4)
        ;(o.onerror = o.onload = r), document.head.appendChild(o)
      }
    return Promise.all(t)
  }),
    (s.m = e),
    (s.c = i),
    (s.d = function (e, t, n) {
      s.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: n })
    }),
    (s.r = function (e) {
      'undefined' !== typeof Symbol &&
        Symbol.toStringTag &&
        Object.defineProperty(e, Symbol.toStringTag, { value: 'Module' }),
        Object.defineProperty(e, '__esModule', { value: !0 })
    }),
    (s.t = function (e, t) {
      if ((1 & t && (e = s(e)), 8 & t)) return e
      if (4 & t && 'object' === typeof e && e && e.__esModule) return e
      var n = Object.create(null)
      if (
        (s.r(n),
        Object.defineProperty(n, 'default', { enumerable: !0, value: e }),
        2 & t && 'string' != typeof e)
      )
        for (var i in e)
          s.d(
            n,
            i,
            function (t) {
              return e[t]
            }.bind(null, i)
          )
      return n
    }),
    (s.n = function (e) {
      var t =
        e && e.__esModule
          ? function () {
              return e.default
            }
          : function () {
              return e
            }
      return s.d(t, 'a', t), t
    }),
    (s.o = function (e, t) {
      return Object.prototype.hasOwnProperty.call(e, t)
    }),
    (s.p = '/'),
    (s.oe = function (e) {
      throw (console.error(e), e)
    })
  var o = (this.webpackJsonp = this.webpackJsonp || []),
    l = o.push.bind(o)
  ;(o.push = t), (o = o.slice())
  for (var u = 0; u < o.length; u++) t(o[u])
  var c = l
  r.push([593, 'vendors']), n()
})([
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  function (e, t, n) {
    'use strict'
    n.d(t, 'a', function () {
      return i
    }),
      n.d(t, 'c', function () {
        return a
      }),
      n.d(t, 'd', function () {
        return r
      }),
      n.d(t, 'b', function () {
        return s
      })
    var i = {
        PRODUCTION: 'production',
        DEVELOPMENT: 'development',
        STAGING: 'staging',
        LOCAL: 'local',
      },
      a = { LOCALE: 'locale', API: 'api' },
      r = {
        LOCALE_ENABLED: 'locale-enabled',
        LOCALE_ROUTING_ENABLED: 'locale-routing-enabled',
        STATIC_ROOT: 'static-root',
        PUBLIC_PATH: 'public-path',
        VERSIONED_STATIC_ROOT: 'versioned-static-root',
      },
      s = {
        DEFAULT_LOCALE: 'default-locale',
        AVAILABLE_LOCALES: 'available-locales',
        PERSIST_QUERY_PARAMS: 'persist-query-params',
        POLAND_DOMAIN: 'poland-domain',
        GLOBAL_DOMAIN: 'global-domain',
      }
  },
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  function (e, t, n) {
    'use strict'
    n.d(t, 'a', function () {
      return h
    })
    var i = n(0),
      a = n.n(i),
      r = n(4),
      s = n.n(r),
      o = n(2),
      l = n.n(o),
      u = n(5),
      c = n.n(u),
      d = n(48),
      h = (function (e) {
        function t() {
          return a()(this, t), s()(this, l()(t).apply(this, arguments))
        }
        return c()(t, e), t
      })(
        Object(d.createEventClass)()(
          'ON_MAP_DRAG_START',
          'ON_MAP_DRAG_END',
          'ON_MAP_ZOOM_IN',
          'ON_MAP_ZOOM_OUT',
          'ON_HOTSPOT_CLICK',
          'ON_LOCATION_CLICK',
          'ENTER_CLOSEUP_ANIMATION',
          'LEAVE_CLOSEUP_ANIMATION'
        )
      )
  },
  ,
  function (e, t, n) {
    'use strict'
    n.d(t, 'a', function () {
      return i
    }),
      n.d(t, 'b', function () {
        return a
      })
    var i = {
        HEADER_SHADOW: { source: '{$versionRoot}image/header-shadow.png' },
      },
      a = {
        LOGO_SHIELD: {
          startCount: 0,
          frameCount: 65,
          fps: 30,
          source: '{$versionRoot}sprite-sequence/logo-shield.png',
          gutter: { x: 4, y: 4 },
          columns: 8,
          size: { width: 345, height: 310 },
          objectFit: 'contain',
          loop: !0,
          loopTimeout: 2e3,
        },
        LOGO_TITLE: {
          startCount: 0,
          frameCount: 65,
          fps: 30,
          source: '{$versionRoot}sprite-sequence/logo-title-{locale}.png',
          gutter: { x: 4, y: 4 },
          columns: 8,
          size: { width: 465, height: 90 },
          loop: !0,
          loopTimeout: 2e3,
        },
        PAPER_TRANSITION_IN: {
          startCount: 0,
          frameCount: 30,
          fps: 30,
          source: '{$versionRoot}sprite-sequence/paper-transition-in.png',
          gutter: { x: 4, y: 4 },
          columns: 5,
          size: { width: 540, height: 1080 },
          objectFit: 'cover',
        },
        PAPER_TRANSITION_OUT: {
          startCount: 0,
          frameCount: 30,
          fps: 30,
          source: '{$versionRoot}sprite-sequence/paper-transition-out.png',
          gutter: { x: 4, y: 4 },
          columns: 5,
          size: { width: 540, height: 1080 },
          objectFit: 'cover',
        },
        AVATAR_MASK_IN: {
          startCount: 0,
          frameCount: 35,
          fps: 30,
          source: '{$versionRoot}sprite-sequence/avatar-mask-in.png',
          gutter: { x: 4, y: 4 },
          columns: 6,
          size: { width: 300, height: 300 },
          objectFit: 'cover',
        },
        AVATAR_MASK_OUT: {
          startCount: 0,
          frameCount: 30,
          fps: 45,
          source: '{$versionRoot}sprite-sequence/avatar-mask-out.png',
          gutter: { x: 4, y: 4 },
          columns: 5,
          size: { width: 300, height: 300 },
          objectFit: 'cover',
        },
        HEADER_MASK: {
          startCount: 0,
          frameCount: 60,
          fps: 30,
          source: '{$versionRoot}sprite-sequence/header-mask.png',
          gutter: { x: 4, y: 4 },
          columns: 7,
          size: { width: 500, height: 478 },
          objectFit: 'cover',
        },
      }
  },
  ,
  ,
  function (e, t, n) {
    'use strict'
    var i = n(3)
    i.m._gsDefine(
      'easing.CustomEase',
      ['easing.Ease'],
      function () {
        var e = /(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,
          t = /[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,
          n = /[\+\-]?\d*\.?\d+e[\+\-]?\d+/gi,
          a = /[cLlsS]/g,
          r = 'CustomEase only accepts Cubic Bezier data.',
          s = function e(t, n, i, a, r, s, o, l, u, c, d) {
            var h,
              f = (t + i) / 2,
              p = (n + a) / 2,
              v = (i + r) / 2,
              m = (a + s) / 2,
              _ = (r + o) / 2,
              g = (s + l) / 2,
              y = (f + v) / 2,
              T = (p + m) / 2,
              E = (v + _) / 2,
              b = (m + g) / 2,
              C = (y + E) / 2,
              A = (T + b) / 2,
              I = o - t,
              k = l - n,
              R = Math.abs((i - o) * k - (a - l) * I),
              M = Math.abs((r - o) * k - (s - l) * I)
            return (
              c ||
                ((c = [
                  { x: t, y: n },
                  { x: o, y: l },
                ]),
                (d = 1)),
              c.splice(d || c.length - 1, 0, { x: C, y: A }),
              (R + M) * (R + M) > u * (I * I + k * k) &&
                ((h = c.length),
                e(t, n, f, p, y, T, C, A, u, c, d),
                e(C, A, E, b, _, g, o, l, u, c, d + 1 + (c.length - h))),
              c
            )
          },
          o = function (e) {
            var t = this.lookup[(e * this.l) | 0] || this.lookup[this.l - 1]
            return t.nx < e && (t = t.n), t.y + ((e - t.x) / t.cx) * t.cy
          },
          l = function (e, t, n) {
            ;(this._calcEnd = !0),
              (this.id = e),
              e && (i.b.map[e] = this),
              (this.getRatio = o),
              this.setData(t, n)
          },
          u = (l.prototype = new i.b())
        return (
          (u.constructor = l),
          (u.setData = function (i, o) {
            var l,
              u,
              c,
              d,
              h,
              f,
              p,
              v,
              m,
              _,
              g = (i = i || '0,0,1,1').match(e),
              y = 1,
              T = []
            if (
              ((_ = (o = o || {}).precision || 1),
              (this.data = i),
              (this.lookup = []),
              (this.points = T),
              (this.fast = _ <= 1),
              (a.test(i) || (-1 !== i.indexOf('M') && -1 === i.indexOf('C'))) &&
                (g = (function (e) {
                  var i,
                    a,
                    s,
                    o,
                    l,
                    u,
                    c,
                    d,
                    h,
                    f,
                    p,
                    v =
                      (e + '')
                        .replace(n, function (e) {
                          var t = +e
                          return t < 1e-4 && t > -1e-4 ? 0 : t
                        })
                        .match(t) || [],
                    m = [],
                    _ = 0,
                    g = 0,
                    y = v.length,
                    T = 2
                  for (i = 0; i < y; i++)
                    if (
                      ((h = o),
                      isNaN(v[i])
                        ? (l = (o = v[i].toUpperCase()) !== v[i])
                        : i--,
                      (a = +v[i + 1]),
                      (s = +v[i + 2]),
                      l && ((a += _), (s += g)),
                      i || ((c = a), (d = s)),
                      'M' === o)
                    )
                      u && u.length < 8 && ((m.length -= 1), (T = 0)),
                        (_ = c = a),
                        (g = d = s),
                        (u = [a, s]),
                        (T = 2),
                        m.push(u),
                        (i += 2),
                        (o = 'L')
                    else if ('C' === o)
                      u || (u = [0, 0]),
                        (u[T++] = a),
                        (u[T++] = s),
                        l || (_ = g = 0),
                        (u[T++] = _ + 1 * v[i + 3]),
                        (u[T++] = g + 1 * v[i + 4]),
                        (u[T++] = _ += 1 * v[i + 5]),
                        (u[T++] = g += 1 * v[i + 6]),
                        (i += 6)
                    else if ('S' === o)
                      'C' === h || 'S' === h
                        ? ((f = _ - u[T - 4]),
                          (p = g - u[T - 3]),
                          (u[T++] = _ + f),
                          (u[T++] = g + p))
                        : ((u[T++] = _), (u[T++] = g)),
                        (u[T++] = a),
                        (u[T++] = s),
                        l || (_ = g = 0),
                        (u[T++] = _ += 1 * v[i + 3]),
                        (u[T++] = g += 1 * v[i + 4]),
                        (i += 4)
                    else {
                      if ('L' !== o && 'Z' !== o) throw r
                      'Z' === o && ((a = c), (s = d), (u.closed = !0)),
                        ('L' === o ||
                          Math.abs(_ - a) > 0.5 ||
                          Math.abs(g - s) > 0.5) &&
                          ((u[T++] = _ + (a - _) / 3),
                          (u[T++] = g + (s - g) / 3),
                          (u[T++] = _ + (2 * (a - _)) / 3),
                          (u[T++] = g + (2 * (s - g)) / 3),
                          (u[T++] = a),
                          (u[T++] = s),
                          'L' === o && (i += 2)),
                        (_ = a),
                        (g = s)
                    }
                  return m[0]
                })(i)),
              4 === (l = g.length))
            )
              g.unshift(0, 0), g.push(1, 1), (l = 8)
            else if ((l - 2) % 6) throw r
            for (
              (0 === +g[0] && 1 === +g[l - 2]) ||
                (function (e, t, n) {
                  n || 0 === n || (n = Math.max(+e[e.length - 1], +e[1]))
                  var i,
                    a = -1 * +e[0],
                    r = -n,
                    s = e.length,
                    o = 1 / (+e[s - 2] + a),
                    l =
                      -t ||
                      (Math.abs(+e[s - 1] - +e[1]) < 0.01 * (+e[s - 2] - +e[0])
                        ? (function (e) {
                            var t,
                              n = e.length,
                              i = 999999999999
                            for (t = 1; t < n; t += 6) +e[t] < i && (i = +e[t])
                            return i
                          })(e) + r
                        : +e[s - 1] + r)
                  for (l = l ? 1 / l : -o, i = 0; i < s; i += 2)
                    (e[i] = (+e[i] + a) * o), (e[i + 1] = (+e[i + 1] + r) * l)
                })(g, o.height, o.originY),
                this.rawBezier = g,
                d = 2;
              d < l;
              d += 6
            )
              (u = { x: +g[d - 2], y: +g[d - 1] }),
                (c = { x: +g[d + 4], y: +g[d + 5] }),
                T.push(u, c),
                s(
                  u.x,
                  u.y,
                  +g[d],
                  +g[d + 1],
                  +g[d + 2],
                  +g[d + 3],
                  c.x,
                  c.y,
                  1 / (2e5 * _),
                  T,
                  T.length - 1
                )
            for (l = T.length, d = 0; d < l; d++)
              (p = T[d]),
                (v = T[d - 1] || p),
                p.x > v.x || (v.y !== p.y && v.x === p.x) || p === v
                  ? ((v.cx = p.x - v.x),
                    (v.cy = p.y - v.y),
                    (v.n = p),
                    (v.nx = p.x),
                    this.fast &&
                      d > 1 &&
                      Math.abs(v.cy / v.cx - T[d - 2].cy / T[d - 2].cx) > 2 &&
                      (this.fast = !1),
                    v.cx < y &&
                      (v.cx
                        ? (y = v.cx)
                        : ((v.cx = 0.001),
                          d === l - 1 &&
                            ((v.x -= 0.001),
                            (y = Math.min(y, 0.001)),
                            (this.fast = !1)))))
                  : (T.splice(d--, 1), l--)
            if (
              ((l = (1 / y + 1) | 0),
              (this.l = l),
              (h = 1 / l),
              (f = 0),
              (p = T[0]),
              this.fast)
            ) {
              for (d = 0; d < l; d++)
                (m = d * h),
                  p.nx < m && (p = T[++f]),
                  (u = p.y + ((m - p.x) / p.cx) * p.cy),
                  (this.lookup[d] = { x: m, cx: h, y: u, cy: 0, nx: 9 }),
                  d && (this.lookup[d - 1].cy = u - this.lookup[d - 1].y)
              this.lookup[l - 1].cy = T[T.length - 1].y - u
            } else {
              for (d = 0; d < l; d++)
                p.nx < d * h && (p = T[++f]), (this.lookup[d] = p)
              f < T.length - 1 && (this.lookup[d - 1] = T[T.length - 2])
            }
            return (
              (this._calcEnd = 1 !== T[T.length - 1].y || 0 !== T[0].y), this
            )
          }),
          (u.getRatio = o),
          (u.getSVGData = function (e) {
            return l.getSVGData(this, e)
          }),
          (l.create = function (e, t, n) {
            return new l(e, t, n)
          }),
          (l.version = '0.2.2'),
          (l.bezierToPoints = s),
          (l.get = function (e) {
            return i.b.map[e]
          }),
          (l.getSVGData = function (e, t) {
            var n,
              a,
              r,
              s,
              o,
              l,
              u,
              c,
              d,
              h,
              f = (t = t || {}).width || 100,
              p = t.height || 100,
              v = t.x || 0,
              m = (t.y || 0) + p,
              _ = t.path
            if (
              (t.invert && ((p = -p), (m = 0)),
              (e = e.getRatio
                ? e
                : i.b.map[e] || console.log('No ease found: ', e)).rawBezier)
            ) {
              for (n = [], u = e.rawBezier.length, r = 0; r < u; r += 2)
                n.push(
                  ((1e3 * (v + e.rawBezier[r] * f)) | 0) / 1e3 +
                    ',' +
                    ((1e3 * (m + e.rawBezier[r + 1] * -p)) | 0) / 1e3
                )
              ;(n[0] = 'M' + n[0]), (n[1] = 'C' + n[1])
            } else
              for (
                n = ['M' + v + ',' + m],
                  s = 1 / (u = Math.max(5, 200 * (t.precision || 1))),
                  c = 5 / (u += 2),
                  d = ((1e3 * (v + s * f)) | 0) / 1e3,
                  a =
                    ((h = ((1e3 * (m + e.getRatio(s) * -p)) | 0) / 1e3) - m) /
                    (d - v),
                  r = 2;
                r < u;
                r++
              )
                (o = ((1e3 * (v + r * s * f)) | 0) / 1e3),
                  (l = ((1e3 * (m + e.getRatio(r * s) * -p)) | 0) / 1e3),
                  (Math.abs((l - h) / (o - d) - a) > c || r === u - 1) &&
                    (n.push(d + ',' + h), (a = (l - h) / (o - d))),
                  (d = o),
                  (h = l)
            return (
              _ &&
                ('string' === typeof _
                  ? document.querySelector(_)
                  : _
                ).setAttribute('d', n.join(' ')),
              n.join(' ')
            )
          }),
          l
        )
      },
      !0
    )
    var a = {
      VinnieInOut: i.o.CustomEase.create('VinnieInOut', 'M0,0 C0.2,0 0,1 1,1'),
    }
    t.a = a
  },
  function (e, t, n) {
    'use strict'
    n.d(t, 'a', function () {
      return a
    })
    var i = n(37),
      a = Object(i.a)(['event', 'location', 'race', 'monster', 'character'])
  },
  ,
  function (e, t, n) {
    'use strict'
    n.d(t, 'a', function () {
      return a
    }),
      n.d(t, 'b', function () {
        return r
      })
    var i = n(37),
      a = Object(i.a)([
        'C0',
        'C1',
        'C2',
        'C3',
        'C4',
        'C5',
        'C6',
        'C7',
        'C8',
        'C9',
        'C9',
        'C10',
        'C11',
        'C12',
        'C13',
        'C14',
        'C15',
        'C16',
        'C17',
        'C18',
        'C19',
        'C20',
        'C21',
        'C22',
        'C23',
        'C24',
        'C25',
        'C26',
        'C27',
        'C28',
        'C29',
        'C30',
        'C31',
        'C32',
        'C33',
        'C34',
        'C35',
        'C36',
        'C37',
        'C38',
        'C39',
        'C40',
        'C41',
        'C42',
        'C43',
      ]),
      r = Object(i.a)([a.C1, a.C2, a.C3])
  },
  ,
  function (e, t, n) {
    'use strict'
    n.d(t, 'd', function () {
      return o
    }),
      n.d(t, 'c', function () {
        return l
      }),
      n.d(t, 'b', function () {
        return u
      }),
      n.d(t, 'e', function () {
        return c
      }),
      n.d(t, 'f', function () {
        return d
      }),
      n.d(t, 'a', function () {
        return h
      })
    var i,
      a = n(13),
      r = n.n(a),
      s = n(88),
      o = ''.concat('app', '/setMenuVisibility'),
      l = ''.concat('app', '/setDeviceState'),
      u = ''.concat('app', '/setCardModusVisibility'),
      c = ''.concat('app', '/setSearchVisibility'),
      d = ''.concat('app', '/setShareId'),
      h = ''.concat('app', '/getcardModus')
    t.g = {
      state: {
        deviceState: null,
        menuIsOpen: !1,
        cardModusEnabled: !1,
        cardModusIsOpen: !1,
        searchIsVisible: !1,
        shareId: null,
      },
      getters: r()({}, h, function (e) {
        return e.deviceState < s.a.SMALL
      }),
      mutations:
        ((i = {}),
        r()(i, u, function (e, t) {
          e.cardModusIsOpen = t
        }),
        r()(i, o, function (e, t) {
          e.menuIsOpen = t
        }),
        r()(i, c, function (e, t) {
          e.searchIsVisible = t
        }),
        r()(i, l, function (e, t) {
          e.deviceState = t
        }),
        r()(i, d, function (e, t) {
          e.shareId = t
        }),
        i),
      actions: {},
    }
  },
  ,
  function (e, t, n) {
    'use strict'
    function i(e) {
      return e.reduce(function (e, t) {
        return (e[t] = t), e
      }, Object.create(null))
    }
    n.d(t, 'a', function () {
      return i
    })
  },
  function (e, t, n) {
    'use strict'
    n.d(t, 'a', function () {
      return r
    }),
      n.d(t, 'b', function () {
        return s
      })
    var i = n(76),
      a = n.n(i),
      r = !a.a.tablet && !a.a.mobile,
      s = a.a.mobile
    Math.max(1.5, window.devicePixelRatio)
  },
  ,
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(406),
        a = n(259)
      n.d(t, 'b', function () {
        return a.b
      })
      var r = n(370),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file =
        'src/component/general/modal/PreviewCardModal/PreviewCardModal.vue'),
        (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  ,
  ,
  ,
  function (e, t, n) {
    'use strict'
    n.d(t, 'a', function () {
      return a
    })
    var i = n(37),
      a = Object(i.a)([
        'M1',
        'M2',
        'M3',
        'M4',
        'M5',
        'M6',
        'M7',
        'M8',
        'M9',
        'M10',
        'M11',
        'M12',
      ])
  },
  function (e, t, n) {
    'use strict'
    n.d(t, 'a', function () {
      return l
    })
    var i = n(101),
      a = n(44),
      r = n(102),
      s = n(33),
      o = n(37),
      l = Object(o.a)([
        i.a.L20,
        a.a.M1,
        a.a.M2,
        a.a.M4,
        a.a.M5,
        a.a.M6,
        a.a.M8,
        a.a.M10,
        a.a.M11,
        s.a.C17,
        r.a.R4,
      ])
  },
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(411),
        a = n(250),
        r = n(374),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file = 'src/component/button/CloseButton/CloseButton.vue'),
        (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(251),
        a = n(367),
        r = n(12),
        s = n(368),
        o = n.n(s),
        l = {},
        u = !1
      e.hot, e.hot
      var c = Object(r.a)(
        i.a,
        void 0,
        void 0,
        !1,
        function (e) {
          u ||
            ((l.$style = a.default.locals || a.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return l.$style
              },
            }))
        },
        null,
        null
      )
      'function' === typeof o.a && o()(c),
        (c.options.__file =
          'src/component/type/HeadingPrefix/HeadingPrefix.vue'),
        (t.a = c.exports)
    }.call(this, n(18)(e)))
  },
  function (e, t, n) {
    'use strict'
    var i
    !(function (e) {
      e.IMMEDIATE = 'IMMEDIATE'
    })(i || (i = {})),
      (t.a = i)
  },
  function (e, t, n) {
    'use strict'
    n.d(t, 'a', function () {
      return a
    })
    var i = n(37),
      a = Object(i.a)([
        'E1',
        'E2',
        'E3',
        'E4',
        'E5',
        'E6',
        'E7',
        'E8',
        'E9',
        'E10',
        'E11',
        'E12',
        'E13',
        'E14',
        'E15',
        'E16',
        'E17',
        'E18',
        'E19',
        'E20',
        'E21',
        'E22',
        'E23',
        'E24',
        'E25',
        'E26',
        'E27',
        'E28',
        'E29',
        'E30',
        'E31',
        'E32',
        'E33',
        'E34',
        'E35',
        'E36',
        'E37',
        'E38',
        'E39',
        'E40',
        'E41',
        'E42',
        'E43',
        'E44',
      ])
  },
  function (e, t, n) {
    'use strict'
    var i
    !(function (e) {
      ;(e[(e.SMALL = 0)] = 'SMALL'),
        (e[(e.MEDIUM = 1)] = 'MEDIUM'),
        (e[(e.LARGE = 2)] = 'LARGE')
    })(i || (i = {})),
      (t.a = i)
  },
  ,
  ,
  ,
  ,
  function (e, t, n) {
    'use strict'
    var i = n(39),
      a = n.n(i),
      r = n(7),
      s = n(33),
      o = n(101),
      l = n(44),
      u = n(102),
      c = n(58),
      d = [].concat(
        a()(Object.values(u.a)),
        a()(Object.values(l.a)),
        a()(Object.values(o.a)),
        a()(Object.values(s.a)),
        a()(Object.values(c.a))
      )
    t.a = r.default.oneOf(d).isRequired
  },
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(412),
        a = n(253),
        r = n(366),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file =
        'src/component/general/modal/ModalBackground/ModalBackground.vue'),
        (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(418),
        a = n(249),
        r = n(369),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file =
        'src/component/asset/sequence/ImageMaskSequence/ImageMaskSequence.vue'),
        (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  function (e, t, n) {
    'use strict'
    var i = n(15)
    t.a = function (e) {
      return {
        validator: function (t) {
          return (
            null === t ||
            ('undefined' === typeof t ? !e.required : Object(i.f)(e, t))
          )
        },
      }
    }
  },
  function (e, t, n) {
    'use strict'
    var i = n(556).a,
      a = n(280),
      r = n(577)
    n.d(t, 'a', function () {
      return s
    })
    var s = { HOME: 'home', WEBGL: 'webgl' }
    t.b = [
      { path: '/webgl', component: r.a, name: s.WEBGL },
      { path: '/:'.concat(a.a.CARD_ID, '?'), component: i, name: s.HOME },
    ]
  },
  function (e) {
    e.exports = {
      b: {
        XSMALL: "'(min-width: 0px)'",
        SMALL: "'(min-width: 600px) and (min-height: 376px)'",
        MEDIUM: "'(min-width: 960px)'",
        LARGE: "'(min-width: 1200px) and (min-height: 700px)'",
        XLARGE: "'(min-width: 1440px) and (min-height: 800px)'",
        XXLARGE: "'(min-width: 1680px) and (min-height: 900px)'",
        XXXLARGE: "'(min-width: 1920px) and (min-height: 1080px)'",
        SMALL_LANDSCAPE: "'(max-width: 959px) and (orientation: landscape)'",
      },
      a: { XSMALL: 0, SMALL: 1 },
    }
  },
  function (e, t, n) {
    'use strict'
    t.a = {
      INTERNAL: 'link-type-internal',
      EXTERNAL: 'link-type-external',
      EXTERNAL_BLANK: 'link-type-external-blank',
      DOWNLOAD: 'link-type-download',
    }
  },
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  function (e, t, n) {
    'use strict'
    n.d(t, 'a', function () {
      return a
    })
    var i = n(37),
      a = Object(i.a)([
        'L1',
        'L2',
        'L3',
        'L4',
        'L5',
        'L6',
        'L7',
        'L8',
        'L9',
        'L10',
        'L11',
        'L12',
        'L13',
        'L14',
        'L15',
        'L16',
        'L17',
        'L18',
        'L19',
        'L20',
        'L21',
        'L22',
        'L23',
        'L24',
        'L25',
        'L26',
        'L27',
        'L28',
      ])
  },
  function (e, t, n) {
    'use strict'
    n.d(t, 'a', function () {
      return a
    })
    var i = n(37),
      a = Object(i.a)(['R1', 'R2', 'R3', 'R4', 'R5'])
  },
  function (e, t, n) {
    'use strict'
    var i = n(7),
      a = n(76),
      r = n.n(a),
      s = n(6),
      o = n(89),
      l = n(59),
      u = n(126),
      c = n(87)
    t.a = {
      name: 'AbstractButtonComponent',
      extends: s.AbstractTransitionComponent,
      props: {
        active: i.default.bool.def(!1),
        disabled: i.default.bool,
        invalid: i.default.bool,
        size: i.default
          .oneOf([l.a.SMALL, l.a.MEDIUM, l.a.LARGE])
          .def(l.a.MEDIUM),
        icon: i.default.string,
        label: i.default.string,
        title: i.default.string,
        type: i.default.oneOf(Object.values(u.a)).isRequired,
        link: i.default.shape({
          type: i.default.oneOf(Object.values(o.a)).isRequired,
          target: i.default.any.isRequired,
        }),
      },
      computed: {
        buttonSize: function () {
          return l.a[this.size].toLowerCase()
        },
        target: function () {
          var e = this,
            t = this.link.target
          this.link.type === o.a.INTERNAL &&
            (t = c.b.find(function (t) {
              return t.name === e.link.target.name
            }).path)
          return t
        },
      },
      methods: {
        onClick: function () {},
        handleClick: function (e) {
          switch ((this.onClick(), this.$emit('click'), this.type)) {
            case u.a.LINK:
              switch (this.link.type) {
                case o.a.DOWNLOAD:
                  r.a.ios && (e.preventDefault(), this.openExternalLink(!0))
                  break
                case o.a.EXTERNAL:
                  e.preventDefault(), this.openExternalLink()
                  break
                case o.a.EXTERNAL_BLANK:
                  e.preventDefault(), this.openExternalLink(!0)
                  break
                case o.a.INTERNAL:
                default:
                  e.preventDefault(), this.openInternalLink()
              }
              break
            case u.a.ACTION:
              e && e.preventDefault()
              break
            case u.a.SUBMIT:
          }
        },
        openInternalLink: function () {
          this.$router.push(this.link.target)
        },
        openExternalLink: function (e) {
          e
            ? window.open(this.link.target)
            : (window.location.href = this.link.target)
        },
      },
    }
  },
  ,
  ,
  ,
  function (e, t, n) {
    'use strict'
    n.d(t, 'b', function () {
      return s
    }),
      n.d(t, 'c', function () {
        return o
      }),
      n.d(t, 'a', function () {
        return l
      })
    var i,
      a = n(13),
      r = n.n(a),
      s = ''.concat('user', '/addCard'),
      o = ''.concat('user', '/removeCard'),
      l = ''.concat('user', '/acceptCookie')
    t.d = {
      state: { openCards: [], cookiesAccepted: !1 },
      getters: {},
      mutations:
        ((i = {}),
        r()(i, l, function (e) {
          e.cookiesAccepted = !0
        }),
        r()(i, s, function (e, t) {
          e.openCards.includes(t.cardId) ||
            e.openCards.splice(t.index, 0, t.cardId)
        }),
        r()(i, o, function (e, t) {
          var n = e.openCards.indexOf(t)
          n >= 0 && e.openCards.splice(n, 1)
        }),
        i),
      actions: {},
    }
  },
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  function (e, t, n) {
    'use strict'
    t.a = {
      ACTION: 'button-type-action',
      LINK: 'button-type-link',
      SUBMIT: 'button-type-submit',
    }
  },
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  function (e, t, n) {
    'use strict'
    n.d(t, 'b', function () {
      return i
    }),
      n.d(t, 'a', function () {
        return a
      })
    var i = function (e, t, n) {
        return e.map(function (e) {
          return a(e.source, t, n)
        })
      },
      a = function (e, t, n) {
        return e.replace('{$versionRoot}', t).replace('{locale}', n)
      }
  },
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(414),
        a = n(261),
        r = n(376),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file =
        'src/component/general/modal/PageFlipBackground/PageFlipBackground.vue'),
        (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  function (e, t, n) {
    'use strict'
    var i = n(17),
      a = n(42),
      r = n(563),
      s = { app: n(35).g, user: n(107).d }
    a.default.use(i.a)
    var o = null
    t.a = function () {
      return (
        o ||
          (o = new i.a.Store({
            modules: s,
            strict: !1,
            plugins: [
              Object(r.a)({
                storage: window.localStorage,
                reducer: function (e) {
                  return { user: e.user }
                },
              }),
            ],
          })),
        o
      )
    }
  },
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  function (e, t, n) {
    'use strict'
    var i = n(7)
    t.a = {
      startCount: i.default.number.isRequired,
      frameCount: i.default.number.isRequired,
      source: i.default.string.isRequired,
      mapping: i.default.object,
      gutter: i.default.shape({
        x: i.default.number.isRequired,
        y: i.default.number.isRequired,
      }).isRequired,
      columns: i.default.number.isRequired,
      size: i.default.shape({
        width: i.default.number.isRequired,
        height: i.default.number.isRequired,
      }).isRequired,
      fps: i.default.number,
      loop: i.default.bool.def(!1),
      loopTimeout: i.default.number.def(0),
      objectFit: i.default.string.def('contain'),
    }
  },
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  function (e, t, n) {
    e.exports = { icon: 'icon-2IkghMD' }
  },
  function (e, t, n) {
    e.exports = {
      'sprite-sequence': 'sprite-sequence-3aJJv_a',
      spriteSequence: 'sprite-sequence-3aJJv_a',
    }
  },
  function (e, t, n) {
    e.exports = {
      'paper-mask-sequence': 'paper-mask-sequence-3M4OSJB',
      paperMaskSequence: 'paper-mask-sequence-3M4OSJB',
    }
  },
  function (e, t, n) {
    e.exports = {
      'modal-background': 'modal-background-1ytIrxB',
      modalBackground: 'modal-background-1ytIrxB',
      'top-left-radius': 'top-left-radius-1M9eyQF',
      topLeftRadius: 'top-left-radius-1M9eyQF',
      'content-mask': 'content-mask-LGtntCV',
      contentMask: 'content-mask-LGtntCV',
      background: 'background-3p_pPbm',
      small: 'small-Ff2Ea56',
      'top-right-radius': 'top-right-radius-1SllLZT',
      topRightRadius: 'top-right-radius-1SllLZT',
      'bottom-left-radius': 'bottom-left-radius-3t6ndp9',
      bottomLeftRadius: 'bottom-left-radius-3t6ndp9',
      'bottom-right-radius': 'bottom-right-radius-30tHwHD',
      bottomRightRadius: 'bottom-right-radius-30tHwHD',
      'has-shadow': 'has-shadow-3suvT3O',
      hasShadow: 'has-shadow-3suvT3O',
      'paper-mask-sequence': 'paper-mask-sequence-1aSSxwK',
      paperMaskSequence: 'paper-mask-sequence-1aSSxwK',
      content: 'content-I7Jyfyx',
    }
  },
  function (e, t, n) {
    e.exports = {
      'heading-prefix': 'heading-prefix-dL9Y0d4',
      headingPrefix: 'heading-prefix-dL9Y0d4',
    }
  },
  function (e, t, n) {
    e.exports = {
      'image-mask-sequence': 'image-mask-sequence-_XuiA-U',
      imageMaskSequence: 'image-mask-sequence-_XuiA-U',
    }
  },
  function (e, t, n) {
    e.exports = {
      'preview-card-modal': 'preview-card-modal-2uAcBM_',
      previewCardModal: 'preview-card-modal-2uAcBM_',
      'no-image': 'no-image-11xghhs',
      noImage: 'no-image-11xghhs',
      content: 'content-ac2b5It',
      'is-end-card': 'is-end-card-279-x_L',
      isEndCard: 'is-end-card-279-x_L',
      picture: 'picture-1V7EdjH',
      'heading-prefix': 'heading-prefix-37aPq34',
      headingPrefix: 'heading-prefix-37aPq34',
      title: 'title-1Dp_X8N',
      description: 'description-3j9-a_-',
      'minimized-title': 'minimized-title-1PCHKyM',
      minimizedTitle: 'minimized-title-1PCHKyM',
    }
  },
  function (e, t, n) {
    e.exports = {
      'zoom-controls': 'zoom-controls-TVSDhtN',
      zoomControls: 'zoom-controls-TVSDhtN',
      button: 'button-1Odp68X',
      'zoom-out-icon': 'zoom-out-icon-3PPPt_N',
      zoomOutIcon: 'zoom-out-icon-3PPPt_N',
      'zoom-in-icon': 'zoom-in-icon-2zvx7BB',
      zoomInIcon: 'zoom-in-icon-2zvx7BB',
    }
  },
  function (e, t, n) {
    e.exports = {
      'timeline-bar': 'timeline-bar-1VapsFT',
      timelineBar: 'timeline-bar-1VapsFT',
      'timeline-container': 'timeline-container-OpPjFlN',
      timelineContainer: 'timeline-container-OpPjFlN',
      timeline: 'timeline-ZiE2Ok9',
      'paper-mask-sequence': 'paper-mask-sequence-3PjhoSi',
      paperMaskSequence: 'paper-mask-sequence-3PjhoSi',
      'bound-container': 'bound-container-1QKSjbC',
      boundContainer: 'bound-container-1QKSjbC',
      pin: 'pin-iaFcBQR',
      tooltip: 'tooltip-36-xEO3',
      'year-timeline': 'year-timeline-pOksZIS',
      yearTimeline: 'year-timeline-pOksZIS',
      'label-space': 'label-space-31XEsX9',
      labelSpace: 'label-space-31XEsX9',
      'is-hidden': 'is-hidden-wPsH4lg',
      isHidden: 'is-hidden-wPsH4lg',
      label: 'label-3bIh1Du',
      draggable: 'draggable-2NEyVDc',
      fake: 'fake-1viD1EY',
      line: 'line-1UyK7T0',
      'event-dot': 'event-dot-uEEiKsS',
      eventDot: 'event-dot-uEEiKsS',
      'line-bg': 'line-bg-WDNa8gd',
      lineBg: 'line-bg-WDNa8gd',
      'is-active': 'is-active-1XTEYBX',
      isActive: 'is-active-1XTEYBX',
      'preview-card-modal': 'preview-card-modal-rzCSn27',
      previewCardModal: 'preview-card-modal-rzCSn27',
      'zoom-controls': 'zoom-controls-2sdYUxZ',
      zoomControls: 'zoom-controls-2sdYUxZ',
    }
  },
  function (e, t, n) {
    e.exports = {
      'history-timeline': 'history-timeline-1456jz5',
      historyTimeline: 'history-timeline-1456jz5',
      'timeline-item': 'timeline-item-3MY2zwU',
      timelineItem: 'timeline-item-3MY2zwU',
      'title-content': 'title-content-36EiHrx',
      titleContent: 'title-content-36EiHrx',
      year: 'year-34p3Jzb',
      'event-title': 'event-title-26jY5Kl',
      eventTitle: 'event-title-26jY5Kl',
      'event-description': 'event-description-3Pa5ars',
      eventDescription: 'event-description-3Pa5ars',
    }
  },
  function (e, t, n) {
    e.exports = {
      'close-button': 'close-button-1S0lSH-',
      closeButton: 'close-button-1S0lSH-',
      button: 'button-m1v-z3t',
      line: 'line-_sOGWHw',
      'is-back-button': 'is-back-button-3bRE7Ej',
      isBackButton: 'is-back-button-3bRE7Ej',
      large: 'large-23rwJdj',
    }
  },
  function (e, t, n) {
    e.exports = {
      'related-item': 'related-item-1SflcOh',
      relatedItem: 'related-item-1SflcOh',
      picture: 'picture-330aSjK',
      image: 'image-1JMRXb3',
      caption: 'caption-1s3G8DQ',
    }
  },
  function (e, t, n) {
    e.exports = {
      'page-flip-background': 'page-flip-background-hXAJkGU',
      pageFlipBackground: 'page-flip-background-hXAJkGU',
      'top-left-radius': 'top-left-radius-3fNwq7T',
      topLeftRadius: 'top-left-radius-3fNwq7T',
      front: 'front-10eu63-',
      back: 'back-2WptedA',
      'top-right-radius': 'top-right-radius-3f9y7bM',
      topRightRadius: 'top-right-radius-3f9y7bM',
      'bottom-left-radius': 'bottom-left-radius-2cWLRjb',
      bottomLeftRadius: 'bottom-left-radius-2cWLRjb',
      'bottom-right-radius': 'bottom-right-radius-1058Wtn',
      bottomRightRadius: 'bottom-right-radius-1058Wtn',
      page: 'page-1qAKrCB',
      'back-holder': 'back-holder-3kz2cBl',
      backHolder: 'back-holder-3kz2cBl',
      'flip-wrapper': 'flip-wrapper-xZ2etFO',
      flipWrapper: 'flip-wrapper-xZ2etFO',
      'is-reversed': 'is-reversed-hoDO0k7',
      isReversed: 'is-reversed-hoDO0k7',
    }
  },
  function (e, t, n) {
    e.exports = {
      'audio-player': 'audio-player-3LdjpNC',
      audioPlayer: 'audio-player-3LdjpNC',
      audio: 'audio-2mfabYO',
      'toggle-play': 'toggle-play-1fAtWGd',
      togglePlay: 'toggle-play-1fAtWGd',
      'is-playing': 'is-playing-32WYBso',
      isPlaying: 'is-playing-32WYBso',
      'progress-wrapper': 'progress-wrapper-2_IBHol',
      progressWrapper: 'progress-wrapper-2_IBHol',
      progress: 'progress-3MmveOx',
      'is-small': 'is-small-SRKAXqm',
      isSmall: 'is-small-SRKAXqm',
    }
  },
  function (e, t, n) {
    e.exports = {
      'song-player': 'song-player-2Zr2J2m',
      songPlayer: 'song-player-2Zr2J2m',
      lute: 'lute-pNCFqQQ',
      title: 'title-1WoCZlJ',
      iframe: 'iframe-yASPBoO',
      name: 'name-3fvfLyu',
    }
  },
  function (e, t, n) {
    e.exports = {
      'card-modal': 'card-modal-1dRazFI',
      cardModal: 'card-modal-1dRazFI',
      'no-image': 'no-image-1Z1GASN',
      noImage: 'no-image-1Z1GASN',
      controls: 'controls-2BZzb0b',
      'has-sticky-bar': 'has-sticky-bar-2NDm-ra',
      hasStickyBar: 'has-sticky-bar-2NDm-ra',
      'control-bar': 'control-bar-JhcuPDq',
      controlBar: 'control-bar-JhcuPDq',
      'control-title': 'control-title-3xI1pk_',
      controlTitle: 'control-title-3xI1pk_',
      'card-modal-content': 'card-modal-content-34q9--P',
      cardModalContent: 'card-modal-content-34q9--P',
      'share-button': 'share-button-2WxJs4P',
      shareButton: 'share-button-2WxJs4P',
      'scroll-wrapper': 'scroll-wrapper-2Mu5IVA',
      scrollWrapper: 'scroll-wrapper-2Mu5IVA',
      content: 'content-319w9nd',
      'related-item-list': 'related-item-list-CAJaLRX',
      relatedItemList: 'related-item-list-CAJaLRX',
      'related-item': 'related-item-3sz_QAg',
      relatedItem: 'related-item-3sz_QAg',
      picture: 'picture-2Ly0m3p',
      'heading-prefix': 'heading-prefix-DDo0gp9',
      headingPrefix: 'heading-prefix-DDo0gp9',
      title: 'title-2hrPLZj',
      headline: 'headline-1yOlvd3',
      'category-title': 'category-title-1qM2a6u',
      categoryTitle: 'category-title-1qM2a6u',
      description: 'description-2g1q8-C',
      cta: 'cta-10fjIWk',
      section: 'section-3fbbN2z',
      'reddit-share': 'reddit-share-1DHJBWg',
      redditShare: 'reddit-share-1DHJBWg',
      label: 'label-1U6CV5y',
    }
  },
  function (e, t, n) {
    e.exports = {
      'mask-overlay': 'mask-overlay-2-imFaV',
      maskOverlay: 'mask-overlay-2-imFaV',
      'cursor-close-button': 'cursor-close-button-ho69UnB',
      cursorCloseButton: 'cursor-close-button-ho69UnB',
    }
  },
  function (e, t, n) {
    e.exports = {
      carousel: 'carousel-29VMfPT',
      dot: 'dot-1Vu_UwG',
      'is-active': 'is-active-14XfnMI',
      isActive: 'is-active-14XfnMI',
    }
  },
  function (e, t, n) {
    e.exports = {
      'card-carousel': 'card-carousel-HFmP1GR',
      cardCarousel: 'card-carousel-HFmP1GR',
      draggable: 'draggable-2vRyoJ5',
      'carousel-item': 'carousel-item-3Vs4qux',
      carouselItem: 'carousel-item-3Vs4qux',
      'card-modal': 'card-modal-2NPu3Pr',
      cardModal: 'card-modal-2NPu3Pr',
      'dots-paginator': 'dots-paginator-dUCrYix',
      dotsPaginator: 'dots-paginator-dUCrYix',
    }
  },
  function (e, t, n) {
    e.exports = {
      'card-overlay': 'card-overlay-2xxQxUf',
      cardOverlay: 'card-overlay-2xxQxUf',
      carousel: 'carousel-2RYkREc',
      'cursor-close-button': 'cursor-close-button--U1D5rk',
      cursorCloseButton: 'cursor-close-button--U1D5rk',
      'mask-overlay': 'mask-overlay-1rvXIqy',
      maskOverlay: 'mask-overlay-1rvXIqy',
    }
  },
  function (e, t, n) {
    e.exports = {
      'auto-complete': 'auto-complete-3MEELDL',
      autoComplete: 'auto-complete-3MEELDL',
      'close-button': 'close-button-3gXIkyM',
      closeButton: 'close-button-3gXIkyM',
      'input-field': 'input-field-2Z0XSJo',
      inputField: 'input-field-2Z0XSJo',
      'search-icon': 'search-icon-aes46Ti',
      searchIcon: 'search-icon-aes46Ti',
      'category-list': 'category-list-YpWDpRe',
      categoryList: 'category-list-YpWDpRe',
      dropdown: 'dropdown-F_BRNE8',
      'category-item': 'category-item-k4kIoY3',
      categoryItem: 'category-item-k4kIoY3',
      category: 'category-3PQeDjO',
      label: 'label-20Me6lG',
      'result-list': 'result-list-vYcft9m',
      resultList: 'result-list-vYcft9m',
      'result-item': 'result-item-3-7xa2o',
      resultItem: 'result-item-3-7xa2o',
      'is-active': 'is-active-1S_6D5N',
      isActive: 'is-active-1S_6D5N',
      icon: 'icon-ejaTXF_',
      'creature-icon': 'creature-icon-1FQyAC3',
      creatureIcon: 'creature-icon-1FQyAC3',
      'location-icon': 'location-icon-3AO8zfu',
      locationIcon: 'location-icon-3AO8zfu',
      'event-icon': 'event-icon-2Agf8k2',
      eventIcon: 'event-icon-2Agf8k2',
      'no-results': 'no-results-2Volvmh',
      noResults: 'no-results-2Volvmh',
    }
  },
  function (e, t, n) {
    e.exports = {
      'primary-circle-button': 'primary-circle-button-rATHSfo',
      primaryCircleButton: 'primary-circle-button-rATHSfo',
      'is-active': 'is-active-2-W6jmw',
      isActive: 'is-active-2-W6jmw',
      button: 'button-3bVJqAW',
      count: 'count-3gxu1qb',
      'is-disabled': 'is-disabled-2RfnHo7',
      isDisabled: 'is-disabled-2RfnHo7',
      'cards-icon': 'cards-icon-faZzjRQ',
      cardsIcon: 'cards-icon-faZzjRQ',
      'search-icon': 'search-icon-2g3t44X',
      searchIcon: 'search-icon-2g3t44X',
      'is-hidden': 'is-hidden-19zqqqd',
      isHidden: 'is-hidden-19zqqqd',
    }
  },
  function (e, t, n) {
    e.exports = {
      'primary-button': 'primary-button-2u4GFLa',
      primaryButton: 'primary-button-2u4GFLa',
      button: 'button-2uhxaF8',
      label: 'label-IJilfVW',
    }
  },
  function (e, t, n) {
    e.exports = {
      'cookie-modal': 'cookie-modal-3MHMdHi',
      cookieModal: 'cookie-modal-3MHMdHi',
      modal: 'modal-2msOKZk',
      'modal-content': 'modal-content-1JKZuiS',
      modalContent: 'modal-content-1JKZuiS',
      content: 'content-11_BU3D',
      picture: 'picture-19A9kkg',
      'heading-prefix': 'heading-prefix-J4Gl95X',
      headingPrefix: 'heading-prefix-J4Gl95X',
      title: 'title-22UjJeW',
      description: 'description-jmY5V0u',
    }
  },
  function (e, t, n) {
    e.exports = {
      'share-card': 'share-card-1Au704m',
      shareCard: 'share-card-1Au704m',
      'card-modal': 'card-modal-2KXnbN2',
      cardModal: 'card-modal-2KXnbN2',
      picture: 'picture-2p420cC',
      header: 'header-3ECbjPu',
      content: 'content-2xKOM4E',
      'no-image': 'no-image-1mZfUmV',
      noImage: 'no-image-1mZfUmV',
      'share-options': 'share-options-GdVF3lY',
      shareOptions: 'share-options-GdVF3lY',
      'share-button': 'share-button-1z16CHJ',
      shareButton: 'share-button-1z16CHJ',
      'heading-prefix': 'heading-prefix-1CoW6ls',
      headingPrefix: 'heading-prefix-1CoW6ls',
      title: 'title-oi4rldn',
      'close-button': 'close-button-3YDuGRv',
      closeButton: 'close-button-3YDuGRv',
    }
  },
  function (e, t, n) {
    e.exports = {
      'audio-card-modal': 'audio-card-modal-HfWJ0zA',
      audioCardModal: 'audio-card-modal-HfWJ0zA',
      iframe: 'iframe-AJO63FA',
      player: 'player-2q6gIvt',
    }
  },
  function (e, t, n) {
    e.exports = {
      'home-page': 'home-page-2SkhppO',
      homePage: 'home-page-2SkhppO',
      'timeline-bar': 'timeline-bar-1PKK5oe',
      timelineBar: 'timeline-bar-1PKK5oe',
      'card-overlay': 'card-overlay-16WK8MQ',
      cardOverlay: 'card-overlay-16WK8MQ',
      'auto-complete': 'auto-complete-1Wd4koF',
      autoComplete: 'auto-complete-1Wd4koF',
      'cards-button': 'cards-button-2apMzGc',
      cardsButton: 'cards-button-2apMzGc',
      'search-button': 'search-button-3B1xB0a',
      searchButton: 'search-button-3B1xB0a',
      'close-button': 'close-button-1xEyfYR',
      closeButton: 'close-button-1xEyfYR',
      'close-up-card-model': 'close-up-card-model-fiTBHov',
      closeUpCardModel: 'close-up-card-model-fiTBHov',
    }
  },
  function (e, t, n) {
    e.exports = {
      'webgl-page': 'webgl-page-1DO0Keu',
      webglPage: 'webgl-page-1DO0Keu',
    }
  },
  function (e, t, n) {
    e.exports = {
      'menu-button': 'menu-button-3qo59eD',
      menuButton: 'menu-button-3qo59eD',
      'is-open': 'is-open-2HRg7rZ',
      isOpen: 'is-open-2HRg7rZ',
      line: 'line-N7ESpfs',
    }
  },
  function (e, t, n) {
    e.exports = {
      'logo-sequence': 'logo-sequence-3W-X-c_',
      logoSequence: 'logo-sequence-3W-X-c_',
      'logo-shield': 'logo-shield-3gmEQ8z',
      logoShield: 'logo-shield-3gmEQ8z',
      'logo-title': 'logo-title-XNkwPwQ',
      logoTitle: 'logo-title-XNkwPwQ',
    }
  },
  function (e, t, n) {
    e.exports = {
      'scroll-content': 'scroll-content-2IkdAuN',
      scrollContent: 'scroll-content-2IkdAuN',
      'scroll-wrapper': 'scroll-wrapper-39th8VZ',
      scrollWrapper: 'scroll-wrapper-39th8VZ',
      'close-button': 'close-button-2img4l_',
      closeButton: 'close-button-2img4l_',
      'header-image': 'header-image-BJBAsvf',
      headerImage: 'header-image-BJBAsvf',
      'logo-sequence': 'logo-sequence-1pYynL1',
      logoSequence: 'logo-sequence-1pYynL1',
      picture: 'picture-3JBOZ-G',
      content: 'content-PSW2y-J',
      description: 'description-vZtRbPY',
      menu: 'menu-15KehJO',
      'menu-list': 'menu-list-2rGMzJ8',
      menuList: 'menu-list-2rGMzJ8',
      'menu-list-item': 'menu-list-item-1hmxKNl',
      menuListItem: 'menu-list-item-1hmxKNl',
      'menu-label': 'menu-label-EOgM4j2',
      menuLabel: 'menu-label-EOgM4j2',
      'menu-button': 'menu-button-bn1UAgG',
      menuButton: 'menu-button-bn1UAgG',
      footer: 'footer-3zqYmIn',
      'footer-navigation': 'footer-navigation-d898uBl',
      footerNavigation: 'footer-navigation-d898uBl',
      'logo-netflix': 'logo-netflix-1Xt6_R7',
      logoNetflix: 'logo-netflix-1Xt6_R7',
      follow: 'follow-1VEW9hR',
      social: 'social-2wB6Ulh',
      instagram: 'instagram-_DH86Ch',
      facebook: 'facebook-2-aL7xj',
    }
  },
  function (e, t, n) {
    e.exports = {
      'privacy-panel': 'privacy-panel-GSTEwCp',
      privacyPanel: 'privacy-panel-GSTEwCp',
      content: 'content-1ueSGMX',
      'close-button': 'close-button-2PN0jeJ',
      closeButton: 'close-button-2PN0jeJ',
      'back-button': 'back-button-1YyT7CC',
      backButton: 'back-button-1YyT7CC',
    }
  },
  function (e, t, n) {
    e.exports = {
      'language-panel': 'language-panel-1GgS4Ay',
      languagePanel: 'language-panel-1GgS4Ay',
      content: 'content-2PY0BLe',
      'close-button': 'close-button-3WDrRH2',
      closeButton: 'close-button-3WDrRH2',
      'back-button': 'back-button-2LJxQtp',
      backButton: 'back-button-2LJxQtp',
      'heading-prefix': 'heading-prefix-ua2WTC9',
      headingPrefix: 'heading-prefix-ua2WTC9',
      list: 'list-3fjKzw7',
      'list-item': 'list-item-1h-mhl3',
      listItem: 'list-item-1h-mhl3',
      button: 'button-bbtncGL',
      'is-active': 'is-active-1XiDBPk',
      isActive: 'is-active-1XiDBPk',
    }
  },
  function (e, t, n) {
    e.exports = {
      'side-panel': 'side-panel-7HGHF9s',
      sidePanel: 'side-panel-7HGHF9s',
      'mask-overlay': 'mask-overlay-2AFEaJu',
      maskOverlay: 'mask-overlay-2AFEaJu',
      panel: 'panel-zaRKkG8',
      'page-flip': 'page-flip-2Z5rxn7',
      pageFlip: 'page-flip-2Z5rxn7',
      content: 'content-2rJG9z4',
    }
  },
  function (e, t, n) {
    e.exports = { fact: 'fact-2I56RYT' }
  },
  function (e, t, n) {
    e.exports = {
      preloader: 'preloader-1OORNPA',
      background: 'background-3iANM69',
      content: 'content-3ZSazCU',
      'logo-sequence': 'logo-sequence-gUPCPC7',
      logoSequence: 'logo-sequence-gUPCPC7',
      'logo-netflix': 'logo-netflix-2A5BBJe',
      logoNetflix: 'logo-netflix-2A5BBJe',
      'heading-prefix': 'heading-prefix-1J7Z7KM',
      headingPrefix: 'heading-prefix-1J7Z7KM',
      'tip-shuffler': 'tip-shuffler-26jJu-z',
      tipShuffler: 'tip-shuffler-26jJu-z',
    }
  },
  function (e, t, n) {
    e.exports = {
      app: 'app-eX7W9uA',
      background: 'background-y8YyH6-',
      page: 'page-hlA_4Jb',
      'menu-button': 'menu-button-om2OTwc',
      menuButton: 'menu-button-om2OTwc',
      'cookie-modal': 'cookie-modal-1vnKAF9',
      cookieModal: 'cookie-modal-1vnKAF9',
      'side-panel': 'side-panel-20BGn8I',
      sidePanel: 'side-panel-20BGn8I',
      preloader: 'preloader-2yPodsA',
    }
  },
  function (e, t, n) {
    'use strict'
    var i = n(146),
      a = n.n(i),
      r = n(276),
      s = n.n(r),
      o = n(16),
      l = n.n(o),
      u = n(17),
      c = n(6),
      d = n(575),
      h = n.n(d),
      f = n(0),
      p = n.n(f),
      v = n(1),
      m = n.n(v),
      _ = n(4),
      g = n.n(_),
      y = n(2),
      T = n.n(y),
      E = n(10),
      b = n.n(E),
      C = n(5),
      A = n.n(C),
      I = n(9),
      k = n(21),
      R = n.n(k),
      M = n(73),
      x = n.n(M),
      S = (function (e) {
        function t() {
          return p()(this, t), g()(this, T()(t).apply(this, arguments))
        }
        return (
          A()(t, e),
          m()(t, [
            {
              key: 'transitionIn',
              value: function (e) {
                return (
                  this.setupTimeline(x.a.IN, !0),
                  b()(T()(t.prototype), 'transitionIn', this).call(this, e)
                )
              },
            },
            {
              key: 'setupTransitionInTimeline',
              value: function (e, t, n) {
                var i = t.$refs.modalBackground
                i.transitionController.setupTimeline(x.a.IN),
                  e.add(this.getTimeline(i, R.a.IN), 0),
                  e.add(this.getTimeline(t.$refs.closeButton), 0),
                  t.meta &&
                    t.$refs.imageMaskSequence &&
                    e.add(function () {
                      return t.$refs.imageMaskSequence.transitionIn()
                    }, 0)
              },
            },
            {
              key: 'setupTransitionOutTimeline',
              value: function (e, t, n) {
                if (t.meta && t.$refs.imageMaskSequence) {
                  var i = t.spriteSequences.AVATAR_MASK_OUT
                  e.add(function () {
                    return t.$refs.imageMaskSequence.transitionOut()
                  }, 0),
                    e.add(function () {}, i.frameCount / i.fps)
                }
                e.add(function () {}, 0.4),
                  e.to(
                    t.$el,
                    0.2,
                    { autoAlpha: 0, ease: I.Linear.easeNone },
                    '-=0.2'
                  )
              },
            },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {},
            },
          ]),
          t
        )
      })(c.AbstractTransitionController),
      w = n(74).a,
      P = n(75).a,
      O = n(46).a,
      L = n(27),
      F = n(56),
      N = n(35),
      D = n(38),
      B = {
        FACEBOOK: 'facebook',
        TWITTER: 'twitter',
        MESSENGER: 'messenger',
        WHATSAPP: 'whatsapp',
        COPY_LINK: 'copy',
      },
      U = { FACEBOOK: 'facebook', TWITTER: 'twitter', COPY_LINK: 'copy' },
      V = {
        name: 'ShareCard',
        components: {
          ModalBackground: w,
          ImageMaskSequence: P,
          HeadingPrefix: F.a,
          CloseButton: O,
        },
        extends: c.AbstractTransitionComponent,
        data: function () {
          return { spriteSequences: L.b, ShareOptions: D.a ? U : B }
        },
        computed: l()(
          {},
          Object(u.d)({
            deviceState: function (e) {
              return e.app.deviceState
            },
            shareId: function (e) {
              return e.app.shareId
            },
          }),
          {
            meta: function () {
              var e = null
              return (
                this.shareId && (e = this.$cardModel.getItemById(this.shareId)),
                e
                  ? this.$cardModel.getDataForTypeAndId(
                      e.cardType,
                      this.shareId
                    )
                  : null
              )
            },
            content: function () {
              return l()(
                {},
                this.$store.getters.translation[this.meta.cardType][
                  this.shareId
                ]
              )
            },
          }
        ),
        watch: {
          shareId: function (e) {
            var t = this
            e &&
              this.$nextTick(function () {
                return t.transitionIn(!0)
              })
          },
        },
        methods: l()({}, Object(u.c)({ setShareId: N.f }), {
          handleAllComponentsReady: function () {
            ;(this.transitionController = new S(this)), this.isReady()
          },
          onCloseClick: (function () {
            var e = s()(
              a.a.mark(function e() {
                return a.a.wrap(
                  function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return (e.next = 2), this.transitionOut(!0)
                        case 2:
                          this.$refs.modalBackground.transitionController.maskContent(),
                            this.setShareId(null)
                        case 4:
                        case 'end':
                          return e.stop()
                      }
                  },
                  e,
                  this
                )
              })
            )
            return function () {
              return e.apply(this, arguments)
            }
          })(),
          onShareClick: function (e) {
            var t = document.location.href
            switch (e) {
              case B.FACEBOOK:
                window.open(
                  'https://www.facebook.com/sharer/sharer.php?u='.concat(
                    encodeURIComponent(t)
                  )
                )
                break
              case B.TWITTER:
                window.open(
                  'http://twitter.com/share?&url='.concat(encodeURIComponent(t))
                )
                break
              case B.MESSENGER:
                window.open(
                  'fb-messenger://share?link='
                    .concat(encodeURIComponent(t), '&app_id=')
                    .concat(encodeURIComponent(123))
                )
                break
              case B.WHATSAPP:
                window.open(
                  'whatsapp://send?text='.concat(encodeURIComponent(t))
                )
                break
              case B.COPY_LINK:
                h()(t)
            }
          },
        }),
      }
    t.a = V
  },
  function (e, t, n) {
    'use strict'
    var i = n(13),
      a = n.n(i),
      r = n(16),
      s = n.n(r),
      o = n(6),
      l = n(20),
      u = n(28),
      c = n(17),
      d = n(9),
      h = n(0),
      f = n.n(h),
      p = n(1),
      v = n.n(p),
      m = n(4),
      _ = n.n(m),
      g = n(2),
      y = n.n(g),
      T = n(5),
      E = n.n(T),
      b = n(21),
      C = n.n(b),
      A = (function (e) {
        function t() {
          return f()(this, t), _()(this, y()(t).apply(this, arguments))
        }
        return (
          E()(t, e),
          v()(t, [
            {
              key: 'showTopControl',
              value: function () {
                var e = this.parentController.$refs.searchButton.$el,
                  t = this.parentController.$refs.cardsButton.$el,
                  n = new d.TimelineMax()
                n.fromTo([e, t], 0.1, { autoAlpha: 0 }, { autoAlpha: 1 }, 0),
                  n.staggerFromTo(
                    [e, t],
                    0.8,
                    { yPercent: -140 },
                    { yPercent: 0, ease: d.Power2.easeOut },
                    0.1,
                    0.1
                  )
              },
            },
            {
              key: 'hideTopControl',
              value: function () {
                var e = this.parentController.$refs.searchButton.$el,
                  t = this.parentController.$refs.cardsButton.$el
                new d.TimelineMax().staggerTo(
                  [e, t],
                  0.8,
                  { autoAlpha: 0 },
                  0,
                  0
                )
              },
            },
            {
              key: 'setupTransitionInTimeline',
              value: function (e, t, n) {
                var i = t.$refs.searchButton.$el,
                  a = t.$refs.cardsButton.$el
                e.add(this.getTimeline('timelineBar', C.a.IN), 0),
                  e.add(this.getTimeline('closeButton', C.a.OUT), 0),
                  e.fromTo([i, a], 0.1, { autoAlpha: 0 }, { autoAlpha: 1 }, 0),
                  e.staggerFromTo(
                    [i, a],
                    0.8,
                    { yPercent: -140 },
                    { yPercent: 0, ease: d.Power2.easeOut },
                    0.1,
                    0.1
                  )
              },
            },
            {
              key: 'moveTimelineBar',
              value: function (e) {
                var t
                d.TweenLite.to(
                  this.parentController.$refs.timelineBar.$el,
                  0.8,
                  ((t = {}),
                  a()(
                    t,
                    this.parentController.$isRtl ? 'right' : 'left',
                    e
                      ? this.parentController.$refs.cardOverlay.$el.offsetWidth
                      : 0
                  ),
                  a()(t, 'ease', e ? d.Power2.easeInOut : d.Power2.easeOut),
                  t)
                )
              },
            },
            {
              key: 'setupTransitionOutTimeline',
              value: function (e, t, n) {
                var i = this,
                  a = t.$refs.searchButton.$el,
                  r = t.$refs.cardsButton.$el
                e.add(function () {
                  i.getComponent('timelineBar').transitionOut(!0)
                }, 0),
                  e.add(this.getTimeline('closeButton', C.a.IN), 0),
                  e.staggerTo([a, r], 0.8, { autoAlpha: 0 }, 0, 0)
              },
            },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {},
            },
          ]),
          t
        )
      })(o.AbstractTransitionController),
      I = n(558),
      k = n(33),
      R = n(560),
      M = [
        0,
        500,
        750,
        800,
        850,
        950,
        1e3,
        1100,
        1150,
        1175,
        1200,
        1205,
        1210,
        1215,
        1220,
        1225,
        1230,
        1235,
        1240,
        1245,
        1250,
        1255,
        1260,
        1261,
        1262,
        1275,
        1400,
        1410,
        1420,
        1500,
        1600,
        1700,
      ],
      x = function (e) {
        var t = [].concat(M),
          n = {}
        e.forEach(function (e) {
          n[e.date] || (n[e.date] = []), n[e.date].push(e)
        })
        var i = function (e) {
          var n = t.findIndex(function (t) {
            return t > e
          })
          t.splice(n, 0, e)
        }
        return (
          Object.keys(n).forEach(function (e) {
            if (n[e].length > 1) {
              var a = Number(e)
              ;-1 === t.indexOf(a) && i(a), -1 === t.indexOf(a + 1) && i(a + 1)
            }
          }),
          t
        )
      },
      S = n(568),
      w = n(31),
      P = n(35),
      O = n(571),
      L = n(58),
      F = n(572),
      N = n(25),
      D = n(574),
      B = n(107),
      U = n(46),
      V = n(40),
      $ = n(576),
      z = n(45),
      G = {
        name: 'HomePage',
        components: {
          TimelineBar: I.a,
          CardOverlay: R.a,
          AutoComplete: S.a,
          PrimaryCircleButton: O.a,
          CookieModal: F.a,
          ShareCard: D.a,
          CloseButton: U.a,
          PreviewCardModal: V.a,
          AudioCardModal: $.a,
        },
        extends: o.AbstractPageTransitionComponent,
        data: function () {
          return {
            mainCharacterId: k.b,
            timeline: x(this.$eventModel.getArrayOfItems()),
            events: this.$eventModel.getArrayOfItems(),
            cardId: null,
            searchItems: [],
            closeupId: null,
            closeupCardState: V.b.MINIMIZED,
            audioCloseUpId: k.a.C17,
          }
        },
        computed: s()(
          {},
          Object(c.d)({
            deviceState: function (e) {
              return e.app.deviceState
            },
            cardModusIsOpen: function (e) {
              return e.app.cardModusIsOpen
            },
            searchIsVisible: function (e) {
              return e.app.searchIsVisible
            },
            openCards: function (e) {
              return e.user.openCards
            },
            cookiesAccepted: function (e) {
              return e.user.cookiesAccepted
            },
          }),
          Object(c.b)({ cardModusEnabled: P.a }),
          Object(c.b)(['currentLanguage']),
          {
            isDesktopContentMoved: function () {
              return (
                this.cardModusIsOpen &&
                this.deviceState > this.DeviceState.XSMALL
              )
            },
          }
        ),
        watch: {
          cardId: function (e) {
            var t = this
            this.allComponentsReady.then(function () {
              t.pageTransitionInPromise.then(function () {
                if (e) {
                  var n = t.$cardModel.getItemById(e)
                  t.deviceState >= t.DeviceState.SMALL &&
                    (n.cardType === w.a.event
                      ? t.$refs.timelineBar.gotoEvent(n.id)
                      : t.$webgl.handleCard(n.id, n.cardType)),
                    t.$refs.cardOverlay.transitionController.isHidden &&
                      (t.deviceState < t.DeviceState.SMALL
                        ? t.$refs.timelineBar.transitionOut().then(function () {
                            t.$refs.cardOverlay.transitionIn()
                          })
                        : (t.transitionController.moveTimelineBar(!0),
                          t.$emit(
                            'moveMap',
                            t.$refs.cardOverlay.$el.offsetWidth
                          ),
                          t.$refs.cardOverlay.transitionIn(),
                          t.$refs.timelineBar.minimizePreviewCard()))
                } else t.$refs.cardOverlay.transitionController.isHidden || (t.$refs.cardOverlay.transitionOut(), t.deviceState < t.DeviceState.SMALL ? t.$refs.timelineBar.transitionIn() : (t.$emit('moveMap', 0), t.transitionController.moveTimelineBar(!1)))
              })
            })
          },
          searchIsVisible: function (e) {
            e
              ? this.$refs.autoComplete.transitionIn()
              : this.$refs.autoComplete.transitionOut()
          },
          currentLanguage: function () {
            var e = this
            setTimeout(function () {
              e.setSearchItems()
            }, 200)
          },
          closeupId: function (e) {
            e
              ? (this.transitionController.hideTopControl(),
                this.$refs.closeButton.transitionIn(!0),
                this.addCloseKeyEvent())
              : (this.transitionController.showTopControl(),
                this.$refs.closeButton.transitionOut(!0),
                this.removeCloseKeyEvent())
          },
        },
        beforeRouteUpdate: function (e, t, n) {
          this.updateCardId(e), n()
        },
        created: function () {
          var e = this
          this.hijackTransitionIn().then(function (t) {
            e.transitionInReleaseMethod = t
          }),
            (this.disposableManager = new u.DisposableManager()),
            (this.pageTransitionInPromise = new Promise(function (t) {
              e.pageTransitionInResolveMethod = t
            })),
            this.deviceState >= this.DeviceState.SMALL &&
              this.$store.commit(P.e, !0),
            this.$route.params[this.Params.CARD_ID] &&
              (this.openCardOnLanding = !0),
            this.updateCardId(this.$route),
            this.setSearchItems()
        },
        beforeDestroy: function () {
          this.disposableManager && this.disposableManager.dispose(),
            this.clearDragEndTimeout()
        },
        methods: {
          setSearchItems: function () {
            var e = this
            this.searchItems = this.$cardModel
              .getArrayOfItems()
              .map(function (t) {
                return s()({}, t, {
                  title: e.$t(
                    ''.concat(t.cardType, '.').concat(t.id, '.title')
                  ),
                })
              })
              .filter(function (e) {
                return e.id !== k.a.C0 && e.id !== L.a.E44
              })
          },
          hideSearch: function () {
            this.$store.commit(P.e, !1)
          },
          handleSearchToggle: function () {
            this.$store.commit(P.e, !this.searchIsVisible)
          },
          handleCardsToggle: function () {
            this.cardModusIsOpen
              ? this.closeCards()
              : this.openCards.length > 0 &&
                this.openCardId(this.openCards[this.openCards.length - 1])
          },
          onSearchUpdate: function (e) {
            var t = e.value,
              n = t.id
            t.cardType !== w.a.event
              ? this.openCardId(n)
              : n && (this.closeCards(), this.$refs.timelineBar.gotoEvent(n)),
              this.deviceState < this.DeviceState.SMALL && this.hideSearch()
          },
          openCardId: function (e) {
            this.$router.push({
              params: a()(
                {},
                this.Params.CARD_ID,
                this.$cardModel.getItemById(e).slug
              ),
            })
          },
          closeCards: function () {
            this.$router.push({ params: a()({}, this.Params.CARD_ID, null) })
          },
          onCloseClick: function () {
            this.closeupId ? this.$webgl.zoom(!1) : this.restartExperience()
          },
          onTimelineCardClick: function (e) {
            this.openCardId(e)
          },
          onTimelineEventUpdate: function (e) {
            this.$webgl.gotoEventOnMap(e),
              e === L.a.E44 && (this.endExperience(), this.addCloseKeyEvent())
          },
          updateCardId: function (e) {
            ;(this.cardId = this.$cardModel.getIdBySlug(
              e.params[this.Params.CARD_ID]
            )),
              this.$store.commit(P.b, !!this.cardId)
          },
          handleTransitionInComplete: function () {
            if (this.pageTransitionInResolveMethod) {
              this.$route.params[this.Params.CARD_ID] ||
                this.$refs.timelineBar.gotoEvent(L.a.E23, 2, d.Power2.easeInOut)
              var e = this.$route.hash.replace('#', ''),
                t = this.$cardModel.getItemBySlug(e)
              e &&
                t &&
                Object.values(z.a).includes(t.id) &&
                this.$webgl.gotoCloseupAnimation(t.id),
                this.pageTransitionInResolveMethod(),
                (this.pageTransitionInResolveMethod = null),
                this.disposableManager.add(
                  new l.DisposableEventListener(
                    this.$webgl,
                    N.a.types.ON_MAP_DRAG_START,
                    this.handleOnMapDragStart.bind(this)
                  )
                ),
                this.disposableManager.add(
                  new l.DisposableEventListener(
                    this.$webgl,
                    N.a.types.ON_MAP_DRAG_END,
                    this.handleOnMapDragEnd.bind(this)
                  )
                ),
                this.disposableManager.add(
                  new l.DisposableEventListener(
                    this.$webgl,
                    N.a.types.ENTER_CLOSEUP_ANIMATION,
                    this.handleEnterCloseupAnimation.bind(this)
                  )
                ),
                this.disposableManager.add(
                  new l.DisposableEventListener(
                    this.$webgl,
                    N.a.types.LEAVE_CLOSEUP_ANIMATION,
                    this.handleLeaveCloseupAnimation.bind(this)
                  )
                ),
                this.disposableManager.add(
                  new l.DisposableEventListener(
                    this.$webgl,
                    N.a.types.ON_LOCATION_CLICK,
                    this.handleOnHotspotClick.bind(this)
                  )
                )
            }
          },
          onCookieAccept: function () {
            this.$store.commit(B.a),
              this.$refs.cookieModal.transitionOut(),
              d.TweenLite.delayedCall(0.5, this.transitionInReleaseMethod)
          },
          handleAllComponentsReady: function () {
            ;(this.transitionController = new A(this)),
              this.disposableManager.add(
                new l.DisposableEventListener(
                  this.transitionController,
                  o.TransitionEvent.types.TRANSITION_IN_COMPLETE,
                  this.handleTransitionInComplete.bind(this)
                )
              ),
              this.cookiesAccepted
                ? d.TweenLite.delayedCall(1.2, this.transitionInReleaseMethod)
                : this.$refs.cookieModal.transitionIn(),
              this.$route.params[this.Params.CARD_ID] ||
                this.$refs.timelineBar.setEvent(L.a.E15),
              this.isReady()
          },
          handleOnMapDragStart: function () {
            ;(this.isDragging = !0),
              this.$refs.timelineBar.transitionController.moveBarDown()
          },
          handleOnMapDragEnd: function () {
            var e = this
            ;(this.isDragging = !1),
              this.clearDragEndTimeout(),
              (this.dragEndTimeout = setTimeout(function () {
                e.isDragging ||
                  e.$refs.timelineBar.transitionController.moveBarBack()
              }, 750))
          },
          clearDragEndTimeout: function () {
            this.dragEndTimeout &&
              (clearTimeout(this.dragEndTimeout), (this.dragEndTimeout = null))
          },
          handleTimelineBarReady: function (e) {
            this.$webgl.setTimelineBarElement(e.$el)
          },
          endExperience: function () {
            this.hideSearch(), this.closeCards(), this.transitionOut(!0)
          },
          restartExperience: function () {
            var e = this
            this.$refs.timelineBar.gotoEvent(L.a.E23, 2, d.Power2.easeInOut),
              (this.$refs.timelineBar.isTransitionFromHidden = !0),
              d.TweenLite.delayedCall(1, function () {
                e.transitionIn(!0),
                  e.deviceState >= e.DeviceState.SMALL &&
                    e.$store.commit(P.e, !0)
              }),
              this.removeCloseKeyEvent()
          },
          handleEnterCloseupAnimation: function (e) {
            var t = this
            this.closeCards(),
              this.$refs.timelineBar.transitionOut(!0).then(function () {
                t.maximizeCloseupCard(e.data.hotspotId)
              })
          },
          handleLeaveCloseupAnimation: function () {
            var e = this,
              t = this.$refs.closeupCard || this.$refs.audioCloseupCard
            t &&
              t.transitionOut(!0).then(function () {
                ;(e.closeupId = null),
                  (!e.cardModusEnabled ||
                    (e.cardModusEnabled && !e.cardModusIsOpen)) &&
                    e.$refs.timelineBar.transitionIn()
              })
          },
          handleOnHotspotClick: function (e) {
            var t = e.data,
              n = this.$locationModel.getSlugById(t.locationId)
            n && this.$router.push({ params: a()({}, this.Params.CARD_ID, n) })
          },
          maximizeCloseupCard: function (e) {
            var t = this
            this.minimizeCloseupCard().then(function () {
              ;(t.closeupId = e),
                (t.transitionOutPromise = null),
                t.$nextTick(function () {
                  t.closeupCardState = V.b.MAXIMIZED
                  var e = t.$refs.closeupCard || t.$refs.audioCloseupCard
                  e && e.transitionIn()
                })
            })
          },
          minimizeCloseupCard: function () {
            var e = this
            return this.transitionOutPromise
              ? this.transitionOutPromise
              : ((this.transitionOutPromise = new Promise(function (t) {
                  e.$refs.closeupCard
                    ? ((e.closeupCardState = V.b.MINIMIZED),
                      e.$refs.closeupCard
                        .transitionOut(!1, null, !0)
                        .then(function () {
                          return t()
                        }))
                    : e.$refs.audioCloseupCard
                    ? e.$refs.audioCloseupCard
                        .transitionOut(!0)
                        .then(function () {
                          return t()
                        })
                    : t()
                })),
                this.transitionOutPromise)
          },
          onCloseupCardClick: function () {
            if (this.closeupCardState === V.b.MAXIMIZED) {
              this.openCardId(this.closeupId)
              var e = this.$cardModel.getItemById(this.closeupId)
              this.$webgl.handleCard(e.id, e.cardType)
            } else this.maximizeCloseupCard(this.closeupId)
          },
          handleComponentReady: function () {},
          addCloseKeyEvent: function () {
            var e = this
            this.closeKeyEvent ||
              (this.closeKeyEvent = new l.DisposableEventListener(
                document,
                'keyup',
                function (t) {
                  27 === t.keyCode && e.onCloseClick()
                }
              ))
          },
          removeCloseKeyEvent: function () {
            this.closeKeyEvent &&
              (this.closeKeyEvent.dispose(), (this.closeKeyEvent = null))
          },
        },
      }
    t.a = G
  },
  function (e, t, n) {
    'use strict'
    var i = n(16),
      a = n.n(i),
      r = n(7),
      s = n(6),
      o = n(0),
      l = n.n(o),
      u = n(1),
      c = n.n(u),
      d = n(4),
      h = n.n(d),
      f = n(2),
      p = n.n(f),
      v = n(5),
      m = n.n(v),
      _ = (function (e) {
        function t() {
          return l()(this, t), h()(this, p()(t).apply(this, arguments))
        }
        return (
          m()(t, e),
          c()(t, [
            { key: 'setupTransitionInTimeline', value: function (e, t, n) {} },
            { key: 'setupTransitionOutTimeline', value: function (e, t, n) {} },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {},
            },
          ]),
          t
        )
      })(s.AbstractTransitionController),
      g = {
        name: 'SongPlayer',
        components: { AudioPlayer: n(277).a },
        props: { id: r.default.string.isRequired },
        extends: s.AbstractTransitionComponent,
        computed: {
          meta: function () {
            return this.$soundModel.getItemById(this.id)
          },
          content: function () {
            return this.meta
              ? a()({}, this.$store.getters.translation.audio[this.id])
              : null
          },
        },
        methods: {
          handleAllComponentsReady: function () {
            ;(this.transitionController = new _(this)), this.isReady()
          },
        },
      }
    t.a = g
  },
  function (e, t, n) {
    'use strict'
    var i = n(16),
      a = n.n(i),
      r = n(282),
      s = n.n(r),
      o = n(281),
      l = n(6),
      u = n(17),
      c = n(9),
      d = n(35),
      h = n(0),
      f = n.n(h),
      p = n(1),
      v = n.n(p),
      m = n(4),
      _ = n.n(m),
      g = n(2),
      y = n.n(g),
      T = n(5),
      E = n.n(T),
      b = n(21),
      C = n.n(b),
      A = (function (e) {
        function t() {
          return f()(this, t), _()(this, y()(t).apply(this, arguments))
        }
        return (
          E()(t, e),
          v()(t, [
            {
              key: 'setupTransitionInTimeline',
              value: function (e, t, n) {
                e.add(this.getTimeline('menuButton', C.a.IN), 0)
              },
            },
            { key: 'setupTransitionOutTimeline', value: function (e, t, n) {} },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {},
            },
          ]),
          t
        )
      })(l.AbstractTransitionController),
      I = n(584),
      k = n(283),
      R = n(588),
      M = 'UA-154139718-1'
    function x(e, t) {
      gtag('config', M, { page_title: e, page_path: t })
    }
    var S = n(279),
      w = {
        name: 'App',
        components: { MenuButton: I.a, SidePanel: k.b, Preloader: R.a },
        extends: l.AbstractTransitionComponent,
        data: function () {
          return { applicationLoaded: !1 }
        },
        computed: a()(
          {},
          Object(u.d)({
            deviceState: function (e) {
              return e.app.deviceState
            },
            menuIsOpen: function (e) {
              return e.app.menuIsOpen
            },
            cardModusIsOpen: function (e) {
              return e.app.cardModusIsOpen
            },
          }),
          Object(u.b)(['currentLanguage']),
          {
            isDesktopContentMoved: function () {
              return (
                this.cardModusIsOpen &&
                this.deviceState > this.DeviceState.XSMALL
              )
            },
            dirClass: function () {
              return this.$isRtl ? 'rtl' : 'ltr'
            },
          }
        ),
        watch: {
          $route: function (e) {
            var t = e.name,
              n = e.path
            x(e.params[this.Params.CARD_ID] ? 'detail' : t, n)
          },
          menuIsOpen: function (e) {
            e
              ? (this.$refs.sidePanel.transitionIn(
                  !0,
                  this.externalMenuPanelState
                ),
                (this.externalMenuPanelState = null))
              : this.$refs.sidePanel.transitionOut()
          },
        },
        created: function () {
          var e = this
          ;(this.externalMenuPanelState = null),
            this.$eventBus.$on(S.a, function (t) {
              ;(e.externalMenuPanelState = t), e.$store.commit(d.d, !0)
            }),
            this.$deviceStateTracker.addEventListener(
              o.DeviceStateEvent.STATE_UPDATE,
              this.handleDeviceStateUpdate
            ),
            this.setDeviceState(this.$deviceStateTracker.currentState),
            (this.preloaderAnimationCompleted = new Promise(function (t) {
              e.preloaderAnimationCompletedResolver = t
            })),
            this.$appPreloader.setLocale(this.currentLanguage.code),
            'true' === this.$route.query.clear &&
              (localStorage.removeItem('vuex'),
              (window.location.href = ''
                .concat(window.location.protocol, '//')
                .concat(window.location.host))),
            this.disablePinch()
          var t = this.$route,
            n = t.name,
            i = t.path
          x(t.params[this.Params.CARD_ID] ? 'detail' : n, i)
        },
        mounted: function () {
          this.$webgl.setup(this.$refs.background, this.$deviceStateTracker),
            this.loadApplication()
        },
        methods: a()({}, Object(u.c)({ setDeviceState: d.c }), {
          handleMoveMap: function (e) {
            c.TweenLite.to(this.$refs.background, e ? 1.2 : 0.8, {
              x: (e ? e / 2 : 0) * (this.$isRtl ? -1 : 1),
              ease: e ? c.Power2.easeInOut : c.Power2.easeOut,
            })
          },
          loadApplication: function () {
            var e = this
            this.$appPreloader.start().then(function () {
              return e.handleApplicationLoaded()
            })
          },
          onLeave: function (e, t) {
            l.FlowManager.transitionOut
              .then(function () {
                return l.FlowManager.done()
              })
              .then(t)
          },
          handleDeviceStateUpdate: function (e) {
            this.setDeviceState(e.data.state)
          },
          onMenuButtonClick: function () {
            this.$store.commit(d.d, !this.menuIsOpen)
          },
          closeSidePanel: function () {
            this.$store.commit(d.d, !1)
          },
          onPreloaderAnimationCompleted: function () {
            this.preloaderAnimationCompletedResolver()
          },
          handleApplicationLoaded: function () {
            var e = this
            this.preloaderAnimationCompleted.then(function () {
              ;(e.applicationLoaded = !0),
                e.transitionIn(),
                e.$webgl.hidePreloader(),
                e.$refs.preloader.transitionOut().then(function () {})
            })
          },
          handlePreloaderReady: function (e) {
            e.transitionIn()
          },
          handleAllComponentsReady: function () {
            ;(this.transitionController = new A(this)), this.isReady()
          },
          disablePinch: function () {
            ;(this.hammer = new s.a(document.body)),
              this.hammer.get('pinch').set({ enable: !0 }),
              this.hammer.on('pinch', function (e) {
                return e.preventDefault()
              })
          },
        }),
      }
    t.a = w
  },
  function (e, t, n) {
    'use strict'
    var i = n(146),
      a = n.n(i),
      r = n(276),
      s = n.n(r),
      o = n(16),
      l = n.n(o),
      u = n(7),
      c = n(6),
      d = n(17),
      h = n(28),
      f = n(104),
      p = n(20),
      v = n(0),
      m = n.n(v),
      _ = n(1),
      g = n.n(_),
      y = n(4),
      T = n.n(y),
      E = n(2),
      b = n.n(E),
      C = n(10),
      A = n.n(C),
      I = n(5),
      k = n.n(I),
      R = n(9),
      M = n(73),
      x = n.n(M),
      S = n(21),
      w = n.n(S),
      P = (function (e) {
        function t() {
          return m()(this, t), T()(this, b()(t).apply(this, arguments))
        }
        return (
          k()(t, e),
          g()(t, [
            {
              key: 'transitionIn',
              value: function (e) {
                return (
                  (this.isHidden = !0),
                  this.parentController.resetTimeline &&
                    this.setupTimeline(x.a.IN, !0),
                  A()(b()(t.prototype), 'transitionIn', this).call(this, !0)
                )
              },
            },
            {
              key: 'showContent',
              value: function () {
                var e = this,
                  t =
                    arguments.length > 0 &&
                    void 0 !== arguments[0] &&
                    arguments[0]
                return new Promise(function (n) {
                  var i = new R.TimelineMax({
                    onComplete: function () {
                      return n()
                    },
                  })
                  e.parentController.$refs.content &&
                    (i.fromTo(
                      e.parentController.$refs.content,
                      0.4,
                      { opacity: 0 },
                      { opacity: 1, ease: R.Linear.easeNone },
                      t ? 0 : 0.4
                    ),
                    e.parentController.image &&
                    e.parentController.$refs.imageMaskSequence
                      ? (i.add(
                          function () {
                            return e.parentController.$refs.imageMaskSequence.transitionIn()
                          },
                          t ? 0 : 0.3
                        ),
                        i.fromTo(
                          e.parentController.$refs.content,
                          0.1,
                          { pointerEvents: 'none' },
                          { pointerEvents: 'all' },
                          (t ? 0 : 0.3) +
                            e.parentController.$refs.imageMaskSequence.getDuration(
                              w.a.IN
                            )
                        ))
                      : i.fromTo(
                          e.parentController.$refs.content,
                          0.1,
                          { pointerEvents: 'none' },
                          { pointerEvents: 'all' },
                          0
                        ))
                })
              },
            },
            {
              key: 'hideContent',
              value: function () {
                var e = this
                return new Promise(function (t) {
                  var n = new R.TimelineMax({
                    onComplete: function () {
                      return t()
                    },
                  })
                  e.parentController.$refs.content &&
                    (n.to(
                      e.parentController.$refs.content,
                      0.3,
                      { opacity: 0, ease: R.Linear.easeNone },
                      0
                    ),
                    e.parentController.image &&
                      e.parentController.$refs.imageMaskSequence &&
                      (n.add(function () {
                        return e.parentController.$refs.imageMaskSequence.transitionOut()
                      }, 0),
                      n.to(
                        e.parentController.$refs.content,
                        e.parentController.$refs.imageMaskSequence.getDuration(
                          w.a.OUT
                        ),
                        { pointerEvents: 'none' },
                        0
                      )))
                })
              },
            },
            {
              key: 'setupTransitionInTimeline',
              value: function (e, t, n) {
                t.$refs.wrapper.transitionController.setupTimeline(
                  x.a.IN,
                  !0,
                  n
                ),
                  e.add(this.getTimeline('wrapper', w.a.IN), 0),
                  t.$refs.content &&
                    (e.fromTo(
                      t.$refs.content,
                      0.6,
                      { opacity: 0 },
                      { opacity: 1, ease: R.Linear.easeNone },
                      0.6
                    ),
                    t.image && t.$refs.imageMaskSequence
                      ? (e.add(function () {
                          return t.$refs.imageMaskSequence.transitionIn()
                        }, 0.3),
                        e.fromTo(
                          t.$refs.content,
                          t.$refs.imageMaskSequence.getDuration(w.a.IN),
                          { pointerEvents: 'none' },
                          { pointerEvents: 'all' },
                          0.3
                        ))
                      : e.fromTo(
                          t.$refs.content,
                          0.1,
                          { pointerEvents: 'none' },
                          { pointerEvents: 'all' },
                          0.3
                        )),
                  t.$refs.closeButton &&
                    e.add(this.getTimeline(t.$refs.closeButton), 0)
              },
            },
            {
              key: 'setupTransitionOutTimeline',
              value: function (e, t, n) {
                e.add(this.getTimeline('wrapper', w.a.OUT)),
                  t.image &&
                    t.$refs.imageMaskSequence &&
                    (e.add(function () {
                      return t.$refs.imageMaskSequence.transitionOut()
                    }, 0.7),
                    e.to(
                      t.$el,
                      t.$refs.imageMaskSequence.getDuration(w.a.OUT),
                      { pointerEvents: 'none' },
                      0.7
                    ))
              },
            },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {},
            },
          ]),
          t
        )
      })(c.AbstractTransitionController),
      O = n(64),
      L = n(561),
      F = n(46),
      N = n(56),
      D = n(39),
      B = n.n(D),
      U = n(562),
      V = n.n(U),
      $ = n(145),
      z = n(58),
      G = n(44),
      H = n(102),
      q = n(33),
      j = n(101),
      W = function (e) {
        return e.replace(/(\{[^\}]+\})/g, function (e) {
          var t = e.split(':'),
            n = t[0].replace('{', ''),
            i = t[1].replace('}', ''),
            a = [].concat(
              B()(Object.values(q.a)),
              B()(Object.values(H.a)),
              B()(Object.values(G.a)),
              B()(Object.values(z.a)),
              B()(Object.values(j.a))
            )
          return a.includes(i)
            ? '<a class="link-underline button" data-card-id="'
                .concat(i, '">')
                .concat(n, '</a>')
            : (console.error(
                'The variable in the translation-file is not valid: ['
                  .concat(i, '], link-name in text: [')
                  .concat(n, '] it needs to be 1 of the following: [')
                  .concat(a.join(','), ']')
              ),
              e)
        })
      },
      X = function (e) {
        return e.replace(/(\[translation:[^\}]+\])/g, function (e) {
          var t = e.split(':')[1].replace(']', ''),
            n = null
          return (
            t && (n = V()(Object($.a)().getters.translation, t)),
            n || (n = e),
            n
          )
        })
      },
      Y = n(86),
      Z = n(564),
      K = n(35),
      J = n(75),
      Q = n(27),
      ee = n(144),
      te = n(565),
      ne = {
        name: 'CardModal',
        components: {
          PageFlipBackground: ee.a,
          HistoryTimeline: L.a,
          CloseButton: F.a,
          HeadingPrefix: N.a,
          RelatedItem: Z.a,
          ImageMaskSequence: J.a,
          SongPlayer: te.a,
        },
        extends: c.AbstractTransitionComponent,
        props: {
          cardId: Object(Y.a)(O.a),
          reverseFlip: u.default.bool.def(!1),
          resetTimeline: u.default.bool.def(!0),
        },
        data: function () {
          return {
            mapMissingTranslation: X,
            addCardLinksInText: W,
            images: Q.a,
            spriteSequences: Q.b,
            currentCardId: null,
            hasStickyBar: !1,
            shareOpen: !1,
          }
        },
        computed: l()(
          {},
          Object(d.d)({
            deviceState: function (e) {
              return e.app.deviceState
            },
            shareId: function (e) {
              return e.app.shareId
            },
          }),
          {
            meta: function () {
              var e = null
              return (
                this.currentCardId &&
                  (e = this.$cardModel.getItemById(this.currentCardId)),
                e
                  ? this.$cardModel.getDataForTypeAndId(
                      e.cardType,
                      this.currentCardId
                    )
                  : null
              )
            },
            content: function () {
              return this.meta
                ? l()(
                    {},
                    this.$store.getters.translation[this.meta.cardType][
                      this.currentCardId
                    ]
                  )
                : null
            },
            eventHistory: function () {
              return this.meta
                ? this.$eventModel.getEventsByTypeAndId(
                    this.meta.cardType,
                    this.currentCardId
                  )
                : null
            },
            relatedContent: function () {
              return this.meta
                ? this.$cardModel.getRelatedItemsById(this.meta.id)
                : null
            },
            image: function () {
              return this.meta && this.meta.image
                ? ''
                    .concat(this.$staticRoot, 'card/')
                    .concat(this.meta.image, '.jpg')
                : null
            },
          }
        ),
        watch: {
          meta: function () {
            this.handleMetaChange()
          },
          cardId: function (e, t) {
            var n = this
            e && t
              ? this.transitionController.hideContent().then(function () {
                  ;(n.currentCardId = e),
                    n.$nextTick(function () {
                      n.transitionController.showContent()
                    })
                })
              : t || (this.currentCardId = this.cardId)
          },
          content: function (e) {
            var t = this
            e &&
              this.$nextTick(function () {
                t.findNewCardLinks(), t.initScrollbar()
              })
          },
          shareId: function () {
            this.shareId || this.transitionController.showContent()
          },
        },
        created: function () {
          this.currentCardId = this.cardId
        },
        beforeDestroy: function () {
          this.cardLinkDisposableManager &&
            (this.cardLinkDisposableManager.dispose(),
            (this.cardLinkDisposableManager = null)),
            this.smoothScrollbar &&
              (this.smoothScrollbar.destroy(), (this.smoothScrollbar = null))
        },
        methods: l()({}, Object(d.c)({ setShareId: K.f }), {
          initScrollbar: function () {
            this.smoothScrollbar &&
              (this.smoothScrollbar.removeListener(
                this.handleScrollUpdate.bind(this)
              ),
              this.smoothScrollbar.destroy(),
              (this.smoothScrollbar = null)),
              this.$refs.scrollWrapper &&
                ((this.smoothScrollbar = f.a.init(this.$refs.scrollWrapper, {
                  damping: 0.1,
                  thumbMinSize: 20,
                  renderByPixels: !0,
                  alwaysShowTracks: !1,
                  continuousScrolling: !0,
                  wheelEventTarget: null,
                  plugins: {},
                })),
                this.handleScrollUpdate(),
                this.smoothScrollbar.addListener(
                  this.handleScrollUpdate.bind(this)
                ))
          },
          handleScrollUpdate: function () {
            this.smoothScrollbar.offset.y > 1
              ? (this.hasStickyBar = !0)
              : (this.hasStickyBar = !1)
          },
          findNewCardLinks: function () {
            var e = this
            this.cardLinkDisposableManager &&
              (this.cardLinkDisposableManager.dispose(),
              (this.cardLinkDisposableManager = null)),
              (this.cardLinkDisposableManager = new h.DisposableManager()),
              this.$el.querySelectorAll('[data-card-id]').forEach(function (t) {
                e.cardLinkDisposableManager.add(
                  new p.DisposableEventListener(
                    t,
                    'click',
                    e.handleCardLinkClick.bind(e)
                  )
                )
              })
          },
          handleCardLinkClick: function (e) {
            var t = e.currentTarget.getAttribute('data-card-id')
            this.$emit('openCardLink', t)
          },
          handleAllComponentsReady: function () {
            ;(this.transitionController = new P(this)),
              this.findNewCardLinks(),
              this.initScrollbar(),
              this.handleMetaChange(),
              this.isReady()
          },
          handleComponentReady: function () {},
          handleMetaChange: function () {},
          transitionIn: function (e) {
            var t = this
            this.$nextTick(function () {
              return t.transitionController.transitionIn(e)
            })
          },
          onShareClick: (function () {
            var e = s()(
              a.a.mark(function e() {
                return a.a.wrap(
                  function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return (
                            (e.next = 2),
                            this.transitionController.hideContent()
                          )
                        case 2:
                          this.setShareId(this.currentCardId)
                        case 3:
                        case 'end':
                          return e.stop()
                      }
                  },
                  e,
                  this
                )
              })
            )
            return function () {
              return e.apply(this, arguments)
            }
          })(),
        }),
      }
    t.a = ne
  },
  function (e, t, n) {
    'use strict'
    var i = n(6),
      a = n(7),
      r = n(20),
      s = n(28),
      o = n(0),
      l = n.n(o),
      u = n(1),
      c = n.n(u),
      d = n(4),
      h = n.n(d),
      f = n(2),
      p = n.n(f),
      v = n(5),
      m = n.n(v),
      _ = n(9),
      g = (function (e) {
        function t() {
          return l()(this, t), h()(this, p()(t).apply(this, arguments))
        }
        return (
          m()(t, e),
          c()(t, [
            {
              key: 'hideTip',
              value: function () {
                var e = this
                return new Promise(function (t) {
                  _.TweenLite.to(e.parentController.$refs.tip, 0.8, {
                    autoAlpha: 0,
                    onComplete: t,
                  })
                })
              },
            },
            {
              key: 'showTip',
              value: function () {
                var e = this,
                  t = this.parentController.$refs.tip.querySelectorAll(
                    '.js-word'
                  )
                return new Promise(function (n) {
                  _.TweenLite.set(e.parentController.$refs.tip, {
                    autoAlpha: 1,
                  }),
                    _.TweenMax.staggerFromTo(
                      t,
                      0.33,
                      { yPercent: 100 },
                      { yPercent: 0, ease: _.Power2.easeOut },
                      0.04
                    ),
                    _.TweenMax.staggerFromTo(
                      t,
                      0.33,
                      { autoAlpha: 0 },
                      { autoAlpha: 1, onComplete: n },
                      0.04
                    )
                })
              },
            },
            {
              key: 'setupTransitionInTimeline',
              value: function (e, t, n) {
                e.fromTo(
                  t.$el,
                  0.1,
                  { pointerEvents: 'none' },
                  { pointerEvents: 'all' },
                  0
                )
              },
            },
            {
              key: 'setupTransitionOutTimeline',
              value: function (e, t, n) {
                e.to(t.$el, 0.1, { pointerEvents: 'none' }, 0)
              },
            },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {},
            },
          ]),
          t
        )
      })(i.AbstractTransitionController),
      y = n(3)
    !(function (e) {
      var t = e.GreenSockGlobals || e,
        n = (function (e) {
          var n,
            i = e.split('.'),
            a = t
          for (n = 0; n < i.length; n++) a[i[n]] = a = a[i[n]] || {}
          return a
        })('com.greensock.utils'),
        i = y.m.document || {},
        a =
          'undefined' !== typeof e
            ? e
            : i.defaultView || { getComputedStyle: function () {} },
        r = function (e) {
          return a.getComputedStyle(e)
        },
        s = /([A-Z])/g,
        o = function (e, t, n, i) {
          var a
          return (
            (n = n || r(e))
              ? (a =
                  (e = n.getPropertyValue(t.replace(s, '-$1').toLowerCase())) ||
                  n.length
                    ? e
                    : n[t])
              : e.currentStyle && (a = (n = e.currentStyle)[t]),
            i ? a : parseInt(a, 10) || 0
          )
        },
        l = function (e) {
          return !!(
            e.length &&
            e[0] &&
            ((e[0].nodeType && e[0].style && !e.nodeType) ||
              (e[0].length && e[0][0]))
          )
        },
        u = function (e, t) {
          for (var n, i = t.length; --i > -1; )
            if (((n = t[i]), e.substr(0, n.length) === n)) return n.length
        },
        c = /(?:\r|\n|\t\t)/g,
        d = /(?:\s\s+)/g,
        h = function (e) {
          return (
            ((e.charCodeAt(0) - 55296) << 10) +
            (e.charCodeAt(1) - 56320) +
            65536
          )
        },
        f =
          " style='position:relative;display:inline-block;" +
          (i.all && !i.addEventListener ? "*display:inline;*zoom:1;'" : "'"),
        p = function (e, t) {
          var n = -1 !== (e = e || '').indexOf('++'),
            i = 1
          return (
            n && (e = e.split('++').join('')),
            function () {
              return (
                '<' + t + f + (e ? " class='" + e + (n ? i++ : '') + "'>" : '>')
              )
            }
          )
        },
        v = (n.SplitText = t.SplitText = function (e, t) {
          if (('string' === typeof e && (e = v.selector(e)), !e))
            throw 'cannot split a null element.'
          ;(this.elements = l(e)
            ? (function (e) {
                var t,
                  n,
                  i,
                  a = [],
                  r = e.length
                for (t = 0; t < r; t++)
                  if (((n = e[t]), l(n)))
                    for (i = n.length, i = 0; i < n.length; i++) a.push(n[i])
                  else a.push(n)
                return a
              })(e)
            : [e]),
            (this.chars = []),
            (this.words = []),
            (this.lines = []),
            (this._originals = []),
            (this.vars = t || {}),
            this.split(t)
        }),
        m = function e(t, n, i) {
          var a = t.nodeType
          if (1 === a || 9 === a || 11 === a)
            for (t = t.firstChild; t; t = t.nextSibling) e(t, n, i)
          else
            (3 !== a && 4 !== a) || (t.nodeValue = t.nodeValue.split(n).join(i))
        },
        _ = function (e, t) {
          for (var n = t.length; --n > -1; ) e.push(t[n])
        },
        g = function (e) {
          var t,
            n = [],
            i = e.length
          for (t = 0; t !== i; n.push(e[t++]));
          return n
        },
        T = function (e, t, n) {
          for (var i; e && e !== t; ) {
            if ((i = e._next || e.nextSibling))
              return i.textContent.charAt(0) === n
            e = e.parentNode || e._parent
          }
          return !1
        },
        E = function e(t) {
          var n,
            i,
            a = g(t.childNodes),
            r = a.length
          for (n = 0; n < r; n++)
            (i = a[n])._isSplit
              ? e(i)
              : (n && 3 === i.previousSibling.nodeType
                  ? (i.previousSibling.nodeValue +=
                      3 === i.nodeType ? i.nodeValue : i.firstChild.nodeValue)
                  : 3 !== i.nodeType && t.insertBefore(i.firstChild, i),
                t.removeChild(i))
        },
        b = function (e, t, n, a, s, l, u) {
          var c,
            d,
            h,
            f,
            p,
            v,
            g,
            y,
            b,
            C,
            A,
            I,
            k = r(e),
            R = o(e, 'paddingLeft', k),
            M = -999,
            x = o(e, 'borderBottomWidth', k) + o(e, 'borderTopWidth', k),
            S = o(e, 'borderLeftWidth', k) + o(e, 'borderRightWidth', k),
            w = o(e, 'paddingTop', k) + o(e, 'paddingBottom', k),
            P = o(e, 'paddingLeft', k) + o(e, 'paddingRight', k),
            O = 0.2 * o(e, 'fontSize'),
            L = o(e, 'textAlign', k, !0),
            F = [],
            N = [],
            D = [],
            B = t.wordDelimiter || ' ',
            U = t.tag ? t.tag : t.span ? 'span' : 'div',
            V = t.type || t.split || 'chars,words,lines',
            $ = s && -1 !== V.indexOf('lines') ? [] : null,
            z = -1 !== V.indexOf('words'),
            G = -1 !== V.indexOf('chars'),
            H = 'absolute' === t.position || !0 === t.absolute,
            q = t.linesClass,
            j = -1 !== (q || '').indexOf('++'),
            W = []
          for (
            j && (q = q.split('++').join('')),
              h = (d = e.getElementsByTagName('*')).length,
              p = [],
              c = 0;
            c < h;
            c++
          )
            p[c] = d[c]
          if ($ || H)
            for (c = 0; c < h; c++)
              ((v = (f = p[c]).parentNode === e) || H || (G && !z)) &&
                ((I = f.offsetTop),
                $ &&
                  v &&
                  Math.abs(I - M) > O &&
                  ('BR' !== f.nodeName || 0 === c) &&
                  ((g = []), $.push(g), (M = I)),
                H &&
                  ((f._x = f.offsetLeft),
                  (f._y = I),
                  (f._w = f.offsetWidth),
                  (f._h = f.offsetHeight)),
                $ &&
                  (((f._isSplit && v) ||
                    (!G && v) ||
                    (z && v) ||
                    (!z &&
                      f.parentNode.parentNode === e &&
                      !f.parentNode._isSplit)) &&
                    (g.push(f), (f._x -= R), T(f, e, B) && (f._wordEnd = !0)),
                  'BR' === f.nodeName &&
                    ((f.nextSibling && 'BR' === f.nextSibling.nodeName) ||
                      0 === c) &&
                    $.push([])))
          for (c = 0; c < h; c++)
            (v = (f = p[c]).parentNode === e),
              'BR' !== f.nodeName
                ? (H &&
                    ((b = f.style),
                    z ||
                      v ||
                      ((f._x += f.parentNode._x), (f._y += f.parentNode._y)),
                    (b.left = f._x + 'px'),
                    (b.top = f._y + 'px'),
                    (b.position = 'absolute'),
                    (b.display = 'block'),
                    (b.width = f._w + 1 + 'px'),
                    (b.height = f._h + 'px')),
                  !z && G
                    ? f._isSplit
                      ? ((f._next = f.nextSibling), f.parentNode.appendChild(f))
                      : f.parentNode._isSplit
                      ? ((f._parent = f.parentNode),
                        !f.previousSibling &&
                          f.firstChild &&
                          (f.firstChild._isFirst = !0),
                        f.nextSibling &&
                          ' ' === f.nextSibling.textContent &&
                          !f.nextSibling.nextSibling &&
                          W.push(f.nextSibling),
                        (f._next =
                          f.nextSibling && f.nextSibling._isFirst
                            ? null
                            : f.nextSibling),
                        f.parentNode.removeChild(f),
                        p.splice(c--, 1),
                        h--)
                      : v ||
                        ((I = !f.nextSibling && T(f.parentNode, e, B)),
                        f.parentNode._parent &&
                          f.parentNode._parent.appendChild(f),
                        I && f.parentNode.appendChild(i.createTextNode(' ')),
                        'span' === U && (f.style.display = 'inline'),
                        F.push(f))
                    : f.parentNode._isSplit && !f._isSplit && '' !== f.innerHTML
                    ? N.push(f)
                    : G &&
                      !f._isSplit &&
                      ('span' === U && (f.style.display = 'inline'), F.push(f)))
                : $ || H
                ? (f.parentNode && f.parentNode.removeChild(f),
                  p.splice(c--, 1),
                  h--)
                : z || e.appendChild(f)
          for (c = W.length; --c > -1; ) W[c].parentNode.removeChild(W[c])
          if ($) {
            for (
              H &&
                ((C = i.createElement(U)),
                e.appendChild(C),
                (A = C.offsetWidth + 'px'),
                (I = C.offsetParent === e ? 0 : e.offsetLeft),
                e.removeChild(C)),
                b = e.style.cssText,
                e.style.cssText = 'display:none;';
              e.firstChild;

            )
              e.removeChild(e.firstChild)
            for (
              y = ' ' === B && (!H || (!z && !G)), c = 0;
              c < $.length;
              c++
            ) {
              for (
                g = $[c],
                  (C = i.createElement(U)).style.cssText =
                    'display:block;text-align:' +
                    L +
                    ';position:' +
                    (H ? 'absolute;' : 'relative;'),
                  q && (C.className = q + (j ? c + 1 : '')),
                  D.push(C),
                  h = g.length,
                  d = 0;
                d < h;
                d++
              )
                'BR' !== g[d].nodeName &&
                  ((f = g[d]),
                  C.appendChild(f),
                  y && f._wordEnd && C.appendChild(i.createTextNode(' ')),
                  H &&
                    (0 === d &&
                      ((C.style.top = f._y + 'px'),
                      (C.style.left = R + I + 'px')),
                    (f.style.top = '0px'),
                    I && (f.style.left = f._x - I + 'px')))
              0 === h
                ? (C.innerHTML = '&nbsp;')
                : z || G || (E(C), m(C, String.fromCharCode(160), ' ')),
                H && ((C.style.width = A), (C.style.height = f._h + 'px')),
                e.appendChild(C)
            }
            e.style.cssText = b
          }
          H &&
            (u > e.clientHeight &&
              ((e.style.height = u - w + 'px'),
              e.clientHeight < u && (e.style.height = u + x + 'px')),
            l > e.clientWidth &&
              ((e.style.width = l - P + 'px'),
              e.clientWidth < l && (e.style.width = l + S + 'px'))),
            _(n, F),
            z && _(a, N),
            _(s, D)
        },
        C = function e(t, n, a, r) {
          var s,
            l,
            f = g(t.childNodes),
            p = f.length,
            v = 'absolute' === n.position || !0 === n.absolute
          if (3 !== t.nodeType || p > 1) {
            for (n.absolute = !1, s = 0; s < p; s++)
              (3 !== (l = f[s]).nodeType || /\S+/.test(l.nodeValue)) &&
                (v &&
                  3 !== l.nodeType &&
                  'inline' === o(l, 'display', null, !0) &&
                  ((l.style.display = 'inline-block'),
                  (l.style.position = 'relative')),
                (l._isSplit = !0),
                e(l, n, a, r))
            return (n.absolute = v), void (t._isSplit = !0)
          }
          !(function (e, t, n, a) {
            var r,
              s,
              o,
              l,
              f,
              p,
              v,
              _,
              g,
              y,
              T = t.tag ? t.tag : t.span ? 'span' : 'div',
              E =
                -1 !==
                (t.type || t.split || 'chars,words,lines').indexOf('chars'),
              b = 'absolute' === t.position || !0 === t.absolute,
              C = t.wordDelimiter || ' ',
              A = ' ' !== C ? '' : b ? '&#173; ' : ' ',
              I = '</' + T + '>',
              k = !0,
              R = t.specialChars
                ? 'function' === typeof t.specialChars
                  ? t.specialChars
                  : u
                : null,
              M = i.createElement('div'),
              x = e.parentNode
            for (
              x.insertBefore(M, e),
                M.textContent = e.nodeValue,
                x.removeChild(e),
                v =
                  -1 !==
                  (r = (function e(t) {
                    var n = t.nodeType,
                      i = ''
                    if (1 === n || 9 === n || 11 === n) {
                      if ('string' === typeof t.textContent)
                        return t.textContent
                      for (t = t.firstChild; t; t = t.nextSibling) i += e(t)
                    } else if (3 === n || 4 === n) return t.nodeValue
                    return i
                  })((e = M))).indexOf('<'),
                !1 !== t.reduceWhiteSpace &&
                  (r = r.replace(d, ' ').replace(c, '')),
                v && (r = r.split('<').join('{{LT}}')),
                f = r.length,
                s = (' ' === r.charAt(0) ? A : '') + n(),
                o = 0;
              o < f;
              o++
            )
              if (
                ((p = r.charAt(o)), R && (y = R(r.substr(o), t.specialChars)))
              )
                (p = r.substr(o, y || 1)),
                  (s += E && ' ' !== p ? a() + p + '</' + T + '>' : p),
                  (o += y - 1)
              else if (p === C && r.charAt(o - 1) !== C && o) {
                for (s += k ? I : '', k = !1; r.charAt(o + 1) === C; )
                  (s += A), o++
                o === f - 1
                  ? (s += A)
                  : ')' !== r.charAt(o + 1) && ((s += A + n()), (k = !0))
              } else
                '{' === p && '{{LT}}' === r.substr(o, 6)
                  ? ((s += E ? a() + '{{LT}}</' + T + '>' : '{{LT}}'), (o += 5))
                  : (p.charCodeAt(0) >= 55296 && p.charCodeAt(0) <= 56319) ||
                    (r.charCodeAt(o + 1) >= 65024 &&
                      r.charCodeAt(o + 1) <= 65039)
                  ? ((_ = h(r.substr(o, 2))),
                    (g = h(r.substr(o + 2, 2))),
                    (l =
                      (_ >= 127462 &&
                        _ <= 127487 &&
                        g >= 127462 &&
                        g <= 127487) ||
                      (g >= 127995 && g <= 127999)
                        ? 4
                        : 2),
                    (s +=
                      E && ' ' !== p
                        ? a() + r.substr(o, l) + '</' + T + '>'
                        : r.substr(o, l)),
                    (o += l - 1))
                  : (s += E && ' ' !== p ? a() + p + '</' + T + '>' : p)
            ;(e.outerHTML = s + (k ? I : '')), v && m(x, '{{LT}}', '<')
          })(t, n, a, r)
        },
        A = v.prototype
      ;(A.split = function (e) {
        this.isSplit && this.revert(),
          (this.vars = e = e || this.vars),
          (this._originals.length = this.chars.length = this.words.length = this.lines.length = 0)
        for (
          var t,
            n,
            i,
            a = this.elements.length,
            r = e.tag ? e.tag : e.span ? 'span' : 'div',
            s = p(e.wordsClass, r),
            o = p(e.charsClass, r);
          --a > -1;

        )
          (i = this.elements[a]),
            (this._originals[a] = i.innerHTML),
            (t = i.clientHeight),
            (n = i.clientWidth),
            C(i, e, s, o),
            b(i, e, this.chars, this.words, this.lines, n, t)
        return (
          this.chars.reverse(),
          this.words.reverse(),
          this.lines.reverse(),
          (this.isSplit = !0),
          this
        )
      }),
        (A.revert = function () {
          if (!this._originals) throw "revert() call wasn't scoped properly."
          for (var e = this._originals.length; --e > -1; )
            this.elements[e].innerHTML = this._originals[e]
          return (
            (this.chars = []),
            (this.words = []),
            (this.lines = []),
            (this.isSplit = !1),
            this
          )
        }),
        (v.selector =
          e.$ ||
          e.jQuery ||
          function (t) {
            var n = e.$ || e.jQuery
            return n
              ? ((v.selector = n), n(t))
              : 'undefined' === typeof document
              ? t
              : document.querySelectorAll
              ? document.querySelectorAll(t)
              : document.getElementById('#' === t.charAt(0) ? t.substr(1) : t)
          }),
        (v.version = '0.7.0')
    })(y.m)
    var T = y.o.SplitText,
      E = {
        name: 'TipShuffler',
        extends: i.AbstractTransitionComponent,
        props: { tips: a.default.arrayOf(a.default.string).isRequired },
        data: function () {
          return { currentTip: null }
        },
        created: function () {
          ;(this.currentTipIndex = -1),
            (this.disposableManager = new s.DisposableManager())
        },
        beforeDestroy: function () {
          this.disposableManager && this.disposableManager.dispose(),
            this.clearTipInterval()
        },
        methods: {
          nextTip: function () {
            var e = this
            this.isRunning &&
              (this.currentTipIndex < this.tips.length
                ? (this.currentTipIndex += 1)
                : (this.currentTipIndex = 0),
              this.transitionController.hideTip().then(function () {
                ;(e.currentTip = e.tips[e.currentTipIndex]),
                  (e.$refs.tip.innerHTML = ''.concat(e.currentTip)),
                  e.$nextTick(function () {
                    e.runSplitText(),
                      e.transitionController.showTip().then(function () {
                        e.clearTipInterval(),
                          (e.nextTipTimeout = setTimeout(function () {
                            e.nextTip()
                          }, 2e3))
                      })
                  })
              }))
          },
          clearTipInterval: function () {
            this.nextTipTimeout &&
              (clearTimeout(this.nextTipTimeout), (this.nextTipTimeout = null))
          },
          runSplitText: function () {
            this.splitText = new T(this.$refs.tip, {
              type: 'words',
              wordsClass: 'js-word',
            })
          },
          handleTransitionInComplete: function () {
            ;(this.isRunning = !0), this.nextTip()
          },
          handleTransitionOutComplete: function () {
            this.isRunning = !1
          },
          handleAllComponentsReady: function () {
            ;(this.transitionController = new g(this)),
              this.disposableManager.add(
                new r.DisposableEventListener(
                  this.transitionController,
                  i.TransitionEvent.types.TRANSITION_IN_COMPLETE,
                  this.handleTransitionInComplete.bind(this)
                )
              ),
              this.disposableManager.add(
                new r.DisposableEventListener(
                  this.transitionController,
                  i.TransitionEvent.types.TRANSITION_OUT_COMPLETE,
                  this.handleTransitionOutComplete.bind(this)
                )
              ),
              this.isReady()
          },
        },
      }
    t.a = E
  },
  function (e, t, n) {
    'use strict'
    var i = n(6),
      a = n(7),
      r = n(0),
      s = n.n(r),
      o = n(1),
      l = n.n(o),
      u = n(4),
      c = n.n(u),
      d = n(2),
      h = n.n(d),
      f = n(5),
      p = n.n(f),
      v = n(9),
      m = (function (e) {
        function t() {
          return s()(this, t), c()(this, h()(t).apply(this, arguments))
        }
        return (
          p()(t, e),
          l()(t, [
            {
              key: 'onIndexChange',
              value: function (e, t) {
                var n = this.parentController.$refs.dots,
                  i = n[1].offsetWidth,
                  a = Number(
                    window
                      .getComputedStyle(n[1], null)
                      .getPropertyValue('margin-left')
                      .replace('px', '')
                  ),
                  r = 0
                e > 2 &&
                  ((r = -(i + a) * (e - 2)),
                  e >= this.parentController.total - 3 &&
                    (r = -(i + a) * (this.parentController.total - 5))),
                  v.TweenLite.to(this.parentController.$refs.carousel, 0.45, {
                    x: r,
                    ease: v.Power2.easeOut,
                  }),
                  (this.parentController.activeIndex = e)
              },
            },
            {
              key: 'setupTransitionInTimeline',
              value: function (e, t, n) {
                e.staggerFromTo(
                  t.$refs.dots,
                  0.2,
                  { scale: 0 },
                  { scale: 1 },
                  0.1,
                  0
                )
              },
            },
            {
              key: 'setupTransitionOutTimeline',
              value: function (e, t, n) {
                e.staggerTo(
                  t.$refs.dots,
                  0.1,
                  { scale: 0, ease: v.Power2.easeIn },
                  0,
                  0
                )
              },
            },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {},
            },
          ]),
          t
        )
      })(i.AbstractTransitionController),
      _ = {
        name: 'DotsPaginator',
        extends: i.AbstractTransitionComponent,
        props: {
          total: a.default.number.isRequired.def(0),
          currentIndex: a.default.number.isRequired.def(0),
          maxItems: a.default.number.def(5),
          isVertical: a.default.bool.def(!1),
        },
        data: function () {
          return { activeIndex: 0 }
        },
        watch: {
          currentIndex: function (e, t) {
            this.transitionController.onIndexChange(e, t)
          },
        },
        created: function () {
          this.activeIndex = this.currentIndex
        },
        methods: {
          handleIndexChange: function (e) {
            this.$emit('change', e)
          },
          handleAllComponentsReady: function () {
            ;(this.transitionController = new m(this)), this.isReady()
          },
        },
      }
    t.a = _
  },
  function (e, t, n) {
    'use strict'
    var i = n(6),
      a = n(7),
      r = n(0),
      s = n.n(r),
      o = n(1),
      l = n.n(o),
      u = n(4),
      c = n.n(u),
      d = n(2),
      h = n.n(d),
      f = n(5),
      p = n.n(f),
      v = (function (e) {
        function t() {
          return s()(this, t), c()(this, h()(t).apply(this, arguments))
        }
        return (
          p()(t, e),
          l()(t, [
            { key: 'setupTransitionInTimeline', value: function (e, t, n) {} },
            { key: 'setupTransitionOutTimeline', value: function (e, t, n) {} },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {},
            },
          ]),
          t
        )
      })(i.AbstractTransitionController),
      m = {
        name: 'RelatedItem',
        extends: i.AbstractTransitionComponent,
        props: {
          target: a.default.any.isRequired,
          title: a.default.string.isRequired,
          image: a.default.string,
        },
        methods: {
          handleAllComponentsReady: function () {
            ;(this.transitionController = new v(this)), this.isReady()
          },
        },
      }
    t.a = m
  },
  function (e, t, n) {
    'use strict'
    var i = n(103),
      a = n(0),
      r = n.n(a),
      s = n(1),
      o = n.n(s),
      l = n(4),
      u = n.n(l),
      c = n(2),
      d = n.n(c),
      h = n(5),
      f = n.n(h),
      p = n(6),
      v = n(9),
      m = (function (e) {
        function t() {
          return r()(this, t), u()(this, d()(t).apply(this, arguments))
        }
        return (
          f()(t, e),
          o()(t, [
            {
              key: 'setupTransitionInTimeline',
              value: function (e, t, n) {
                var i = t.$el.offsetWidth
                e.fromTo(
                  t.$refs.button,
                  0.8,
                  { minWidth: 0, width: 0 },
                  {
                    width: i,
                    minWidth: i,
                    ease: v.Power2.easeOut,
                    clearProps: 'all',
                  },
                  0
                ),
                  e.fromTo(
                    t.$refs.label,
                    0.4,
                    { autoAlpha: 0 },
                    { autoAlpha: 1 },
                    0.4
                  )
              },
            },
            { key: 'setupTransitionOutTimeline', value: function (e, t, n) {} },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {},
            },
          ]),
          t
        )
      })(p.AbstractTransitionController),
      _ = {
        name: 'PrimaryButton',
        extends: i.a,
        methods: {
          handleAllComponentsReady: function () {
            ;(this.transitionController = new m(this)), this.isReady()
          },
        },
      }
    t.a = _
  },
  function (e, t, n) {
    'use strict'
    var i = n(7),
      a = n(28),
      r = n(103),
      s = n(0),
      o = n.n(s),
      l = n(1),
      u = n.n(l),
      c = n(4),
      d = n.n(c),
      h = n(2),
      f = n.n(h),
      p = n(5),
      v = n.n(p),
      m = n(6),
      _ = n(9),
      g = (function (e) {
        function t() {
          return o()(this, t), d()(this, f()(t).apply(this, arguments))
        }
        return (
          v()(t, e),
          u()(t, [
            {
              key: 'setupTransitionInTimeline',
              value: function (e, t, n) {
                e.fromTo(
                  t.$el,
                  0.8,
                  { yPercent: -140 },
                  { yPercent: 0, ease: _.Power2.easeOut },
                  0
                )
              },
            },
            { key: 'setupTransitionOutTimeline', value: function (e, t, n) {} },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {},
            },
          ]),
          t
        )
      })(m.AbstractTransitionController),
      y = {
        name: 'MenuButton',
        extends: r.a,
        props: { isOpen: i.default.bool.def(!1) },
        beforeDestroy: function () {
          this.disposableManager && this.disposableManager.dispose()
        },
        created: function () {
          this.disposableManager = new a.DisposableManager()
        },
        methods: {
          handleAllComponentsReady: function () {
            ;(this.transitionController = new g(this)), this.isReady()
          },
        },
      }
    t.a = y
  },
  function (e, t, n) {
    'use strict'
    var i = n(6),
      a = n(7),
      r = n(104),
      s = n(0),
      o = n.n(s),
      l = n(1),
      u = n.n(l),
      c = n(4),
      d = n.n(c),
      h = n(2),
      f = n.n(h),
      p = n(5),
      v = n.n(p),
      m = (function (e) {
        function t() {
          return o()(this, t), d()(this, f()(t).apply(this, arguments))
        }
        return (
          v()(t, e),
          u()(t, [
            {
              key: 'setupTransitionInTimeline',
              value: function (e, t, n) {
                e.fromTo(
                  t.$el,
                  0.1,
                  { pointerEvents: 'none', autoAlpha: 0 },
                  { pointerEvents: 'all', autoAlpha: 1 },
                  0
                ),
                  e.add(
                    this.getTimeline('closeButton', i.TransitionDirection.IN),
                    0
                  ),
                  e.add(
                    this.getTimeline('backButton', i.TransitionDirection.IN),
                    0
                  )
              },
            },
            {
              key: 'setupTransitionOutTimeline',
              value: function (e, t, n) {
                e.to(t.$el, 0.01, { pointerEvents: 'none', autoAlpha: 0 }, 0)
              },
            },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {},
            },
          ]),
          t
        )
      })(i.AbstractTransitionController),
      _ = n(56),
      g = n(46),
      y = {
        name: 'LanguagePanel',
        components: { HeadingPrefix: _.a, CloseButton: g.a },
        extends: i.AbstractTransitionComponent,
        props: {
          currentLanguage: a.default.shape({
            code: a.default.string,
            urlPrefix: a.default.string,
            translationKey: a.default.string,
          }).isRequired,
          languages: a.default.arrayOf(
            a.default.shape({
              code: a.default.string,
              urlPrefix: a.default.string,
              translationKey: a.default.string,
            })
          ).isRequired,
        },
        beforeDestroy: function () {
          this.smoothScrollbar &&
            (this.smoothScrollbar.destroy(), (this.smoothScrollbar = null))
        },
        mounted: function () {
          this.initScrollbar()
        },
        methods: {
          initScrollbar: function () {
            this.smoothScrollbar &&
              (this.smoothScrollbar.destroy(), (this.smoothScrollbar = null)),
              this.$refs.scrollWrapper &&
                (this.smoothScrollbar = r.a.init(this.$refs.scrollWrapper, {
                  damping: 0.1,
                  thumbMinSize: 20,
                  renderByPixels: !0,
                  alwaysShowTracks: !1,
                  continuousScrolling: !0,
                  wheelEventTarget: null,
                  plugins: {},
                }))
          },
          handleAllComponentsReady: function () {
            ;(this.transitionController = new m(this)), this.isReady()
          },
        },
      }
    t.a = y
  },
  function (e, t, n) {
    'use strict'
    var i = n(16),
      a = n.n(i),
      r = n(17),
      s = n(6),
      o = n(28),
      l = n(20),
      u = n(0),
      c = n.n(u),
      d = n(1),
      h = n.n(d),
      f = n(4),
      p = n.n(f),
      v = n(2),
      m = n.n(v),
      _ = n(5),
      g = n.n(_),
      y = n(9),
      T = n(21),
      E = n.n(T),
      b = n(87),
      C = (function (e) {
        function t() {
          return c()(this, t), p()(this, m()(t).apply(this, arguments))
        }
        return (
          g()(t, e),
          h()(t, [
            {
              key: 'setupTransitionInTimeline',
              value: function (e, t, n) {
                if (t.$route.name === b.a.WEBGL)
                  e.fromTo(t.$el, 0.1, { autoAlpha: 1 }, { autoAlpha: 1 }, 0)
                else {
                  var i = t.$refs.netlixLogo.$el,
                    a = t.$refs.headingPrefix.$el
                  e.fromTo(t.$el, 0.1, { autoAlpha: 1 }, { autoAlpha: 1 }, 0),
                    e.fromTo(
                      t.$refs.background,
                      0.4,
                      { autoAlpha: 0 },
                      { autoAlpha: 1, ease: y.Linear.easeNone },
                      0
                    ),
                    e.fromTo(
                      t.$refs.background,
                      2,
                      { scale: 1.1 },
                      { scale: 1, ease: y.Power2.easeOut },
                      0
                    ),
                    e.add(this.getTimeline('logoSequence', E.a.IN), 0.4),
                    e.fromTo(i, 0.8, { autoAlpha: 0 }, { autoAlpha: 1 }, 1),
                    e.fromTo(
                      i,
                      0.8,
                      { yPercent: 40 },
                      { yPercent: 0, ease: y.Power2.easeOut },
                      1
                    ),
                    e.fromTo(a, 0.8, { autoAlpha: 0 }, { autoAlpha: 1 }, 1.3),
                    e.fromTo(
                      a,
                      0.8,
                      { yPercent: 100 },
                      { yPercent: 0, ease: y.Power2.easeOut },
                      1.3
                    ),
                    e.add(this.getTimeline('tipShuffler', E.a.IN), 0.9)
                }
              },
            },
            {
              key: 'setupTransitionOutTimeline',
              value: function (e, t, n) {
                e.to(t.$refs.background, 0.1, { display: 'none' }, 0),
                  e.to(t.$refs.content, 1, { autoAlpha: 0 }, 0),
                  e.add(this.getTimeline('logoSequence', E.a.OUT), 0),
                  e.add(this.getTimeline('tipShuffler', E.a.OUT), 0),
                  e.to(t.$el, 0.1, { display: 'none' })
              },
            },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {},
            },
          ]),
          t
        )
      })(s.AbstractTransitionController),
      A = n(284),
      I = n(589),
      k = n(56),
      R = {
        name: 'Preloader',
        components: { LogoSequence: A.a, TipShuffler: I.a, HeadingPrefix: k.a },
        extends: s.AbstractTransitionComponent,
        computed: a()(
          {},
          Object(r.d)({
            deviceState: function (e) {
              return e.app.deviceState
            },
          }),
          {
            background: function () {
              return ''
                .concat(this.$versionRoot, 'image/preloader-background')
                .concat(
                  this.deviceState < this.DeviceState.SMALL ? '' : '-desktop',
                  '.jpg'
                )
            },
          }
        ),
        created: function () {
          this.disposableManager = new o.DisposableManager()
        },
        beforeDestroy: function () {
          this.disposableManager && this.disposableManager.dispose()
        },
        methods: {
          handleTransitionInCompleted: function () {
            var e = this
            this.$refs.logoSequence.load().then(function () {
              e.$refs.logoSequence.play().then(function () {
                e.$refs.logoSequence.stop(), e.$emit('completed')
              })
            })
          },
          handleAllComponentsReady: function () {
            ;(this.transitionController = new C(this)),
              this.$route.name === this.RouteNames.WEBGL
                ? this.$emit('completed')
                : this.disposableManager.add(
                    new l.DisposableEventListener(
                      this.transitionController,
                      s.TransitionEvent.types.TRANSITION_IN_COMPLETE,
                      this.handleTransitionInCompleted.bind(this)
                    )
                  ),
              this.isReady()
          },
          handleComponentReady: function () {},
        },
      }
    t.a = R
  },
  function (e, t, n) {
    'use strict'
    var i = n(6),
      a = n(0),
      r = n.n(a),
      s = n(1),
      o = n.n(s),
      l = n(4),
      u = n.n(l),
      c = n(2),
      d = n.n(c),
      h = n(5),
      f = n.n(h),
      p = (function (e) {
        function t() {
          return r()(this, t), u()(this, d()(t).apply(this, arguments))
        }
        return (
          f()(t, e),
          o()(t, [
            { key: 'setupTransitionInTimeline', value: function (e, t, n) {} },
            { key: 'setupTransitionOutTimeline', value: function (e, t, n) {} },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {},
            },
          ]),
          t
        )
      })(i.AbstractTransitionController),
      v = {
        name: 'WebglPage',
        extends: i.AbstractPageTransitionComponent,
        methods: {
          handleAllComponentsReady: function () {
            ;(this.transitionController = new p(this)), this.isReady()
          },
        },
      }
    t.a = v
  },
  function (e, t, n) {
    'use strict'
    var i = n(16),
      a = n.n(i),
      r = n(6),
      s = n(17),
      o = n(0),
      l = n.n(o),
      u = n(1),
      c = n.n(u),
      d = n(4),
      h = n.n(d),
      f = n(2),
      p = n.n(f),
      v = n(5),
      m = n.n(v),
      _ = n(21),
      g = n.n(_),
      y = n(57),
      T = n(30),
      E = (function (e) {
        function t() {
          return l()(this, t), h()(this, p()(t).apply(this, arguments))
        }
        return (
          m()(t, e),
          c()(t, [
            {
              key: 'setupTransitionInTimeline',
              value: function (e, t, n) {
                e.fromTo(
                  t.$el,
                  0.1,
                  { pointerEvents: 'none' },
                  { pointerEvents: 'all' },
                  0
                ),
                  e.fromTo(
                    t.$refs.pageFlip.$el,
                    0.1,
                    { xPercent: 0 },
                    { xPercent: 0 },
                    0
                  ),
                  e.add(this.getTimeline('maskOverlay', g.a.IN), 0),
                  e.add(this.getTimeline('pageFlip', g.a.IN), 0)
                var i = t.$refs.pageFlip.transitionController
                t.$refs.modalBackground.transitionController.setupTimeline(
                  r.TimelineType.IN,
                  !0,
                  y.a.IMMEDIATE
                ),
                  e.add(
                    i.getTimeline('modalBackground', g.a.IN, !1, y.a.IMMEDIATE),
                    0
                  )
              },
            },
            {
              key: 'setupTransitionOutTimeline',
              value: function (e, t, n) {
                e.to(t.$el, 0.1, { pointerEvents: 'none' }, 0),
                  e.add(this.getTimeline('maskOverlay', g.a.OUT), 0),
                  e.add(this.getTimeline('pageFlip', g.a.OUT), 0),
                  e.to(
                    t.$refs.pageFlip.$el,
                    0.8,
                    {
                      xPercent: -110 * (t.$isRtl ? -1 : 1),
                      ease: T.a.VinnieInOut,
                    },
                    0
                  )
              },
            },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {},
            },
          ]),
          t
        )
      })(r.AbstractTransitionController),
      b = n(278),
      C = n(585),
      A = n(586),
      I = n(587),
      k = n(144),
      R = n(74),
      M = n(14),
      x = {
        MENU: 'menu',
        PRIVACY: 'privacy',
        LANGUAGE: 'language',
        IMPRINT: 'imprint',
      },
      S = {
        name: 'SidePanel',
        components: {
          MaskOverlay: b.a,
          MenuPanel: C.a,
          ModalBackground: R.a,
          PageFlipBackground: k.a,
          PrivacyPanel: A.a,
          LanguagePanel: I.a,
        },
        extends: r.AbstractTransitionComponent,
        data: function () {
          return { PanelState: x }
        },
        computed: a()({}, Object(s.b)(['currentLanguage'])),
        created: function () {
          this.panelState = x.MENU
        },
        methods: {
          close: function () {
            this.$emit('close')
          },
          openPanel: function (e) {
            var t = this
            this.$refs.modalBackground.transitionController
              .maskContent()
              .then(function () {
                return t.$refs[t.panelState].transitionOut()
              })
              .then(function () {
                ;(t.panelState = e),
                  t.$refs.modalBackground.transitionController.revealContent(),
                  t.$refs[t.panelState].transitionIn()
              })
          },
          transitionIn: function (e, t) {
            var n = this
            null !== t && (this.panelState = t),
              this.$refs.modalBackground.transitionController.resetPaperSequence(),
              this.allComponentsReady.then(function () {
                return (
                  n.$refs[n.panelState].transitionIn(),
                  n.transitionController.transitionIn(e)
                )
              })
          },
          transitionOut: function (e, t, n) {
            var i = this
            return this.transitionController
              .transitionOut(e, t, n)
              .then(function () {
                i.$refs[i.panelState].transitionOut(), (i.panelState = x.MENU)
              })
          },
          handleAllComponentsReady: function () {
            ;(this.transitionController = new E(this)), this.isReady()
          },
          selectLanguage: function (e) {
            window.location.host
              .split('.')
              .includes(this.$config.getProperty(M.b.POLAND_DOMAIN)) &&
            'pl-pl' !== e
              ? (window.location.href = ''
                  .concat(window.location.protocol, '//')
                  .concat(this.$config.getProperty(M.b.GLOBAL_DOMAIN), '.com/')
                  .concat(e))
              : window.location.host
                  .split('.')
                  .includes(this.$config.getProperty(M.b.GLOBAL_DOMAIN)) &&
                'pl-pl' === e
              ? (window.location.href = ''
                  .concat(window.location.protocol, '//')
                  .concat(this.$config.getProperty(M.b.POLAND_DOMAIN), '.com/')
                  .concat(e))
              : 'ar-ar' === e || 'ar-ar' === this.currentLanguage.code
              ? this.$setLanguage(e).then(function () {
                  document.location.reload()
                })
              : (this.$setLanguage(e), this.openPanel(x.MENU))
          },
        },
      }
    n.d(t, 'a', function () {
      return x
    })
    t.b = S
  },
  function (e, t, n) {
    'use strict'
    var i = n(16),
      a = n.n(i),
      r = n(17),
      s = n(6),
      o = n(28),
      l = n(20),
      u = n(13),
      c = n.n(u),
      d = n(0),
      h = n.n(d),
      f = n(1),
      p = n.n(f),
      v = n(4),
      m = n.n(v),
      _ = n(2),
      g = n.n(_),
      y = n(5),
      T = n.n(y),
      E = n(30),
      b = (function (e) {
        function t() {
          return h()(this, t), m()(this, g()(t).apply(this, arguments))
        }
        return (
          T()(t, e),
          p()(t, [
            {
              key: 'setupTransitionInTimeline',
              value: function (e, t, n) {
                e.fromTo(
                  t.$el,
                  0.1,
                  { pointerEvents: 'none', autoAlpha: 0 },
                  { pointerEvents: 'all', autoAlpha: 1 },
                  0
                ),
                  e.addLabel('start', 1),
                  e.add(
                    this.getTimeline('pageFlip', s.TransitionDirection.IN),
                    'start'
                  ),
                  e.add(function () {
                    return t.$refs.imageMaskSequence.transitionIn()
                  }, 'start+=0.2'),
                  e.add(
                    t.$refs.pageFlip.transitionController.getTimeline('button'),
                    'start+=0.4'
                  )
              },
            },
            {
              key: 'setupTransitionOutTimeline',
              value: function (e, t, n) {
                var i,
                  a = t.$refs.pageFlip.$el.getBoundingClientRect(),
                  r = 'x',
                  s = a.left + t.$refs.pageFlip.$el.offsetWidth
                t.deviceState > t.DeviceState.XSMALL &&
                  ((r = 'y'), (s = a.top + t.$refs.pageFlip.$el.offsetHeight)),
                  e.to(
                    t.$el,
                    1,
                    ((i = {}),
                    c()(i, r, -s),
                    c()(i, 'pointerEvents', 'none'),
                    c()(i, 'ease', E.a.VinnieInOut),
                    i),
                    0
                  ),
                  e.to(t.$el, 0, { autoAlpha: 0 })
              },
            },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {},
            },
          ]),
          t
        )
      })(s.AbstractTransitionController),
      C = n(56),
      A = n(144),
      I = n(74),
      k = n(573),
      R = n(75),
      M = n(27),
      x = n(279),
      S = {
        name: 'CookieModal',
        components: {
          PageFlipBackground: A.a,
          ModalBackground: I.a,
          HeadingPrefix: C.a,
          PrimaryButton: k.a,
          ImageMaskSequence: R.a,
        },
        extends: s.AbstractTransitionComponent,
        data: function () {
          return { spriteSequences: M.b }
        },
        computed: a()(
          {},
          Object(r.d)({
            deviceState: function (e) {
              return e.app.deviceState
            },
          }),
          Object(r.b)(['translation'])
        ),
        watch: {
          translation: function () {
            var e = this
            this.$nextTick(function () {
              return e.addCookieLinkEvents()
            })
          },
        },
        mounted: function () {
          ;(this.disposables = new o.DisposableManager()),
            this.addCookieLinkEvents()
        },
        beforeDestroy: function () {
          this.disposables.dispose()
        },
        methods: {
          handleAllComponentsReady: function () {
            ;(this.transitionController = new b(this)), this.isReady()
          },
          handleComponentReady: function () {},
          handleSidePanelClick: function (e, t) {
            t.preventDefault()
            var n = e.getAttribute('href')
            this.$eventBus.$emit(x.a, n)
          },
          addCookieLinkEvents: function () {
            var e = this
            Array.from(this.$el.querySelectorAll('[data-sidepanel]')).forEach(
              function (t) {
                e.disposables.add(
                  new l.DisposableEventListener(
                    t,
                    'click',
                    e.handleSidePanelClick.bind(e, t)
                  )
                )
              }
            )
          },
        },
      }
    t.a = S
  },
  function (e, t, n) {
    'use strict'
    var i = n(6),
      a = n(0),
      r = n.n(a),
      s = n(1),
      o = n.n(s),
      l = n(4),
      u = n.n(l),
      c = n(2),
      d = n.n(c),
      h = n(5),
      f = n.n(h),
      p = (function (e) {
        function t() {
          return r()(this, t), u()(this, d()(t).apply(this, arguments))
        }
        return (
          f()(t, e),
          o()(t, [
            { key: 'setupTransitionInTimeline', value: function (e, t, n) {} },
            { key: 'setupTransitionOutTimeline', value: function (e, t, n) {} },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {},
            },
          ]),
          t
        )
      })(i.AbstractTransitionController),
      v = {
        name: 'ZoomControls',
        extends: i.AbstractTransitionComponent,
        methods: {
          handleAllComponentsReady: function () {
            ;(this.transitionController = new p(this)), this.isReady()
          },
        },
      }
    t.a = v
  },
  function (e, t, n) {
    'use strict'
    var i = n(16),
      a = n.n(i),
      r = n(416),
      s = n(7),
      o = n(63),
      l = n.n(o),
      u = n(17),
      c = n(20),
      d = n(6),
      h = n(570),
      f = n.n(h),
      p = n(0),
      v = n.n(p),
      m = n(1),
      _ = n.n(m),
      g = n(4),
      y = n.n(g),
      T = n(2),
      E = n.n(T),
      b = n(5),
      C = n.n(b),
      A = n(9),
      I = n(30),
      k = (function (e) {
        function t() {
          return v()(this, t), y()(this, E()(t).apply(this, arguments))
        }
        return (
          C()(t, e),
          _()(t, [
            {
              key: 'onIsOpenChange',
              value: function (e) {
                e ? this.expand() : this.collapse()
              },
            },
            {
              key: 'onFilterUpdate',
              value: function () {
                var e = this.parentController.$refs.categoryList.offsetHeight
                A.TweenLite.to(this.parentController.$refs.dropDown, 0.25, {
                  height: e,
                  ease: A.Power2.easeOut,
                })
              },
            },
            {
              key: 'expand',
              value: function () {
                var e = this.parentController.$refs.categoryList.offsetHeight
                A.TweenLite.to(this.parentController.$refs.dropDown, 0.8, {
                  height: e,
                  ease: A.Power2.easeOut,
                }),
                  A.TweenLite.fromTo(
                    this.parentController.$refs.categoryList,
                    0.8,
                    { autoAlpha: 0 },
                    { autoAlpha: 1, ease: A.Linear.easeNone }
                  )
              },
            },
            {
              key: 'collapse',
              value: function () {
                A.TweenLite.to(this.parentController.$refs.dropDown, 0.8, {
                  height: 0,
                  ease: I.a.VinnieInOut,
                }),
                  A.TweenLite.to(
                    this.parentController.$refs.categoryList,
                    0.4,
                    { autoAlpha: 0, ease: A.Linear.easeNone }
                  )
              },
            },
            {
              key: 'setupTransitionInTimeline',
              value: function (e, t, n) {
                e.fromTo(
                  t.$el,
                  0.8,
                  { xPercent: 0, yPercent: -150 },
                  { yPercent: 0, ease: A.Power2.easeOut },
                  0
                ),
                  e.fromTo(
                    t.$el,
                    0.6,
                    { autoAlpha: 0, pointerEvents: 'none' },
                    { autoAlpha: 1, pointerEvents: 'all' },
                    0
                  ),
                  e.fromTo(
                    t.$refs.dropDown,
                    0.1,
                    { height: 0 },
                    { height: 0 },
                    0
                  ),
                  e.add(
                    this.getTimeline('closeButton', d.TransitionDirection.IN),
                    0
                  )
              },
            },
            {
              key: 'setupTransitionOutTimeline',
              value: function (e, t, n) {
                e.to(
                  t.$el,
                  0.8,
                  {
                    yPercent: -150,
                    pointerEvents: 'none',
                    ease: I.a.VinnieInOut,
                  },
                  0
                ),
                  e.add(
                    this.getTimeline('closeButton', d.TransitionDirection.OUT),
                    0
                  )
              },
            },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {},
            },
          ]),
          t
        )
      })(d.AbstractTransitionController),
      R = n(31),
      M = n(46),
      x = 'creature',
      S = 'event',
      w = 'location',
      P = {
        name: 'AutoComplete',
        components: { CloseButton: M.a },
        extends: d.AbstractTransitionComponent,
        props: {
          updateFilterTimeout: s.default.number.def(500),
          maxItemsPerCategory: s.default.number.def(2),
          placeholder: s.default.string,
          name: s.default.string.isRequired,
          items: s.default.arrayOf({
            id: s.default.string.isRequired,
            cardType: s.default.oneOf(Object.values(R.a)).isRequired,
            title: s.default.string.isRequired,
          }).isRequired,
        },
        data: function () {
          return {
            cardType: R.a,
            isOpen: !1,
            results: [],
            searchTitle: '',
            arrowCounter: 0,
            categories: [w, x, S],
          }
        },
        watch: {
          isOpen: function (e) {
            var t = this
            this.$nextTick(function () {
              t.transitionController.onIsOpenChange(e)
            })
          },
        },
        created: function () {
          this.disposableManager = new l.a()
        },
        mounted: function () {
          this.clickOutsideListener = new c.DisposableEventListener(
            document,
            'click',
            this.handleClickOutside.bind(this)
          )
        },
        beforeDestroy: function () {
          this.clearFilterTimeout(),
            this.clickOutsideListener && this.clickOutsideListener.dispose(),
            this.disposableManager && this.disposableManager.dispose()
        },
        computed: a()(
          {},
          Object(u.d)({
            deviceState: function (e) {
              return e.app.deviceState
            },
          })
        ),
        methods: {
          onCloseClick: function () {
            this.$emit('hide')
          },
          onChange: function () {
            this.filterResults()
          },
          filterByCategory: function (e, t) {
            var n = []
            return (
              t === w &&
                (n = e.filter(function (e) {
                  return e.cardType === R.a.location
                })),
              t === x &&
                (n = e.filter(function (e) {
                  return (
                    e.cardType === R.a.character ||
                    e.cardType === R.a.race ||
                    e.cardType === R.a.monster
                  )
                })),
              t === S &&
                (n = e.filter(function (e) {
                  return e.cardType === R.a.event
                })),
              n
            )
          },
          clearFilterTimeout: function () {
            this.filterResultsTimeout &&
              (clearTimeout(this.filterResultsTimeout),
              (this.filterResultsTimeout = null))
          },
          filterResults: function () {
            var e = this
            this.clearFilterTimeout(),
              (this.filterResultsTimeout = setTimeout(function () {
                var t = Object(r.a)(e.items, e.searchTitle, {
                  keys: ['title'],
                  threshold: r.a.rankings.CONTAINS,
                })
                ;(e.results = f()(
                  e.categories.map(function (n) {
                    return e
                      .filterByCategory(t, n)
                      .slice(0, e.maxItemsPerCategory)
                  })
                )),
                  (e.isOpen = !0),
                  e.$nextTick(function () {
                    e.transitionController.onFilterUpdate()
                  })
              }, this.updateFilterTimeout))
          },
          setResult: function (e) {
            var t = this
            ;(this.search = e),
              (this.searchTitle = ''),
              (this.isOpen = !1),
              this.onSelect(),
              setTimeout(function () {
                t.isOpen = !1
              }, 500)
          },
          onArrowDown: function () {
            this.arrowCounter < this.results.length - 1 &&
              (this.arrowCounter += 1)
          },
          onArrowUp: function () {
            this.arrowCounter > 0 && (this.arrowCounter -= 1)
          },
          onSelect: function () {
            this.$emit('select', { name: this.name, value: this.search }),
              this.clearInput()
          },
          onEnter: function () {
            ;(this.search = this.results[this.arrowCounter]),
              this.search &&
                this.search.title &&
                ((this.searchTitle = this.search.title),
                (this.isOpen = !1),
                (this.arrowCounter = -1),
                this.onSelect())
          },
          handleClickOutside: function (e) {
            this.$el.contains(e.target) ||
              ((this.isOpen = !1), (this.arrowCounter = -1))
          },
          clearInput: function () {
            this.searchTitle = ''
          },
          handleTransitionOutComplete: function () {
            this.isOpen = !1
          },
          handleAllComponentsReady: function () {
            ;(this.transitionController = new k(this)),
              this.disposableManager.add(
                new c.DisposableEventListener(
                  this.transitionController,
                  d.TransitionEvent.types.TRANSITION_OUT_COMPLETE,
                  this.handleTransitionOutComplete.bind(this)
                )
              ),
              this.isReady()
          },
        },
      }
    t.a = P
  },
  function (e, t, n) {
    'use strict'
    var i = n(6),
      a = n(7),
      r = n(0),
      s = n.n(r),
      o = n(1),
      l = n.n(o),
      u = n(4),
      c = n.n(u),
      d = n(2),
      h = n.n(d),
      f = n(5),
      p = n.n(f),
      v = (function (e) {
        function t() {
          return s()(this, t), c()(this, h()(t).apply(this, arguments))
        }
        return (
          p()(t, e),
          l()(t, [
            { key: 'setupTransitionInTimeline', value: function (e, t, n) {} },
            { key: 'setupTransitionOutTimeline', value: function (e, t, n) {} },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {},
            },
          ]),
          t
        )
      })(i.AbstractTransitionController),
      m = n(27),
      _ = n(57),
      g = {
        name: 'PaperMaskSequence',
        components: { SpriteSequence: n(272).a },
        extends: i.AbstractTransitionComponent,
        props: {
          autoLoad: a.default.bool.def(!0),
          autoplay: a.default.bool.def(!1),
        },
        data: function () {
          return { spriteSequences: m.b }
        },
        methods: {
          reset: function () {
            this.$refs.sequence.init(m.b.PAPER_TRANSITION_IN),
              this.$refs.sequence.reset()
          },
          reveal: function (e) {
            var t = this
            return (
              e === _.a.IMMEDIATE &&
                (this.$refs.sequence.$el.style.display = 'none'),
              (this.$refs.sequence.$el.style.display = 'block'),
              this.$refs.sequence
                .init(m.b.PAPER_TRANSITION_IN)
                .then(function () {
                  return t.$refs.sequence.play()
                })
            )
          },
          mask: function () {
            var e = this
            return (
              (this.$refs.sequence.$el.style.display = 'block'),
              this.$refs.sequence
                .init(m.b.PAPER_TRANSITION_OUT)
                .then(function () {
                  return e.$refs.sequence.play()
                })
            )
          },
          handleAllComponentsReady: function () {
            ;(this.transitionController = new v(this)), this.isReady()
          },
          handleSpriteSequenceReady: function () {},
        },
      }
    t.a = g
  },
  function (e, t, n) {
    'use strict'
    var i = n(7),
      a = n(103),
      r = n(0),
      s = n.n(r),
      o = n(1),
      l = n.n(o),
      u = n(4),
      c = n.n(u),
      d = n(2),
      h = n.n(d),
      f = n(5),
      p = n.n(f),
      v = (function (e) {
        function t() {
          return s()(this, t), c()(this, h()(t).apply(this, arguments))
        }
        return (
          p()(t, e),
          l()(t, [
            { key: 'setupTransitionInTimeline', value: function (e, t, n) {} },
            { key: 'setupTransitionOutTimeline', value: function (e, t, n) {} },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {},
            },
          ]),
          t
        )
      })(n(6).AbstractTransitionController),
      m = {
        name: 'PrimaryCircleButton',
        extends: a.a,
        props: {
          count: i.default.number,
          isSearchOpen: i.default.bool.def(!1),
        },
        methods: {
          handleAllComponentsReady: function () {
            ;(this.transitionController = new v(this)), this.isReady()
          },
        },
      }
    t.a = m
  },
  function (e, t, n) {
    'use strict'
    var i = n(16),
      a = n.n(i),
      r = n(6),
      s = n(7),
      o = n(63),
      l = n.n(o),
      u = n(65),
      c = n(159),
      d = n.n(c),
      h = n(0),
      f = n.n(h),
      p = n(1),
      v = n.n(p),
      m = n(4),
      _ = n.n(m),
      g = n(2),
      y = n.n(g),
      T = n(10),
      E = n.n(T),
      b = n(5),
      C = n.n(b),
      A = n(9),
      I = (function (e) {
        function t() {
          return f()(this, t), _()(this, y()(t).apply(this, arguments))
        }
        return (
          C()(t, e),
          v()(t, [
            {
              key: 'transitionIn',
              value: function (e) {
                return E()(y()(t.prototype), 'transitionIn', this).call(this, e)
              },
            },
            {
              key: 'setupTransitionInTimeline',
              value: function (e, t, n) {
                var i = t.inSequence,
                  a = { frame: 0 }
                e.fromTo(
                  a,
                  i.frameCount / i.fps,
                  { frame: a.frame },
                  {
                    frame: i.frameCount,
                    roundProps: 'frame',
                    ease: A.Linear.easeNone,
                    onUpdate: function () {
                      t.draw(a.frame)
                    },
                  }
                )
              },
            },
            {
              key: 'setupTransitionOutTimeline',
              value: function (e, t, n) {
                var i = t.outSequence,
                  a = { frame: 0 }
                e.to(a, i.frameCount / i.fps, {
                  frame: i.frameCount,
                  roundProps: 'frame',
                  ease: A.Linear.easeNone,
                  onUpdate: function () {
                    t.draw(a.frame)
                  },
                })
              },
            },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {},
            },
          ]),
          t
        )
      })(r.AbstractTransitionController),
      k = n(158),
      R = n(286),
      M = n(86),
      x = n(143),
      S = {
        name: 'ImageMaskSequence',
        extends: r.AbstractTransitionComponent,
        props: {
          topImageLayer: Object(M.a)(s.default.string),
          imageSource: Object(M.a)(s.default.string),
          inSequence: s.default.shape(k.a),
          outSequence: s.default.shape(k.a),
          autoLoad: s.default.bool.def(!0),
          autoplay: s.default.bool.def(!1),
          alignBottom: s.default.bool.def(!1),
        },
        watch: {
          imageSource: function () {
            this.loadImage()
          },
        },
        created: function () {
          ;(this.disposableManager = new l.a()),
            (this.size = { width: 0, height: 0 }),
            this.loadImage()
        },
        beforeDestroy: function () {
          this.disposableManager && this.disposableManager.dispose()
        },
        mounted: function () {
          var e = this
          ;(this.canvas = this.$refs.canvas),
            (this.ctx = this.canvas.getContext('2d')),
            (this.spriteSequence = new R.a(
              a()({}, this.inSequence, { element: this.$el }),
              this.$versionRoot
            )),
            this.disposableManager.add(this.spriteSequence),
            this.spriteSequence.setup(document.createElement('canvas')),
            this.autoLoad &&
              this.spriteSequence.load().then(function () {
                e.autoplay && e.spriteSequence.play()
              }),
            this.setSize()
        },
        methods: {
          loadImage: function () {
            var e = this
            this.imageSource
              ? ((this.loadImageTask = new u.LoadImageTask({
                  assets: this.imageSource,
                  onAssetLoaded: function (t) {
                    ;(e.image = t.asset), e.setSize()
                  },
                })),
                (this.loadImagesPromise = this.loadImageTask.load()))
              : (this.image = null)
          },
          draw: function (e) {
            if (this.image) {
              this.ctx.clearRect(0, 0, this.size.width, this.size.height)
              var t = d()(
                [0, 0, this.image.naturalWidth, this.image.naturalHeight],
                [0, 0, this.size.width, this.size.height],
                'cover'
              )
              if (
                (this.ctx.drawImage(
                  this.image,
                  t[0],
                  this.alignBottom ? this.size.height - t[3] : t[1],
                  t[2],
                  t[3]
                ),
                this.topImageLayer)
              ) {
                var n = u.cacheManager.get(
                    Object(x.a)(this.topImageLayer, this.$versionRoot)
                  ),
                  i = d()(
                    [0, 0, n.naturalWidth, n.naturalHeight],
                    [0, 0, this.size.width, this.size.height],
                    'cover'
                  )
                this.ctx.drawImage(n, i[0], i[1], i[2], i[3])
              }
              ;(this.ctx.globalCompositeOperation = 'destination-in'),
                this.spriteSequence.drawFrame(e),
                this.spriteSequence.getCanvas() &&
                  this.ctx.drawImage(
                    this.spriteSequence.getCanvas(),
                    0,
                    0,
                    this.size.width,
                    this.size.width
                  ),
                (this.ctx.globalCompositeOperation = 'source-over')
            }
          },
          transitionIn: function (e) {
            var t = this
            return this.allComponentsReady.then(function () {
              return t.loadImagesPromise.then(function () {
                return t.spriteSequence.init(t.inSequence).then(function () {
                  return t.transitionController.transitionIn(e)
                })
              })
            })
          },
          getDuration: function (e) {
            return e === r.TransitionDirection.OUT
              ? this.outSequence.frameCount / this.outSequence.fps
              : this.inSequence.frameCount / this.inSequence.fps
          },
          transitionOut: function (e, t, n) {
            var i = this
            return this.spriteSequence.init(this.outSequence).then(function () {
              return i.transitionController.transitionOut(e, t, n)
            })
          },
          onResize: function () {
            this.setSize()
          },
          setSize: function () {
            ;(this.size.width = this.$el.offsetWidth),
              (this.size.height = this.$el.offsetHeight),
              (this.$refs.canvas.width = this.size.width),
              (this.$refs.canvas.height = this.size.height)
          },
          handleAllComponentsReady: function () {
            ;(this.transitionController = new I(this)), this.isReady()
          },
        },
      }
    t.a = S
  },
  function (e, t, n) {
    'use strict'
    var i = n(7),
      a = n(103),
      r = n(0),
      s = n.n(r),
      o = n(1),
      l = n.n(o),
      u = n(4),
      c = n.n(u),
      d = n(2),
      h = n.n(d),
      f = n(5),
      p = n.n(f),
      v = n(6),
      m = n(9),
      _ = (function (e) {
        function t() {
          return s()(this, t), c()(this, h()(t).apply(this, arguments))
        }
        return (
          p()(t, e),
          l()(t, [
            {
              key: 'onMouseEnter',
              value: function () {
                if (!this.mouseEnterTimeline) {
                  this.mouseEnterTimeline = new m.TimelineMax({ paused: !0 })
                  this.mouseEnterTimeline.to(
                    this.parentController.$refs.button,
                    0.15,
                    {
                      scale: 0.7,
                      transformOrigin: 'center center',
                      ease: m.Power1.easeOut,
                    }
                  ),
                    this.mouseEnterTimeline.to(
                      this.parentController.$refs.button,
                      0.15,
                      { scale: 1.1, ease: m.Power1.easeInOut }
                    ),
                    this.mouseEnterTimeline.to(
                      this.parentController.$refs.button,
                      0.15,
                      { scale: 0.95, ease: m.Power1.easeInOut }
                    ),
                    this.mouseEnterTimeline.to(
                      this.parentController.$refs.button,
                      0.15,
                      { scale: 1, ease: m.Power1.easeInOut, clearProps: 'all' }
                    )
                }
                this.mouseEnterTimeline.restart()
              },
            },
            {
              key: 'setupTransitionInTimeline',
              value: function (e, t, n) {
                e.fromTo(
                  t.$el,
                  0.8,
                  { autoAlpha: 0, pointerEvents: 'none' },
                  { autoAlpha: 1, pointerEvents: 'all' }
                )
              },
            },
            {
              key: 'setupTransitionOutTimeline',
              value: function (e, t, n) {
                e.to(t.$el, 0.8, { autoAlpha: 0, pointerEvents: 'none' })
              },
            },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {},
            },
          ]),
          t
        )
      })(v.AbstractTransitionController),
      g = {
        name: 'CloseButton',
        props: { isBackButton: i.default.bool.def(!1) },
        extends: a.a,
        methods: {
          handleAllComponentsReady: function () {
            ;(this.transitionController = new _(this)), this.isReady()
          },
        },
      }
    t.a = g
  },
  function (e, t, n) {
    'use strict'
    var i = n(13),
      a = n.n(i),
      r = n(6),
      s = n(7),
      o = n(0),
      l = n.n(o),
      u = n(1),
      c = n.n(u),
      d = n(4),
      h = n.n(d),
      f = n(2),
      p = n.n(f),
      v = n(5),
      m = n.n(v),
      _ = (function (e) {
        function t() {
          return l()(this, t), h()(this, p()(t).apply(this, arguments))
        }
        return (
          m()(t, e),
          c()(t, [
            { key: 'setupTransitionInTimeline', value: function (e, t, n) {} },
            { key: 'setupTransitionOutTimeline', value: function (e, t, n) {} },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {},
            },
          ]),
          t
        )
      })(r.AbstractTransitionController),
      g = {
        name: 'HeadingPrefix',
        extends: r.AbstractTransitionComponent,
        props: {
          label: s.default.string.isRequired,
          tag: s.default.string.def('p'),
        },
        methods: {
          handleAllComponentsReady: function () {
            ;(this.transitionController = new _(this)), this.isReady()
          },
        },
        render: function (e) {
          return e(this.tag, {
            domProps: { innerHTML: this.label },
            class: a()({}, this.$style.headingPrefix, !0),
          })
        },
      }
    t.a = g
  },
  function (e, t, n) {
    'use strict'
    var i = n(7),
      a = n(6),
      r = n(0),
      s = n.n(r),
      o = n(1),
      l = n.n(o),
      u = n(4),
      c = n.n(u),
      d = n(2),
      h = n.n(d),
      f = n(5),
      p = n.n(f),
      v = (function (e) {
        function t() {
          return s()(this, t), c()(this, h()(t).apply(this, arguments))
        }
        return (
          p()(t, e),
          l()(t, [
            { key: 'setupTransitionInTimeline', value: function (e, t, n) {} },
            { key: 'setupTransitionOutTimeline', value: function (e, t, n) {} },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {},
            },
          ]),
          t
        )
      })(a.AbstractTransitionController),
      m = {
        name: 'AudioPlayer',
        extends: a.AbstractTransitionComponent,
        props: {
          file: i.default.string.isRequired,
          small: i.default.bool.def(!1),
        },
        data: function () {
          return { isPlaying: !1, progress: 0 }
        },
        watch: {
          isPlaying: function (e) {
            e && requestAnimationFrame(this.tick)
          },
        },
        beforeDestroy: function () {
          this.$refs.audio.pause()
        },
        methods: {
          handleAllComponentsReady: function () {
            ;(this.transitionController = new v(this)), this.isReady()
          },
          onPlay: function () {
            this.isPlaying = !0
          },
          onPause: function () {
            this.isPlaying = !1
          },
          onEnded: function () {
            ;(this.isPlaying = !1), this.$emit('complete')
          },
          play: function () {
            var e =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : this.$refs.audio.currentTime
            this.$refs.audio.play(e)
          },
          pause: function () {
            this.$refs.audio.pause()
          },
          togglePlay: function () {
            this.isPlaying ? this.$refs.audio.pause() : this.$refs.audio.play()
          },
          tick: function () {
            this.$refs.audio &&
              ((this.progress =
                this.$refs.audio.currentTime / this.$refs.audio.duration),
              this.isPlaying && requestAnimationFrame(this.tick))
          },
        },
      }
    t.a = m
  },
  function (e, t, n) {
    'use strict'
    var i = n(6),
      a = n(7),
      r = n(28),
      s = n(0),
      o = n.n(s),
      l = n(1),
      u = n.n(l),
      c = n(4),
      d = n.n(c),
      h = n(2),
      f = n.n(h),
      p = n(5),
      v = n.n(p),
      m = n(57),
      _ = (function (e) {
        function t() {
          return o()(this, t), d()(this, f()(t).apply(this, arguments))
        }
        return (
          v()(t, e),
          u()(t, [
            {
              key: 'setupTransitionInTimeline',
              value: function (e, t, n) {
                var i = this
                switch (
                  (e.fromTo(
                    t.$el,
                    0.1,
                    { pointerEvents: 'none' },
                    { pointerEvents: 'all' },
                    0.01
                  ),
                  e.add(function () {
                    i.resetPaperSequence()
                  }, 0),
                  n)
                ) {
                  case m.a.IMMEDIATE:
                    e.add(function () {
                      i.parentController.$refs.paperMaskSequence.reveal(
                        m.a.IMMEDIATE
                      )
                    }, 0)
                    break
                  default:
                    e.fromTo(t.$el, 0.4, { autoAlpha: 0 }, { autoAlpha: 1 }, 0),
                      e.add(function () {
                        i.parentController.$refs.paperMaskSequence.reveal()
                      })
                }
              },
            },
            {
              key: 'resetPaperSequence',
              value: function () {
                this.parentController.$refs.paperMaskSequence.reset()
              },
            },
            {
              key: 'maskContent',
              value: function () {
                return this.parentController.$refs.paperMaskSequence.mask()
              },
            },
            {
              key: 'revealContent',
              value: function () {
                return this.parentController.$refs.paperMaskSequence.reveal()
              },
            },
            {
              key: 'setupTransitionOutTimeline',
              value: function (e, t, n) {
                e.to(t.$el, 0.1, { pointerEvents: 'none' }, 0)
              },
            },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {},
            },
          ]),
          t
        )
      })(i.AbstractTransitionController),
      g = n(271),
      y = n(59),
      T = {
        name: 'ModalBackground',
        components: { PaperMaskSequence: g.a },
        extends: i.AbstractTransitionComponent,
        props: {
          size: a.default.oneOf(Object.values(y.a)).def(y.a.MEDIUM),
          showShadow: a.default.bool.def(!0),
          borderRadius: a.default
            .shape({
              topLeft: a.default.bool,
              topRight: a.default.bool,
              bottomRight: a.default.bool,
              bottomLeft: a.default.bool,
            })
            .def({
              topLeft: !0,
              topRight: !0,
              bottomRight: !0,
              bottomLeft: !0,
            }),
        },
        computed: {
          borderSize: function () {
            return y.a[this.size].toLowerCase()
          },
        },
        data: function () {
          return { showDropShadow: !1 }
        },
        beforeDestroy: function () {
          this.disposableManager && this.disposableManager.dispose()
        },
        created: function () {
          this.disposableManager = new r.DisposableManager()
        },
        methods: {
          handleAllComponentsReady: function () {
            ;(this.transitionController = new _(this)), this.isReady()
          },
          handleComponentReady: function () {},
        },
      }
    t.a = T
  },
  function (e, t, n) {
    'use strict'
    var i = n(16),
      a = n.n(i),
      r = n(7),
      s = n(17),
      o = n(6),
      l = n(0),
      u = n.n(l),
      c = n(1),
      d = n.n(c),
      h = n(4),
      f = n.n(h),
      p = n(2),
      v = n.n(p),
      m = n(5),
      _ = n.n(m),
      g = n(30),
      y = (function (e) {
        function t() {
          return u()(this, t), f()(this, v()(t).apply(this, arguments))
        }
        return (
          _()(t, e),
          d()(t, [
            {
              key: 'setupTransitionInTimeline',
              value: function (e, t, n) {
                e.fromTo(
                  t.$el,
                  0.8,
                  { yPercent: 100 },
                  { yPercent: 0, ease: g.a.VinnieInOut, clearProps: 'yPercent' }
                )
              },
            },
            {
              key: 'setupTransitionOutTimeline',
              value: function (e, t, n) {
                e.to(t.$el, 0.8, { yPercent: 100, ease: g.a.VinnieInOut })
              },
            },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {},
            },
          ]),
          t
        )
      })(o.AbstractTransitionController),
      T = n(269),
      E = n(277),
      b = {
        name: 'AudioCardModal',
        components: { ModalBackground: n(74).a, AudioPlayer: E.a },
        extends: o.AbstractTransitionComponent,
        props: { cardId: r.default.string.isRequired },
        data: function () {
          return { songIds: Object.keys(T.a) }
        },
        computed: a()(
          {},
          Object(s.d)({
            deviceState: function (e) {
              return e.app.deviceState
            },
          }),
          {
            meta: function () {
              var e = this
              return this.songIds.map(function (t) {
                return e.$soundModel.getItemById(t)
              })
            },
            content: function () {
              var e = this
              return this.meta
                ? this.songIds.map(function (t) {
                    return e.$store.getters.translation.audio[t]
                  })
                : null
            },
          }
        ),
        methods: {
          handleAllComponentsReady: function () {
            ;(this.transitionController = new y(this)),
              this.transitionController.addEventListener(
                o.TransitionEvent.types.TRANSITION_OUT_START,
                function () {}
              ),
              this.isReady()
          },
        },
      }
    t.a = b
  },
  function (e, t, n) {
    'use strict'
    var i = n(6),
      a = n(7),
      r = n(0),
      s = n.n(r),
      o = n(1),
      l = n.n(o),
      u = n(4),
      c = n.n(u),
      d = n(2),
      h = n.n(d),
      f = n(5),
      p = n.n(f),
      v = (function (e) {
        function t() {
          return s()(this, t), c()(this, h()(t).apply(this, arguments))
        }
        return (
          p()(t, e),
          l()(t, [
            { key: 'setupTransitionInTimeline', value: function (e, t, n) {} },
            { key: 'setupTransitionOutTimeline', value: function (e, t, n) {} },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {},
            },
          ]),
          t
        )
      })(i.AbstractTransitionController),
      m = n(285),
      _ = {
        name: 'HistoryTimeline',
        extends: i.AbstractTransitionComponent,
        props: { timeline: a.default.arrayOf(a.default.shape(m.a)).isRequired },
        methods: {
          handleAllComponentsReady: function () {
            ;(this.transitionController = new v(this)), this.isReady()
          },
        },
      }
    t.a = _
  },
  function (e, t, n) {
    'use strict'
    var i = n(268),
      a = n.n(i),
      r = n(6),
      s = n(7),
      o = n(76),
      l = n.n(o),
      u = n(274),
      c = n(9),
      d = n(0),
      h = n.n(d),
      f = n(1),
      p = n.n(f),
      v = n(4),
      m = n.n(v),
      _ = n(2),
      g = n.n(_),
      y = n(5),
      T = n.n(y),
      E = n(21),
      b = n.n(E),
      C = n(30),
      A = (function (e) {
        function t() {
          return h()(this, t), m()(this, g()(t).apply(this, arguments))
        }
        return (
          T()(t, e),
          p()(t, [
            {
              key: 'setupTransitionInTimeline',
              value: function (e, t, n) {
                e.fromTo(
                  t.$el,
                  0.1,
                  { yPercent: 0, pointerEvents: 'none' },
                  { yPercent: 0, pointerEvents: 'all' },
                  0
                ),
                  e.add(this.getTimeline('dotsPaginator', b.a.IN), 0)
              },
            },
            {
              key: 'setupTransitionOutTimeline',
              value: function (e, t, n) {
                e.to(
                  t.$el,
                  2,
                  {
                    yPercent: 120,
                    pointerEvents: 'none',
                    ease: C.a.VinnieInOut,
                  },
                  0
                ),
                  e.add(this.getTimeline('dotsPaginator', b.a.OUT), 0)
              },
            },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {},
            },
          ]),
          t
        )
      })(r.AbstractTransitionController),
      I = n(275),
      k = n(64),
      R = n(107),
      M = n(57),
      x = n(270),
      S = n(567),
      w = {
        name: 'CardCarousel',
        components: { CardModal: I.a, DotsPaginator: S.a },
        extends: r.AbstractTransitionComponent,
        props: {
          cardIds: s.default.arrayOf(k.a),
          duration: s.default.number.def(0.6),
        },
        data: function () {
          return { snapIndex: 0 }
        },
        watch: {
          cardIds: function () {
            var e = this
            0 === this.itemWidth &&
              this.$nextTick(function () {
                e.updateItemWidth()
              })
          },
        },
        mounted: function () {
          this.handleResize(), this.createDraggable()
        },
        methods: {
          transitionInCard: function (e, t) {
            var n = this,
              i = function (e, t, i) {
                n.$nextTick(function () {
                  n.onAsyncComponentsReadyResolveMethod(),
                    n.onAsyncComponentsReadyPromise.then(function () {
                      if (t) {
                        var a = Array.from(
                          n.$el.querySelectorAll('.js-card')
                        ).map(function (e) {
                          return e.__vue__
                        })
                        n.showOtherCardsDirectly(e, a),
                          n.gotoIndex(e, i),
                          a[e].transitionController.setupTimeline(
                            r.TimelineType.IN,
                            !0
                          ),
                          a[e].transitionIn(!0)
                      } else n.gotoIndex(e, i)
                    })
                })
              }
            this.allComponentsReady.then(function () {
              if (
                ((n.onAsyncComponentsReadyPromise = n.updateRegistrableComponents(
                  function (e) {
                    n.onAsyncComponentsReadyResolveMethod = e
                  }
                )),
                (n.activeCardId = e),
                e && !t)
              ) {
                n.transitionIn(), n.renderCard(e, n.cardIds.length)
                var a = n.cardIds.indexOf(e)
                i(a, !0, 0)
              } else if (e) {
                var r = n.renderCard(e, n.snapIndex + 1),
                  s = n.cardIds.indexOf(e),
                  o = Math.max(
                    n.duration,
                    Math.min(2.5, Math.abs(n.snapIndex - s) * n.duration)
                  )
                i(s, r, o)
              }
            })
          },
          showOtherCardsDirectly: function (e, t) {
            this.cardIds.forEach(function (n, i) {
              i !== e &&
                t[i].transitionController.isHidden &&
                (t[i].transitionController.setupTimeline(
                  r.TimelineType.IN,
                  !0,
                  M.a.IMMEDIATE
                ),
                t[i].transitionIn(!0))
            })
          },
          enablePointerEvents: function (e) {
            this.$refs.carouselItems.forEach(function (t, n) {
              c.TweenLite.set(t, { pointerEvents: n !== e ? 'none' : 'all' })
            })
          },
          gotoIndex: function (e, t) {
            var n = this
            return (
              (this.snapIndex = e),
              new Promise(function (i) {
                0 === t
                  ? (c.TweenLite.set(n.$refs.draggable, {
                      x: -1 * e * n.itemWidth,
                    }),
                    n.dragger.update(),
                    i())
                  : c.TweenLite.to(n.$refs.draggable, t, {
                      x: -1 * e * n.itemWidth,
                      ease: C.a.VinnieInOut,
                      onComplete: function () {
                        n.dragger.update(), i()
                      },
                    })
              })
            )
          },
          renderCard: function (e, t) {
            var n = e && !this.cardIds.includes(e)
            return n && this.$store.commit(R.b, { cardId: e, index: t }), n
          },
          onClose: function (e) {
            var t = this,
              n = this.cardIds[this.snapIndex + 1]
                ? this.snapIndex + 1
                : this.snapIndex - 1,
              i = this.snapIndex
            n < 0 && (n = 1),
              this.cardIds.length > 1
                ? this.gotoIndex(n, this.duration).then(function () {
                    t.$store.commit(R.c, e),
                      t.gotoIndex(n > i ? i : n, 0),
                      t.$emit('change', t.snapIndex)
                  })
                : (this.$emit('close'),
                  this.transitionOutPromise.then(function () {
                    t.$store.commit(R.c, e)
                  }))
          },
          createDraggable: function () {
            var e = this
            x.a
            var t = u.a.create(this.$refs.draggable, {
                type: 'x',
                trigger: this.$el,
                throwProps: !0,
                lockAxis: !0,
                cursor: 'ew-resize',
                edgeResistance: 1,
                lockAxisOnTouchScroll: !1,
                zIndexBoost: !1,
                maxDuration: 2,
                minimumMovement: l.a.ios ? 12 : 3,
                bounds: this.$el,
                onDragStart: function () {
                  return e.toggleScrollDisableListeners(!0)
                },
                onDragEnd: function () {
                  return e.toggleScrollDisableListeners(!1)
                },
                onThrowComplete: this.onThrowComplete.bind(this),
                snap: this.getSnap.bind(this),
              }),
              n = a()(t, 1)
            this.dragger = n[0]
          },
          transitionIn: function (e) {
            var t = this
            return (
              (this.transitionOutPromise = new Promise(function (e) {
                t.transitionOutResolveMethod = e
              })),
              this.allComponentsReady.then(function () {
                return t.transitionController.transitionIn(e)
              })
            )
          },
          transitionOut: function (e, t, n) {
            return this.transitionController
              .transitionOut(e, t, n)
              .then(this.transitionOutResolveMethod)
          },
          onThrowComplete: function () {
            this.$emit('change', this.snapIndex)
          },
          getSnap: function (e) {
            return (
              (this.snapIndex = Math.min(
                this.cardIds.length - 1,
                Math.max(0, -1 * Math.round(e / this.itemWidth))
              )),
              -1 * this.snapIndex * this.itemWidth
            )
          },
          onOpenCardLinkClick: function (e) {
            this.$emit('openCardLink', e, this.snapIndex + 1)
          },
          updateItemWidth: function () {
            this.itemWidth = this.$refs.carouselItems
              ? this.$refs.carouselItems[0].offsetWidth
              : 0
          },
          handleResize: function () {
            this.updateItemWidth()
          },
          handlePaginationChange: function () {},
          handleDotsPaginatorReady: function (e) {
            this.paginator = e
          },
          handleAllComponentsReady: function () {
            ;(this.transitionController = new A(this)), this.isReady()
          },
          handleComponentReady: function () {},
          toggleScrollDisableListeners: function (e) {
            var t = this
            Array.from(this.$el.querySelectorAll('.scroll-container')).forEach(
              function (n) {
                e
                  ? n.addEventListener('touchmove', t.preventDefault)
                  : n.removeEventListener('touchmove', t.preventDefault)
              }
            )
          },
          preventDefault: function (e) {
            e.preventDefault()
          },
        },
      }
    t.a = w
  },
  function (e, t, n) {
    'use strict'
    var i = n(6),
      a = n(28),
      r = n(20),
      s = n(104),
      o = n(0),
      l = n.n(o),
      u = n(1),
      c = n.n(u),
      d = n(4),
      h = n.n(d),
      f = n(2),
      p = n.n(f),
      v = n(5),
      m = n.n(v),
      _ = n(21),
      g = n.n(_),
      y = (function (e) {
        function t() {
          return l()(this, t), h()(this, p()(t).apply(this, arguments))
        }
        return (
          m()(t, e),
          c()(t, [
            {
              key: 'setupTransitionInTimeline',
              value: function (e, t, n) {
                e.fromTo(
                  t.$el,
                  0.1,
                  { pointerEvents: 'none', autoAlpha: 0 },
                  { pointerEvents: 'all', autoAlpha: 1 },
                  0
                ),
                  e.add(this.getTimeline('logoSequence', g.a.IN), 0.2),
                  e.add(this.getTimeline('closeButton', g.a.IN), 0),
                  e.add(function () {
                    return t.$refs.headerBackgroundSequence.transitionIn(!0)
                  }, 0.35)
              },
            },
            {
              key: 'setupTransitionOutTimeline',
              value: function (e, t, n) {
                e.to(t.$el, 0.01, { pointerEvents: 'none', autoAlpha: 0 }, 0),
                  e.add(function () {
                    return t.$refs.headerBackgroundSequence.transitionOut(!0)
                  }, 0)
              },
            },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {},
            },
          ]),
          t
        )
      })(i.AbstractTransitionController),
      T = n(283),
      E = n(27),
      b = n(46),
      C = n(284),
      A = n(75),
      I = {
        name: 'MenuPanel',
        components: {
          CloseButton: b.a,
          LogoSequence: C.a,
          ImageMaskSequence: A.a,
        },
        extends: i.AbstractTransitionComponent,
        data: function () {
          return { spriteSequences: E.b, PanelState: T.a }
        },
        created: function () {
          this.disposableManager = new a.DisposableManager()
        },
        beforeDestroy: function () {
          this.smoothScrollbar &&
            (this.smoothScrollbar.destroy(), (this.smoothScrollbar = null)),
            this.disposableManager && this.disposableManager.dispose()
        },
        mounted: function () {
          this.initScrollbar()
        },
        methods: {
          initScrollbar: function () {
            this.smoothScrollbar &&
              (this.smoothScrollbar.destroy(), (this.smoothScrollbar = null)),
              this.$refs.scrollWrapper &&
                (this.smoothScrollbar = s.a.init(this.$refs.scrollWrapper, {
                  damping: 0.1,
                  thumbMinSize: 20,
                  renderByPixels: !0,
                  alwaysShowTracks: !1,
                  continuousScrolling: !0,
                  wheelEventTarget: null,
                  plugins: {},
                }))
          },
          handleTransitionInCompleted: function () {
            var e = this
            this.$refs.logoSequence.load().then(function () {
              e.$refs.logoSequence.play().then(function () {
                e.$emit('completed')
              })
            })
          },
          handleAllComponentsReady: function () {
            ;(this.transitionController = new y(this)),
              this.disposableManager.add(
                new r.DisposableEventListener(
                  this.transitionController,
                  i.TransitionEvent.types.TRANSITION_IN_COMPLETE,
                  this.handleTransitionInCompleted.bind(this)
                )
              ),
              this.isReady()
          },
        },
      }
    t.a = I
  },
  function (e, t, n) {
    'use strict'
    var i = n(268),
      a = n.n(i),
      r = n(16),
      s = n.n(r),
      o = n(55),
      l = n.n(o),
      u = n(6),
      c = n(7),
      d = n(160),
      h = n(28),
      f = n(17),
      p = n(20),
      v = n(9),
      m = n(274),
      _ = n(0),
      g = n.n(_),
      y = n(1),
      T = n.n(y),
      E = n(4),
      b = n.n(E),
      C = n(2),
      A = n.n(C),
      I = n(5),
      k = n.n(I),
      R = n(30),
      M = (function (e) {
        function t() {
          return g()(this, t), b()(this, A()(t).apply(this, arguments))
        }
        return (
          k()(t, e),
          T()(t, [
            {
              key: 'setupTransitionInTimeline',
              value: function (e, t, n) {
                var i = this
                e.add(function () {
                  i.parentController.$refs.paperMaskSequence.reset()
                }, 0),
                  e.fromTo(t.$el, 0.01, { opacity: 0 }, { opacity: 1 }, 0),
                  e.fromTo(
                    t.$el,
                    0.8,
                    { yPercent: 135 },
                    { yPercent: 0, ease: R.a.VinnieInOut },
                    0
                  ),
                  e.add(function () {
                    i.parentController.$refs.paperMaskSequence.reveal()
                  }, '-=0.4'),
                  e.fromTo(
                    t.$refs.zoomControls.$el,
                    0.6,
                    { yPercent: 150 },
                    { yPercent: 0, ease: v.Power2.easeOut },
                    '-=0.6'
                  )
              },
            },
            {
              key: 'setupTransitionOutTimeline',
              value: function (e, t, n) {
                e.to(t.$el, 0.8, { yPercent: 135, ease: R.a.VinnieInOut }, 0),
                  e.to(
                    t.$refs.zoomControls.$el,
                    0.6,
                    { yPercent: 150, ease: v.Power2.easeOut },
                    0
                  ),
                  e.add(function () {
                    t.minimizePreviewCard()
                  }, 0)
              },
            },
            {
              key: 'moveBarDown',
              value: function () {
                this.parentController.minimizePreviewCard()
              },
            },
            { key: 'moveBarBack', value: function () {} },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {},
            },
          ]),
          t
        )
      })(u.AbstractTransitionController),
      x = n(285),
      S = n(33),
      w = n(270),
      P = n(40),
      O = n(271),
      L = n(559),
      F = {
        name: 'TimelineBar',
        components: {
          PreviewCardModal: P.a,
          PaperMaskSequence: O.a,
          ZoomControls: L.a,
        },
        extends: u.AbstractTransitionComponent,
        props: {
          labels: c.default.arrayOf(c.default.number).isRequired,
          events: c.default.arrayOf(c.default.shape(x.a)).isRequired,
          characters: c.default.arrayOf(c.default.oneOf(Object.values(S.a)))
            .isRequired,
        },
        data: function () {
          return {
            positions: {},
            eventId: null,
            previewCardState: P.b.MAXIMIZED,
            characterEvents: {},
            currentYear: 0,
            hideLabelAfterYear: 1264,
            activeDotId: null,
          }
        },
        computed: s()(
          {},
          Object(f.d)({
            deviceState: function (e) {
              return e.app.deviceState
            },
          }),
          {
            visibleLabel: function () {
              return this.currentYear < 25 ||
                this.currentYear > this.hideLabelAfterYear
                ? ''
                : this.currentYear
            },
            labelOpacity: function () {
              return this.currentYear < 250
                ? Math.min(1, this.currentYear / 250)
                : Math.min((1350 - this.currentYear) / 80)
            },
          }
        ),
        beforeDestroy: function () {
          this.disposableManager && this.disposableManager.dispose()
        },
        created: function () {
          var e = this
          ;(this.isTransitionFromHidden = !1),
            (this.maxEventsInRange = 2),
            (this.disposableManager = new h.DisposableManager()),
            (this.characterLines = {}),
            this.characters.forEach(function (t) {
              e.$set(
                e.characterEvents,
                t,
                e.$eventModel.getEventsByCharacterId(t)
              ),
                (e.characterLines[t] = { visible: !1 })
            })
        },
        mounted: function () {
          this.handleResize(),
            this.createDraggable(),
            this.setTimelineBarHeight(),
            this.disposableManager.add(
              new p.DisposableEventListener(
                window,
                'resize',
                l()(this.handleResize.bind(this), 100)
              )
            )
        },
        methods: {
          createDraggable: function () {
            w.a
            var e = m.a.create(this.$refs.draggable, {
                type: 'x',
                trigger: this.$el,
                throwProps: !0,
                lockAxis: !0,
                cursor: 'ew-resize',
                edgeResistance: 0.75,
                lockAxisOnTouchScroll: !1,
                zIndexBoost: !1,
                maxDuration: 1,
                onThrowComplete: this.onThrowComplete.bind(this),
                onDragStart: this.onDragStart.bind(this),
                onDrag: this.onDragChange.bind(this),
                onThrowUpdate: this.onDragChange.bind(this),
                bounds: this.$refs.boundContainer,
                snap: this.getSnap.bind(this),
              }),
              t = a()(e, 1)
            this.dragger = t[0]
          },
          updatePositions: function () {
            var e = this,
              t = this.$refs.boundContainer.getBoundingClientRect().left
            this.labels.forEach(function (n, i) {
              var a = e.labels[i + 1]
              if (a) {
                var r = e.events.filter(function (e) {
                    return e.date >= n && e.date < a
                  }),
                  s = e.defaultLabelWidth
                if (r.length > 0) {
                  r.length > e.maxEventsInRange &&
                    ((s =
                      (e.defaultLabelWidth / e.maxEventsInRange) * r.length),
                    (e.$refs.labels[i].style.width = ''.concat(s, 'px')))
                  var o = e.$refs.labels[i].getBoundingClientRect().left - t,
                    l = a - n,
                    u = {}
                  r.forEach(function (e) {
                    u[e.date] || (u[e.date] = []), u[e.date].push(e)
                  }),
                    Object.keys(u).forEach(function (t) {
                      if (u[t].length > 1) {
                        var i = u[t].length
                        u[t].forEach(function (t, n) {
                          e.$set(e.positions, t.id, o + (n / i) * s)
                        })
                      } else {
                        var a = u[t][0],
                          r = a.date - n
                        e.$set(e.positions, a.id, o + (r / l) * s)
                      }
                    })
                }
              }
            }),
              (this.labelPositions = this.$refs.labels.map(function (e) {
                return e.getBoundingClientRect().left - t
              })),
              (this.positionsArray = Object.keys(this.positions).map(function (
                t
              ) {
                return e.positions[t]
              }))
          },
          setEvent: function (e) {
            var t = this
            v.TweenLite.set(this.$refs.draggable, { x: -this.positions[e] }),
              this.dragger.update(),
              this.setCurrentYear(),
              this.setTimelineBarHeight(),
              this.setActiveDot(),
              v.TweenLite.set(this.$refs.fakeItems, {
                x: this.dragger.x,
                onComplete: function () {
                  t.onPositionCompleted()
                },
              })
          },
          gotoEvent: function (e, t, n) {
            var i = this
            if (e !== this.eventId) {
              var a = Math.abs(Math.abs(this.dragger.x) - this.positions[e]),
                r = t || a / 1500,
                s = n || v.Power2.easeOut
              v.TweenLite.to(this.$refs.draggable, r, {
                x: -this.positions[e],
                ease: s,
                onUpdate: function () {
                  i.dragger.update(),
                    i.setCurrentYear(),
                    i.setTimelineBarHeight(),
                    i.setActiveDot(),
                    v.TweenLite.set(i.$refs.fakeItems, { x: i.dragger.x })
                },
                onComplete: function () {
                  i.dragger.update(), i.onPositionCompleted()
                },
              }),
                this.$emit('change', e),
                this.maximizePreviewCard(e)
            }
          },
          maximizePreviewCard: function (e) {
            var t = this
            ;(this.updateEventIdPromise = new Promise(function (e) {
              t.updateEventIdResolver = e
            })),
              this.minimizePreviewCard().then(function () {
                ;(t.eventId = e),
                  t.updateEventIdResolver(),
                  (t.transitionOutPromise = null),
                  t.$nextTick(function () {
                    ;(t.previewCardState = P.b.MAXIMIZED),
                      (t.$refs.previewCard.startDelay = t.isTransitionFromHidden
                        ? 1
                        : 0),
                      t.$refs.previewCard.transitionIn(),
                      (t.isTransitionFromHidden = !1)
                  })
              })
          },
          minimizePreviewCard: function () {
            var e = this
            return this.transitionOutPromise
              ? this.transitionOutPromise
              : ((this.transitionOutPromise = new Promise(function (t) {
                  e.$refs.previewCard
                    ? ((e.previewCardState = P.b.MINIMIZED),
                      e.$nextTick(function () {
                        e.$refs.previewCard
                          .transitionOut(!1, null, !0)
                          .then(function () {
                            return t()
                          })
                      }))
                    : t()
                })),
                this.transitionOutPromise)
          },
          onDragStart: function () {
            this.$refs.previewCard && this.minimizePreviewCard()
          },
          onThrowComplete: function () {
            this.onPositionCompleted()
          },
          onPositionCompleted: function () {
            var e = this
            this.updateEventIdPromise &&
              this.updateEventIdPromise.then(function () {
                e.currentYear = e.events.find(function (t) {
                  return t.id === e.eventId
                }).date
              })
          },
          getSnap: function (e) {
            var t = -Object(d.findClosest)(
                this.positionsArray,
                Math.abs(
                  Math.min(this.dragger.maxX, Math.max(this.dragger.minX, e))
                )
              ),
              n = Object(d.findClosestIndex)(this.positionsArray, Math.abs(t)),
              i = Object.keys(this.positions)[n]
            return this.$emit('change', i), this.maximizePreviewCard(i), t
          },
          onPreviewCardClick: function () {
            this.previewCardState === P.b.MAXIMIZED
              ? this.$emit('openCard', this.eventId)
              : this.maximizePreviewCard(this.eventId)
          },
          setActiveDot: function () {
            var e = Math.abs(this.dragger.x),
              t = Object(d.findClosestIndex)(this.positionsArray, e, function (
                t
              ) {
                return Math.abs(e - t) < 5
              }),
              n = Object.keys(this.positions)[t]
            this.activeDotId = n
          },
          onDragChange: function () {
            this.setCurrentYear(),
              this.setTimelineBarHeight(),
              this.setActiveDot(),
              v.TweenLite.set(this.$refs.fakeItems, { x: this.dragger.x })
          },
          setTimelineBarHeight: function () {
            var e = this
            if (this.dragger) {
              var t = this.timelineContainerHeight,
                n = Math.abs(this.dragger.x) + this.timelineBarWidth / 2
              this.characters.forEach(function (t) {
                var i = e.positions[e.characterEvents[t][0].id]
                n >= i && !e.characterLines[t].visible
                  ? ((e.$refs[''.concat(t, 'Line')][0].style.display = 'block'),
                    (e.timelineContainerHeight =
                      e.$refs.timelineContainer.offsetHeight),
                    (e.characterLines[t].visible = !0))
                  : n < i &&
                    e.characterLines[t].visible &&
                    ((e.$refs[''.concat(t, 'Line')][0].style.display = 'none'),
                    (e.timelineContainerHeight =
                      e.$refs.timelineContainer.offsetHeight),
                    (e.characterLines[t].visible = !1))
              }),
                this.timelineContainerHeight ||
                  (this.timelineContainerHeight = this.$refs.timelineContainer.offsetHeight),
                t !== this.timelineContainerHeight &&
                  (this.tween &&
                    (v.TweenLite.killTweensOf(this.tween),
                    this.tween.kill(),
                    (this.tween = null)),
                  (this.tween = v.TweenLite.to(this.$el, 0.3, {
                    height: this.timelineContainerHeight,
                    ease: v.Linear.easeNone,
                  })))
            }
          },
          setCurrentYear: function () {
            if (this.dragger.x > 0) this.currentYear = 0
            else {
              var e = Math.abs(this.dragger.x),
                t = Object(d.findClosestIndex)(
                  this.labelPositions,
                  e,
                  function (t) {
                    return t < e
                  }
                ),
                n = this.labelPositions[t],
                i = this.labelPositions[t + 1]
              if (i) {
                var a = this.labels[t],
                  r = this.labels[t + 1] - a,
                  s = (e - n) / (i - n)
                this.currentYear = a + Math.floor(r * s)
              }
            }
          },
          handleAllComponentsReady: function () {
            ;(this.transitionController = new M(this)), this.isReady()
          },
          handleResize: function () {
            ;(this.timelineBarWidth = this.$el.offsetWidth),
              (this.defaultLabelWidth = this.$refs.labelSpace.offsetWidth),
              this.dragger &&
                (v.TweenLite.set(this.$refs.draggable, { x: 0 }),
                this.dragger.update()),
              this.updatePositions(),
              this.eventId && this.dragger && this.setEvent(this.eventId),
              this.setTimelineBarHeight()
          },
          handleComponentReady: function () {},
          onTimelineItemClick: function (e) {
            this.gotoEvent(e.id, 1.2, v.Power2.easeInOut)
          },
        },
      }
    t.a = F
  },
  function (e, t, n) {
    'use strict'
    var i = n(16),
      a = n.n(i),
      r = n(55),
      s = n.n(r),
      o = n(6),
      l = n(7),
      u = n(17),
      c = n(28),
      d = n(20),
      h = n(0),
      f = n.n(h),
      p = n(1),
      v = n.n(p),
      m = n(4),
      _ = n.n(m),
      g = n(2),
      y = n.n(g),
      T = n(10),
      E = n.n(T),
      b = n(5),
      C = n.n(b),
      A = n(73),
      I = n.n(A),
      k = n(40),
      R = n(30),
      M = (function (e) {
        function t() {
          return f()(this, t), _()(this, y()(t).apply(this, arguments))
        }
        return (
          C()(t, e),
          v()(t, [
            {
              key: 'transitionIn',
              value: function (e) {
                return (
                  this.setupTimeline(I.a.IN, !0),
                  E()(y()(t.prototype), 'transitionIn', this).call(this, e)
                )
              },
            },
            {
              key: 'setupTransitionInTimeline',
              value: function (e, t, n) {
                var i = t.cardState,
                  a = t.startDelay || 0
                if (
                  ((t.startDelay = 0),
                  e.addLabel('start', a),
                  i === k.b.MINIMIZED)
                )
                  e.fromTo(
                    t.$el,
                    0.8,
                    { yPercent: 100 },
                    { yPercent: 0, ease: R.a.VinnieInOut },
                    'start'
                  ),
                    e.fromTo(
                      t.$refs.minimizedTitle,
                      0.6,
                      { autoAlpha: 0 },
                      { autoAlpha: 0 },
                      'start'
                    )
                else {
                  var r = t.$el.offsetHeight - t.barHeight
                  e.fromTo(
                    t.$el,
                    0.8,
                    { y: r },
                    { y: 0, ease: R.a.VinnieInOut },
                    'start'
                  ),
                    e.fromTo(
                      t.$refs.minimizedTitle,
                      0.3,
                      { autoAlpha: 1 },
                      { autoAlpha: 0 },
                      'start'
                    ),
                    e.fromTo(
                      t.$refs.content,
                      0.6,
                      { autoAlpha: 0 },
                      { autoAlpha: 1 },
                      'start+=0.3'
                    )
                }
                if (t.image && t.$refs.imageMaskSequence) {
                  var s = t.spriteSequences.AVATAR_MASK_IN
                  e.add(function () {
                    return t.$refs.imageMaskSequence.transitionIn()
                  }, 'start'),
                    e.fromTo(
                      t.$el,
                      s.frameCount / s.fps,
                      { pointerEvents: 'all' },
                      { pointerEvents: 'all' },
                      'start'
                    ),
                    e.fromTo(
                      t.$refs.imageMaskSequence.$el,
                      0.1,
                      { pointerEvents: i === k.b.MINIMIZED ? 'auto' : 'none' },
                      { pointerEvents: i === k.b.MINIMIZED ? 'none' : 'auto' },
                      'start'
                    )
                }
              },
            },
            {
              key: 'setupTransitionOutTimeline',
              value: function (e, t, n) {
                var i = t.cardState
                if (i === k.b.MINIMIZED) {
                  var a = t.$el.offsetHeight - t.barHeight
                  e.to(t.$el, 0.8, { y: a, ease: R.a.VinnieInOut }, 0.1),
                    e.to(t.$refs.minimizedTitle, 0.4, { autoAlpha: 1 }, 0.5)
                } else
                  e.to(t.$el, 0.8, { yPercent: 100, ease: R.a.VinnieInOut }, 0)
                if (
                  (e.to(t.$refs.content, 0.4, { autoAlpha: 0 }, 0.1),
                  t.image && t.$refs.imageMaskSequence)
                ) {
                  var r = t.spriteSequences.AVATAR_MASK_OUT
                  e.add(function () {
                    return t.$refs.imageMaskSequence.transitionOut()
                  }, 0),
                    e.to(
                      t.$el,
                      r.frameCount / r.fps,
                      { pointerEvents: 'all' },
                      0
                    ),
                    e.to(
                      t.$refs.imageMaskSequence.$el,
                      0.1,
                      { pointerEvents: i === k.b.MINIMIZED ? 'none' : 'auto' },
                      0
                    )
                }
              },
            },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {},
            },
          ]),
          t
        )
      })(o.AbstractTransitionController),
      x = n(64),
      S = n(74),
      w = n(56),
      P = n(86),
      O = n(75),
      L = n(27),
      F = n(58),
      N = { MINIMIZED: 'minimized', MAXIMIZED: 'maximized' },
      D = {
        name: 'PreviewCardModal',
        components: {
          ModalBackground: S.a,
          HeadingPrefix: w.a,
          ImageMaskSequence: O.a,
        },
        extends: o.AbstractTransitionComponent,
        props: {
          cardId: Object(P.a)(x.a),
          cardState: l.default.oneOf(Object.values(N)).def(N.MAXIMIZED),
        },
        data: function () {
          return {
            spriteSequences: L.b,
            endCardId: F.a.E44,
            minimizedTitle: null,
          }
        },
        computed: a()({}, Object(u.b)(['currentLanguage']), {
          headingPrefix: function () {
            return this.meta.episode
              ? ''
                  .concat(this.$t('global.episode'), ' ')
                  .concat(this.meta.episode)
              : this.$t('cardType.'.concat(this.meta.cardType))
          },
          image: function () {
            return this.meta && this.meta.image
              ? ''
                  .concat(this.$staticRoot, 'card/')
                  .concat(this.meta.image, '-small.jpg')
              : null
          },
          meta: function () {
            var e = this.$cardModel.getItemById(this.cardId)
            return e
              ? this.$cardModel.getDataForTypeAndId(e.cardType, this.cardId)
              : null
          },
          content: function () {
            return this.meta && this.meta.cardType
              ? a()(
                  {},
                  this.$store.getters.translation[this.meta.cardType][
                    this.cardId
                  ]
                )
              : null
          },
        }),
        watch: {
          currentLanguage: function () {
            var e = this
            this.$nextTick(function () {
              return e.setMinimizedTitle()
            })
          },
        },
        created: function () {
          this.disposableManager = new c.DisposableManager()
        },
        beforeDestroy: function () {
          this.disposableManager && this.disposableManager.dispose()
        },
        mounted: function () {
          this.disposableManager.add(
            new d.DisposableEventListener(
              window,
              'resize',
              s()(this.handleResize.bind(this), 100)
            )
          ),
            this.handleResize()
        },
        methods: {
          setMinimizedTitle: function () {
            var e = this.$cardModel.getItemById(this.cardId)
            if (e) {
              var t = this.$cardModel.getDataForTypeAndId(
                e.cardType,
                this.cardId
              )
              if (t && t.cardType) {
                var n = this.$store.getters.translation[t.cardType][this.cardId]
                n && (this.minimizedTitle = n.title)
              }
            }
          },
          updateMinimizedBarHeight: function () {
            this.barHeight = this.$refs.minimizedTitle.offsetHeight
          },
          handleResize: function () {
            this.updateMinimizedBarHeight()
          },
          handleTransitionInComplete: function () {
            this.setMinimizedTitle()
          },
          handleAllComponentsReady: function () {
            ;(this.transitionController = new M(this)),
              this.disposableManager.add(
                new d.DisposableEventListener(
                  this.transitionController,
                  o.TransitionEvent.types.TRANSITION_IN_COMPLETE,
                  this.handleTransitionInComplete.bind(this)
                )
              ),
              this.isReady()
          },
        },
      }
    n.d(t, 'b', function () {
      return N
    })
    t.a = D
  },
  function (e, t, n) {
    'use strict'
    var i = n(16),
      a = n.n(i),
      r = n(6),
      s = n(28),
      o = n(20),
      l = n(17),
      u = n(0),
      c = n.n(u),
      d = n(1),
      h = n.n(d),
      f = n(4),
      p = n.n(f),
      v = n(2),
      m = n.n(v),
      _ = n(5),
      g = n.n(_),
      y = (function (e) {
        function t() {
          return c()(this, t), p()(this, m()(t).apply(this, arguments))
        }
        return (
          g()(t, e),
          h()(t, [
            {
              key: 'setupTransitionInTimeline',
              value: function (e, t, n) {
                e.fromTo(
                  t.$el,
                  0.1,
                  { pointerEvents: 'none' },
                  { pointerEvents: 'all' },
                  0
                ),
                  t.$refs.maskOverlay &&
                    e.add(
                      this.getTimeline('maskOverlay', r.TransitionDirection.IN),
                      0
                    )
              },
            },
            {
              key: 'setupTransitionOutTimeline',
              value: function (e, t, n) {
                e.to(t.$el, 0.1, { pointerEvents: 'none' }, 0),
                  t.$refs.maskOverlay &&
                    e.add(
                      this.getTimeline(
                        'maskOverlay',
                        r.TransitionDirection.OUT
                      ),
                      0
                    )
              },
            },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {},
            },
          ]),
          t
        )
      })(r.AbstractTransitionController),
      T = n(64),
      E = n(275),
      b = n(278),
      C = n(86),
      A = n(35),
      I = n(566),
      k = {
        name: 'CardOverlay',
        components: { CardModal: E.a, CardCarousel: I.a, MaskOverlay: b.a },
        extends: r.AbstractTransitionComponent,
        props: { cardId: Object(C.a)(T.a) },
        data: function () {
          return { currentCardId: null }
        },
        computed: a()(
          {},
          Object(l.d)({
            deviceState: function (e) {
              return e.app.deviceState
            },
            cardIds: function (e) {
              return e.user.openCards
            },
          }),
          Object(l.b)({ cardModusEnabled: A.a })
        ),
        watch: {
          cardId: function (e, t) {
            t && this.onCardIdChange(e, t), e || this.$webgl.closeCard()
          },
        },
        beforeDestroy: function () {
          this.disposableManager && this.disposableManager.dispose()
        },
        created: function () {
          this.disposableManager = new s.DisposableManager()
        },
        methods: {
          onCardIdChange: function (e, t) {
            e && (this.currentCardId = e),
              this.cardModusEnabled
                ? e && this.$refs.cardCarousel.transitionInCard(e, t)
                : this.$refs.cardModal.transitionController.isHidden &&
                  e &&
                  this.$refs.cardModal.transitionIn()
          },
          onCarouselChange: function (e) {
            this.$emit('openCard', this.cardIds[e])
          },
          onCloseCard: function () {
            this.$emit('close')
          },
          openCard: function (e) {
            this.$emit('openCard', e)
          },
          handleTransitionInStart: function () {
            this.onCardIdChange(this.cardId)
          },
          onMaskClick: function () {
            this.onCloseCard()
          },
          handleTransitionOutStart: function () {
            var e = this
            this.cardModusEnabled
              ? this.$refs.cardCarousel.transitionOut()
              : this.$refs.cardModal.transitionOut().then(function () {
                  e.currentCardId = null
                })
          },
          handleAllComponentsReady: function () {
            ;(this.transitionController = new y(this)),
              this.disposableManager.add(
                new o.DisposableEventListener(
                  this.transitionController,
                  r.TransitionEvent.types.TRANSITION_IN_START,
                  this.handleTransitionInStart.bind(this)
                )
              ),
              this.disposableManager.add(
                new o.DisposableEventListener(
                  this.transitionController,
                  r.TransitionEvent.types.TRANSITION_OUT_START,
                  this.handleTransitionOutStart.bind(this)
                )
              ),
              this.isReady()
          },
          handleComponentReady: function () {},
        },
      }
    t.a = k
  },
  function (e, t, n) {
    'use strict'
    var i = n(7),
      a = n(6),
      r = n(0),
      s = n.n(r),
      o = n(1),
      l = n.n(o),
      u = n(4),
      c = n.n(u),
      d = n(2),
      h = n.n(d),
      f = n(5),
      p = n.n(f),
      v = n(9),
      m = n(30),
      _ = n(57),
      g = (function (e) {
        function t() {
          return s()(this, t), c()(this, h()(t).apply(this, arguments))
        }
        return (
          p()(t, e),
          l()(t, [
            {
              key: 'setupTransitionInTimeline',
              value: function (e, t, n) {
                var i = this
                e.add(function () {
                  t.$el.removeAttribute('data-complete')
                }),
                  e.fromTo(t.$el, 0.01, { autoAlpha: 0 }, { autoAlpha: 1 })
                var a = t.slowerReveal ? 1.4 : 1.2
                n === _.a.IMMEDIATE && (a = 0.05)
                var r = t.slowerReveal ? v.Power2.easeInOut : m.a.VinnieInOut,
                  s = {
                    default: { z: 0, left: -75 },
                    hover: { left: -50, z: 30 },
                  },
                  o = { default: { z: 0, x: 100 }, hover: { z: -30, x: 0 } },
                  l = {
                    default: { z: 0, left: 0 },
                    hover: { left: 100, z: 60 },
                  },
                  u = {
                    default: { z: 0, left: 0 },
                    hover: { z: 0, left: 100 },
                  },
                  c = {
                    page: Object.assign({}, s.default),
                    front: Object.assign({}, o.default),
                    backHolder: Object.assign({}, l.default),
                    back: Object.assign({}, u.default),
                  }
                e.fromTo(
                  c.page,
                  a,
                  s.default,
                  Object.assign({ ease: r }, s.hover),
                  0
                ),
                  e.fromTo(
                    c.front,
                    a,
                    o.default,
                    Object.assign({ ease: r }, o.hover),
                    0
                  ),
                  e.fromTo(
                    c.backHolder,
                    a,
                    l.default,
                    Object.assign({ ease: r }, l.hover),
                    0
                  ),
                  e.fromTo(
                    c.back,
                    a,
                    u.default,
                    Object.assign({ ease: r }, u.hover),
                    0
                  ),
                  e.add(function () {
                    t.$el.setAttribute('data-complete', 'true')
                  }),
                  e.eventCallback('onUpdate', function () {
                    return i.updateClipMask(c)
                  })
              },
            },
            {
              key: 'setupTransitionOutTimeline',
              value: function (e, t, n) {
                e.to(
                  t.$el,
                  0.8,
                  {
                    pointerEvents: 'none',
                    xPercent: -100 * (t.$isRtl ? -1 : 1),
                    ease: v.Power2.easeOut,
                  },
                  0
                ),
                  e.to(t.$el, 0.1, { autoAlpha: 0 }, '-=0.1')
              },
            },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {},
            },
            {
              key: 'updateClipMask',
              value: function (e) {
                arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
                var t = this.parentController.reverseFlip ? -1 : 1
                Object.assign(this.parentController.$refs.page.style, {
                  webkitTransform: 'translateX('
                    .concat(
                      this.getDirectionValue(e.page.left, t),
                      '%) rotateZ('
                    )
                    .concat(this.getDirectionValue(e.page.z, t), 'deg)'),
                  transform: 'translateX('
                    .concat(
                      this.getDirectionValue(e.page.left, t),
                      '%) rotateZ('
                    )
                    .concat(this.getDirectionValue(e.page.z, t), 'deg)'),
                }),
                  Object.assign(this.parentController.$refs.front.style, {
                    webkitTransform: 'rotateZ('
                      .concat(
                        this.getDirectionValue(e.front.z, t),
                        'deg) translateX('
                      )
                      .concat(this.getDirectionValue(e.front.x, t), '%)'),
                    transform: 'rotateZ('
                      .concat(
                        this.getDirectionValue(e.front.z, t),
                        'deg) translateX('
                      )
                      .concat(this.getDirectionValue(e.front.x, t), '%)'),
                  }),
                  Object.assign(this.parentController.$refs.backHolder.style, {
                    webkitTransform: 'translateX('
                      .concat(
                        this.getDirectionValue(e.backHolder.left, t),
                        '%) rotateZ('
                      )
                      .concat(
                        this.getDirectionValue(e.backHolder.z, t),
                        'deg)'
                      ),
                    transform: 'translateX('
                      .concat(
                        this.getDirectionValue(e.backHolder.left, t),
                        '%) rotateZ('
                      )
                      .concat(
                        this.getDirectionValue(e.backHolder.z, t),
                        'deg)'
                      ),
                  }),
                  Object.assign(this.parentController.$refs.back.style, {
                    webkitTransform: 'translateX('
                      .concat(
                        this.getDirectionValue(e.back.left, t),
                        '%) rotateZ('
                      )
                      .concat(this.getDirectionValue(e.back.z, t), 'deg)'),
                    transform: 'translateX('
                      .concat(
                        this.getDirectionValue(e.back.left, t),
                        '%) rotateZ('
                      )
                      .concat(this.getDirectionValue(e.back.z, t), 'deg)'),
                  })
              },
            },
            {
              key: 'getDirectionValue',
              value: function (e, t) {
                return 'undefined' !== typeof e ? e * t : 0
              },
            },
          ]),
          t
        )
      })(a.AbstractTransitionController),
      y = {
        name: 'PageFlipBackground',
        extends: a.AbstractTransitionComponent,
        props: {
          reverseFlip: i.default.bool.def(!1),
          hasTopLeftRadius: i.default.bool.def(!1),
          hasTopRightRadius: i.default.bool.def(!1),
          hasBottomLeftRadius: i.default.bool.def(!1),
          hasBottomRightRadius: i.default.bool.def(!1),
          resizeContent: i.default.bool.def(!1),
          slowerReveal: i.default.bool.def(!1),
        },
        methods: {
          handleAllComponentsReady: function () {
            ;(this.transitionController = new g(this)),
              this.resizeContent &&
                (this.$el.style.height = ''.concat(
                  this.$slots.default[0].elm.offsetHeight,
                  'px'
                )),
              this.isReady()
          },
        },
      }
    t.a = y
  },
  function (e, t, n) {
    'use strict'
    var i = n(6),
      a = n(7),
      r = n(104),
      s = n(0),
      o = n.n(s),
      l = n(1),
      u = n.n(l),
      c = n(4),
      d = n.n(c),
      h = n(2),
      f = n.n(h),
      p = n(5),
      v = n.n(p),
      m = (function (e) {
        function t() {
          return o()(this, t), d()(this, f()(t).apply(this, arguments))
        }
        return (
          v()(t, e),
          u()(t, [
            {
              key: 'setupTransitionInTimeline',
              value: function (e, t, n) {
                e.fromTo(
                  t.$el,
                  0.1,
                  { pointerEvents: 'none', autoAlpha: 0 },
                  { pointerEvents: 'all', autoAlpha: 1 },
                  0
                ),
                  e.add(
                    this.getTimeline('backButton', i.TransitionDirection.IN),
                    0
                  ),
                  e.add(
                    this.getTimeline('closeButton', i.TransitionDirection.IN),
                    0
                  )
              },
            },
            {
              key: 'setupTransitionOutTimeline',
              value: function (e, t, n) {
                e.to(t.$el, 0.01, { pointerEvents: 'none', autoAlpha: 0 }, 0)
              },
            },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {},
            },
          ]),
          t
        )
      })(i.AbstractTransitionController),
      _ = {
        name: 'PrivacyPanel',
        components: { CloseButton: n(46).a },
        props: { content: a.default.string.isRequired },
        extends: i.AbstractTransitionComponent,
        beforeDestroy: function () {
          this.smoothScrollbar &&
            (this.smoothScrollbar.destroy(), (this.smoothScrollbar = null))
        },
        mounted: function () {
          this.initScrollbar()
        },
        methods: {
          initScrollbar: function () {
            this.smoothScrollbar &&
              (this.smoothScrollbar.destroy(), (this.smoothScrollbar = null)),
              this.$refs.scrollWrapper &&
                (this.smoothScrollbar = r.a.init(this.$refs.scrollWrapper, {
                  damping: 0.1,
                  thumbMinSize: 20,
                  renderByPixels: !0,
                  alwaysShowTracks: !1,
                  continuousScrolling: !0,
                  wheelEventTarget: null,
                  plugins: {},
                }))
          },
          handleAllComponentsReady: function () {
            ;(this.transitionController = new m(this)), this.isReady()
          },
        },
      }
    t.a = _
  },
  function (e, t, n) {
    'use strict'
    var i = n(16),
      a = n.n(i),
      r = n(6),
      s = n(9),
      o = n(17),
      l = n(28),
      u = n(20),
      c = n(7),
      d = n(0),
      h = n.n(d),
      f = n(1),
      p = n.n(f),
      v = n(4),
      m = n.n(v),
      _ = n(2),
      g = n.n(_),
      y = n(5),
      T = n.n(y),
      E = (function (e) {
        function t() {
          return h()(this, t), m()(this, g()(t).apply(this, arguments))
        }
        return (
          T()(t, e),
          p()(t, [
            {
              key: 'setupTransitionInTimeline',
              value: function (e, t, n) {
                e.fromTo(
                  t.$el,
                  0.1,
                  { pointerEvents: 'none' },
                  { pointerEvents: 'all' },
                  0
                ),
                  e.fromTo(
                    t.$el,
                    1.2,
                    { autoAlpha: 0 },
                    { autoAlpha: 1, ease: s.Linear.easeNone },
                    0
                  ),
                  e.fromTo(
                    t.$refs.logoTitle.$el,
                    0.1,
                    { scale: 1.03 },
                    { scale: 1.03 },
                    0
                  ),
                  e.fromTo(
                    t.$el,
                    1.2,
                    { scale: 0.9 },
                    { scale: 1, ease: s.Power2.easeOut },
                    0
                  )
              },
            },
            {
              key: 'setupTransitionOutTimeline',
              value: function (e, t, n) {
                e.to(t.$el, 0.1, { pointerEvents: 'none' }, 0)
              },
            },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {
                e.yoyo(!0),
                  e.to(
                    t.$refs.logoTitle.$el,
                    2,
                    { scale: 1, ease: s.Power2.easeInOut },
                    0
                  ),
                  e.to(
                    t.$refs.logoShield.$el,
                    2,
                    { scale: 1.03, ease: s.Power2.easeInOut },
                    0
                  ),
                  e.to(
                    t.$refs.logoShield.$el,
                    2,
                    { scale: 1, ease: s.Power2.easeInOut },
                    2
                  ),
                  e.to(
                    t.$refs.logoTitle.$el,
                    2,
                    { scale: 1.03, ease: s.Power2.easeInOut },
                    2
                  )
              },
            },
          ]),
          t
        )
      })(r.AbstractTransitionController),
      b = n(27),
      C = {
        name: 'LogoSequence',
        components: { SpriteSequence: n(272).a },
        extends: r.AbstractTransitionComponent,
        props: {
          autoLoad: c.default.bool.def(!0),
          autoplay: c.default.bool.def(!0),
        },
        data: function () {
          return { spriteSequences: b.b }
        },
        computed: a()({}, Object(o.b)(['currentLanguage'])),
        created: function () {
          this.disposableManager = new l.DisposableManager()
        },
        beforeDestroy: function () {
          this.disposableManager && this.disposableManager.dispose()
        },
        methods: {
          load: function () {
            return Promise.all([
              this.$refs.logoShield.load(),
              this.$refs.logoTitle.load(),
            ])
          },
          play: function () {
            return Promise.all([
              this.$refs.logoShield.play(),
              this.$refs.logoTitle.play(),
            ])
          },
          stop: function () {
            this.$refs.logoShield.stop(), this.$refs.logoTitle.stop()
          },
          handleTransitionOutComplete: function () {
            this.stop(), this.stopLoopingAnimation()
          },
          handleTransitionInStart: function () {
            var e = this
            s.TweenLite.delayedCall(0.2, function () {
              return e.startLoopingAnimation()
            })
          },
          handleAllComponentsReady: function () {
            ;(this.transitionController = new E(this)),
              this.disposableManager.add(
                new u.DisposableEventListener(
                  this.transitionController,
                  r.TransitionEvent.types.TRANSITION_OUT_COMPLETE,
                  this.handleTransitionOutComplete.bind(this)
                )
              ),
              this.disposableManager.add(
                new u.DisposableEventListener(
                  this.transitionController,
                  r.TransitionEvent.types.TRANSITION_IN_START,
                  this.handleTransitionInStart.bind(this)
                )
              ),
              this.isReady()
          },
        },
      }
    t.a = C
  },
  function (e, t, n) {
    'use strict'
    var i = n(6),
      a = n(0),
      r = n.n(a),
      s = n(1),
      o = n.n(s),
      l = n(4),
      u = n.n(l),
      c = n(2),
      d = n.n(c),
      h = n(10),
      f = n.n(h),
      p = n(5),
      v = n.n(p),
      m = (function (e) {
        function t() {
          return r()(this, t), u()(this, d()(t).apply(this, arguments))
        }
        return (
          v()(t, e),
          o()(t, [
            {
              key: 'setupTransitionInTimeline',
              value: function (e, t, n) {
                e.fromTo(
                  t.$el,
                  0.8,
                  { autoAlpha: 0, display: 'none' },
                  { autoAlpha: 1, display: 'block' }
                )
              },
            },
            {
              key: 'setupTransitionOutTimeline',
              value: function (e, t, n) {
                e.to(t.$el, 0.6, { autoAlpha: 0, display: 'none' })
              },
            },
            {
              key: 'setupLoopingAnimationTimeline',
              value: function (e, t, n) {},
            },
            {
              key: 'dispose',
              value: function () {
                f()(d()(t.prototype), 'dispose', this).call(this)
              },
            },
          ]),
          t
        )
      })(i.AbstractTransitionController),
      _ = {
        name: 'MaskOverlay',
        extends: i.AbstractTransitionComponent,
        methods: {
          handleAllComponentsReady: function () {
            ;(this.transitionController = new m(this)), this.isReady()
          },
        },
      }
    t.a = _
  },
  function (e, t, n) {
    'use strict'
    var i = n(16),
      a = n.n(i),
      r = n(7),
      s = n(17),
      o = n(6),
      l = n(63),
      u = n.n(l),
      c = n(55),
      d = n.n(c),
      h = n(20),
      f = n(158),
      p = n(286),
      v = {
        name: 'SpriteSequence',
        extends: o.AbstractRegistrableComponent,
        props: {
          autoLoad: r.default.bool.def(!1),
          autoplay: r.default.bool.def(!1),
          sequence: r.default.shape(f.a),
        },
        computed: a()({}, Object(s.b)(['currentLanguage'])),
        watch: {
          currentLanguage: function (e) {
            this.spriteSequence &&
              this.sequence.source.indexOf('{locale}') > -1 &&
              this.spriteSequence.changeLocale(e.code)
          },
        },
        created: function () {
          this.disposableManager = new u.a()
        },
        mounted: function () {
          var e = this
          ;(this.spriteSequence = new p.a(
            a()({}, this.sequence, { element: this.$refs.container }),
            this.$versionRoot,
            this.currentLanguage.code
          )),
            this.disposableManager.add(this.spriteSequence),
            this.spriteSequence.setup(),
            this.autoLoad &&
              this.load().then(function () {
                e.autoplay && e.play()
              }),
            this.addEventListeners()
        },
        beforeDestroy: function () {
          this.disposableManager && this.disposableManager.dispose()
        },
        methods: {
          handleAllComponentsReady: function () {
            this.isReady()
          },
          addEventListeners: function () {
            this.disposableManager.add(
              new h.DisposableEventListener(
                window,
                'resize',
                d()(this.handleResize.bind(this), 100)
              )
            )
          },
          handleResize: function () {
            this.spriteSequence && this.spriteSequence.handleResize()
          },
          reset: function () {
            this.spriteSequence.reset()
          },
          stop: function () {
            this.spriteSequence.stop()
          },
          restart: function (e, t) {
            return this.spriteSequence.restart(e, t)
          },
          play: function (e, t) {
            return this.spriteSequence.play(e, t)
          },
          setToLastFrame: function () {
            return this.spriteSequence.drawFrame(this.sequence.frameCount)
          },
          load: function () {
            return this.spriteSequence.load()
          },
          init: function (e) {
            return this.spriteSequence.init(e)
          },
        },
      }
    t.a = v
  },
  function (e, t, n) {
    'use strict'
    var i = n(7),
      a = n(727),
      r = {
        name: 'Icon',
        props: { name: i.default.string.isRequired },
        computed: {
          icon: function () {
            return a('./'.concat(this.name, '.svg'))
          },
        },
      }
    t.a = r
  },
  ,
  ,
  function (e, t, n) {
    'use strict'
    n.d(t, 'a', function () {
      return a
    })
    var i = n(37),
      a = Object(i.a)(['S2', 'S3', 'S4'])
  },
  function (e, t, n) {
    'use strict'
    n.d(t, 'a', function () {
      return a
    })
    var i = n(3)
    i.m._gsDefine(
      'plugins.ThrowPropsPlugin',
      [
        'utils.VelocityTracker',
        'plugins.TweenPlugin',
        'TweenLite',
        'easing.Ease',
      ],
      function (e) {
        var t,
          n,
          a,
          r,
          s = function (e, t) {
            i.l.call(this, 'throwProps'), (this._overwriteProps.length = 0)
          },
          o = 999999999999999,
          l = i.m._gsDefine.globals,
          u = !1,
          c = {
            x: 1,
            y: 1,
            z: 2,
            scale: 1,
            scaleX: 1,
            scaleY: 1,
            rotation: 1,
            rotationZ: 1,
            rotationX: 2,
            rotationY: 2,
            skewX: 1,
            skewY: 1,
            xPercent: 1,
            yPercent: 1,
          },
          d = function (e, t, n, i, a) {
            var r,
              s,
              l,
              u,
              c = t.length,
              d = 0,
              h = o
            if ('object' === typeof e) {
              for (; --c > -1; ) {
                for (l in ((r = t[c]), (s = 0), e)) s += (u = r[l] - e[l]) * u
                s < h && ((d = c), (h = s))
              }
              if ((a || o) < o && a < Math.sqrt(h)) return e
            } else
              for (; --c > -1; )
                (s = (r = t[c]) - e) < 0 && (s = -s),
                  s < h && r >= i && r <= n && ((d = c), (h = s))
            return t[d]
          },
          h = function (e, t, n, i, a, r) {
            if ('auto' === e.end) return e
            var s,
              l,
              u = e.end
            if (
              ((n = isNaN(n) ? o : n),
              (i = isNaN(i) ? -o : i),
              'object' === typeof t)
            ) {
              if (
                ((s = t.calculated
                  ? t
                  : ('function' === typeof u ? u(t) : d(t, u, n, i, r)) || t),
                !t.calculated)
              ) {
                for (l in s) t[l] = s[l]
                t.calculated = !0
              }
              s = s[a]
            } else
              s =
                'function' === typeof u
                  ? u(t)
                  : u instanceof Array
                  ? d(t, u, n, i, r)
                  : Number(u)
            return (
              s > n ? (s = n) : s < i && (s = i),
              { max: s, min: s, unitFactor: e.unitFactor }
            )
          },
          f = function (e, t, n) {
            for (var i in t) void 0 === e[i] && i !== n && (e[i] = t[i])
            return e
          },
          p = (s.calculateChange = function (e, t, n, a) {
            return (
              null == a && (a = 0.05),
              (n * a * e) /
                (t instanceof i.b
                  ? t
                  : t
                  ? new i.b(t)
                  : i.k.defaultEase
                ).getRatio(a)
            )
          }),
          v = (s.calculateDuration = function (e, t, n, a, r) {
            r = r || 0.05
            var s = a instanceof i.b ? a : a ? new i.b(a) : i.k.defaultEase
            return Math.abs(((t - e) * s.getRatio(r)) / n / r)
          }),
          m = (s.calculateTweenDuration = function (t, n, a, r, o, l) {
            if (('string' === typeof t && (t = i.k.selector(t)), !t)) return 0
            null == a && (a = 10),
              null == r && (r = 0.2),
              null == o && (o = 1),
              t.length && (t = t[0] || t)
            var c,
              d,
              m,
              _,
              g,
              y,
              T,
              E,
              b,
              C,
              A,
              I,
              k,
              R = 0,
              M = 9999999999,
              x = n.throwProps || n,
              S =
                n.ease instanceof i.b
                  ? n.ease
                  : n.ease
                  ? new i.b(n.ease)
                  : i.k.defaultEase,
              w = isNaN(x.checkpoint) ? 0.05 : Number(x.checkpoint),
              P = isNaN(x.resistance)
                ? s.defaultResistance
                : Number(x.resistance)
            if (x.linkedProps)
              for (
                I = x.linkedProps.split(','), A = {}, k = 0;
                k < I.length;
                k++
              )
                (d = x[(c = I[k])]) &&
                  ((m =
                    (_ =
                      void 0 !== d.velocity && 'number' === typeof d.velocity
                        ? Number(d.velocity) || 0
                        : (b = b || e.getByTarget(t)) && b.isTrackingProp(c)
                        ? b.getVelocity(c)
                        : 0) *
                      (g = isNaN(d.resistance) ? P : Number(d.resistance)) >
                    0
                      ? _ / g
                      : _ / -g),
                  (y =
                    'function' === typeof t[c]
                      ? t[
                          c.indexOf('set') ||
                          'function' !== typeof t['get' + c.substr(3)]
                            ? c
                            : 'get' + c.substr(3)
                        ]()
                      : t[c] || 0),
                  (A[c] = y + p(_, S, m, w)))
            for (c in x)
              'resistance' !== c &&
                'checkpoint' !== c &&
                'preventOvershoot' !== c &&
                'linkedProps' !== c &&
                'radius' !== c &&
                ('object' !== typeof (d = x[c]) &&
                  ((b = b || e.getByTarget(t)) && b.isTrackingProp(c)
                    ? (d =
                        'number' === typeof d
                          ? { velocity: d }
                          : { velocity: b.getVelocity(c) })
                    : (m = (_ = Number(d) || 0) * P > 0 ? _ / P : _ / -P)),
                'object' === typeof d &&
                  ((m =
                    (_ =
                      void 0 !== d.velocity && 'number' === typeof d.velocity
                        ? Number(d.velocity) || 0
                        : (b = b || e.getByTarget(t)) && b.isTrackingProp(c)
                        ? b.getVelocity(c)
                        : 0) *
                      (g = isNaN(d.resistance) ? P : Number(d.resistance)) >
                    0
                      ? _ / g
                      : _ / -g),
                  (T =
                    (y =
                      'function' === typeof t[c]
                        ? t[
                            c.indexOf('set') ||
                            'function' !== typeof t['get' + c.substr(3)]
                              ? c
                              : 'get' + c.substr(3)
                          ]()
                        : t[c] || 0) + p(_, S, m, w)),
                  void 0 !== d.end &&
                    ((d = h(d, A && c in A ? A : T, d.max, d.min, c, x.radius)),
                    (l || u) && (x[c] = f(d, x[c], 'end'))),
                  void 0 !== d.max && T > Number(d.max) + 1e-10
                    ? ((C = d.unitFactor || s.defaultUnitFactors[c] || 1),
                      (E =
                        (y > d.max && d.min !== d.max) ||
                        (_ * C > -15 && _ * C < 45)
                          ? r + 0.1 * (a - r)
                          : v(y, d.max, _, S, w)) +
                        o <
                        M && (M = E + o))
                    : void 0 !== d.min &&
                      T < Number(d.min) - 1e-10 &&
                      ((C = d.unitFactor || s.defaultUnitFactors[c] || 1),
                      (E =
                        (y < d.min && d.min !== d.max) ||
                        (_ * C > -45 && _ * C < 15)
                          ? r + 0.1 * (a - r)
                          : v(y, d.min, _, S, w)) +
                        o <
                        M && (M = E + o)),
                  E > R && (R = E)),
                m > R && (R = m))
            return R > M && (R = M), R > a ? a : R < r ? r : R
          }),
          _ = (s.prototype = new i.l('throwProps'))
        return (
          (_.constructor = s),
          (s.version = '0.11.2'),
          (s.API = 2),
          (s._autoCSS = !0),
          (s.defaultResistance = 100),
          (s.defaultUnitFactors = { time: 1e3, totalTime: 1e3 }),
          (s.track = function (t, n, i) {
            return e.track(t, n, i)
          }),
          (s.untrack = function (t, n) {
            e.untrack(t, n)
          }),
          (s.isTracking = function (t, n) {
            return e.isTracking(t, n)
          }),
          (s.getVelocity = function (t, n) {
            var i = e.getByTarget(t)
            return i ? i.getVelocity(n) : NaN
          }),
          (s._cssRegister = function () {
            var i = l.com.greensock.plugins.CSSPlugin
            if (i) {
              var a = i._internals,
                r = a._parseToProxy,
                o = a._setPluginRatio,
                u = a.CSSPropTween
              a._registerComplexSpecialProp('throwProps', {
                parser: function (i, a, l, d, h, f) {
                  f = new s()
                  var p,
                    v,
                    m,
                    _,
                    g = {},
                    y = {},
                    T = {},
                    E = {},
                    b = {},
                    C = {}
                  for (v in ((n = {}), a))
                    'resistance' !== v &&
                      'preventOvershoot' !== v &&
                      'linkedProps' !== v &&
                      'radius' !== v &&
                      ('object' === typeof (p = a[v])
                        ? (void 0 !== p.velocity &&
                          'number' === typeof p.velocity
                            ? (g[v] = Number(p.velocity) || 0)
                            : ((_ = _ || e.getByTarget(i)),
                              (g[v] =
                                _ && _.isTrackingProp(v)
                                  ? _.getVelocity(v)
                                  : 0)),
                          void 0 !== p.end && (E[v] = p.end),
                          void 0 !== p.min && (y[v] = p.min),
                          void 0 !== p.max && (T[v] = p.max),
                          p.preventOvershoot && (C[v] = !0),
                          void 0 !== p.resistance &&
                            (!0, (b[v] = p.resistance)))
                        : 'number' === typeof p
                        ? (g[v] = p)
                        : (_ = _ || e.getByTarget(i)) && _.isTrackingProp(v)
                        ? (g[v] = _.getVelocity(v))
                        : (g[v] = p || 0),
                      c[v] && d._enableTransforms(2 === c[v]))
                  for (v in ((m = r(i, g, d, h, f)),
                  (t = m.proxy),
                  (g = m.end),
                  t))
                    n[v] = {
                      velocity: g[v],
                      min: y[v],
                      max: T[v],
                      end: E[v],
                      resistance: b[v],
                      preventOvershoot: C[v],
                    }
                  return (
                    null != a.resistance && (n.resistance = a.resistance),
                    null != a.linkedProps && (n.linkedProps = a.linkedProps),
                    null != a.radius && (n.radius = a.radius),
                    a.preventOvershoot && (n.preventOvershoot = !0),
                    (h = new u(i, 'throwProps', 0, 0, m.pt, 2)),
                    d._overwriteProps.pop(),
                    (h.plugin = f),
                    (h.setRatio = o),
                    (h.data = m),
                    f._onInitTween(t, n, d._tween),
                    h
                  )
                },
              })
            }
          }),
          (s.to = function (e, s, o, l, c) {
            s.throwProps || (s = { throwProps: s }),
              0 === c && (s.throwProps.preventOvershoot = !0),
              (u = !0)
            var d = new i.k(e, l || 1, s)
            return (
              d.render(0, !0, !0),
              d.vars.css
                ? (d.duration(m(t, { throwProps: n, ease: s.ease }, o, l, c)),
                  d._delay && !d.vars.immediateRender
                    ? d.invalidate()
                    : a._onInitTween(t, r, d),
                  (u = !1),
                  d)
                : (d.kill(), (d = new i.k(e, m(e, s, o, l, c), s)), (u = !1), d)
            )
          }),
          (_._onInitTween = function (t, n, i, s) {
            ;(this.target = t), (this._props = []), (a = this), (r = n)
            var o,
              l,
              c,
              d,
              v,
              m,
              _,
              g,
              y,
              T,
              E,
              b,
              C = i._ease,
              A = isNaN(n.checkpoint) ? 0.05 : Number(n.checkpoint),
              I = i._duration,
              k = n.preventOvershoot,
              R = 0
            if (n.linkedProps)
              for (
                E = n.linkedProps.split(','), T = {}, b = 0;
                b < E.length;
                b++
              )
                (l = n[(o = E[b])]) &&
                  ((v =
                    void 0 !== l.velocity && 'number' === typeof l.velocity
                      ? Number(l.velocity) || 0
                      : (y = y || e.getByTarget(t)) && y.isTrackingProp(o)
                      ? y.getVelocity(o)
                      : 0),
                  (c =
                    'function' === typeof t[o]
                      ? t[
                          o.indexOf('set') ||
                          'function' !== typeof t['get' + o.substr(3)]
                            ? o
                            : 'get' + o.substr(3)
                        ]()
                      : t[o] || 0),
                  (T[o] = c + p(v, C, I, A)))
            for (o in n)
              if (
                'resistance' !== o &&
                'checkpoint' !== o &&
                'preventOvershoot' !== o &&
                'linkedProps' !== o &&
                'radius' !== o
              ) {
                if (
                  ('function' === typeof (l = n[o]) && (l = l(s, t)),
                  'number' === typeof l)
                )
                  v = Number(l) || 0
                else if ('object' !== typeof l || isNaN(l.velocity)) {
                  if (!(y = y || e.getByTarget(t)) || !y.isTrackingProp(o))
                    throw (
                      'ERROR: No velocity was defined in the throwProps tween of ' +
                      t +
                      ' property: ' +
                      o
                    )
                  v = y.getVelocity(o)
                } else v = Number(l.velocity)
                ;(m = p(v, C, I, A)),
                  (g = 0),
                  (c = (d = 'function' === typeof t[o])
                    ? t[
                        o.indexOf('set') ||
                        'function' !== typeof t['get' + o.substr(3)]
                          ? o
                          : 'get' + o.substr(3)
                      ]()
                    : t[o]),
                  'object' === typeof l &&
                    ((_ = c + m),
                    void 0 !== l.end &&
                      ((l = h(
                        l,
                        T && o in T ? T : _,
                        l.max,
                        l.min,
                        o,
                        n.radius
                      )),
                      u && (n[o] = f(l, n[o], 'end'))),
                    void 0 !== l.max && Number(l.max) < _
                      ? k || l.preventOvershoot
                        ? (m = l.max - c)
                        : (g = l.max - c - m)
                      : void 0 !== l.min &&
                        Number(l.min) > _ &&
                        (k || l.preventOvershoot
                          ? (m = l.min - c)
                          : (g = l.min - c - m))),
                  (this._overwriteProps[R] = o),
                  (this._props[R++] = { p: o, s: c, c1: m, c2: g, f: d, r: !1 })
              }
            return !0
          }),
          (_._kill = function (e) {
            for (var t = this._props.length; --t > -1; )
              null != e[this._props[t].p] && this._props.splice(t, 1)
            return i.l.prototype._kill.call(this, e)
          }),
          (_._mod = function (e) {
            for (var t, n = this._props, i = n.length; --i > -1; )
              'function' === typeof (t = e[n[i].p] || e.throwProps) &&
                (n[i].m = t)
          }),
          (_.setRatio = function (e) {
            for (var t, n, i = this._props.length; --i > -1; )
              (n = (t = this._props[i]).s + t.c1 * e + t.c2 * e * e),
                t.m
                  ? (n = t.m(n, this.target))
                  : 1 === e &&
                    (n = ((1e4 * n + (n < 0 ? -0.5 : 0.5)) | 0) / 1e4),
                t.f ? this.target[t.p](n) : (this.target[t.p] = n)
          }),
          i.l.activate([s]),
          s
        )
      },
      !0
    ),
      i.m._gsDefine(
        'utils.VelocityTracker',
        ['TweenLite'],
        function () {
          var e,
            t,
            n,
            a = /([A-Z])/g,
            r = {},
            s = i.m.document,
            o = {
              x: 1,
              y: 1,
              z: 2,
              scale: 1,
              scaleX: 1,
              scaleY: 1,
              rotation: 1,
              rotationZ: 1,
              rotationX: 2,
              rotationY: 2,
              skewX: 1,
              skewY: 1,
              xPercent: 1,
              yPercent: 1,
            },
            l =
              'undefined' !== typeof window
                ? window
                : s.defaultView || { getComputedStyle: function () {} },
            u = function (e, t, n) {
              var i,
                s = (e._gsTransform || r)[t]
              return s || 0 === s
                ? s
                : (e.style[t]
                    ? (s = e.style[t])
                    : (n = n || ((i = e), l.getComputedStyle(i)))
                    ? (s =
                        n[t] ||
                        n.getPropertyValue(t) ||
                        n.getPropertyValue(t.replace(a, '-$1').toLowerCase()))
                    : e.currentStyle && (s = e.currentStyle[t]),
                  parseFloat(s) || 0)
            },
            c = i.k.ticker,
            d = function (e, t, n) {
              ;(this.p = e),
                (this.f = t),
                (this.v1 = this.v2 = 0),
                (this.t1 = this.t2 = c.time),
                (this.css = !1),
                (this.type = ''),
                (this._prev = null),
                n && ((this._next = n), (n._prev = this))
            },
            h = function () {
              var t,
                i,
                a = e,
                r = c.time
              if (r - n >= 0.03)
                for (n, n = r; a; ) {
                  for (i = a._firstVP; i; )
                    ((t = i.css
                      ? u(a.target, i.p)
                      : i.f
                      ? a.target[i.p]()
                      : a.target[i.p]) !== i.v1 ||
                      r - i.t1 > 0.15) &&
                      ((i.v2 = i.v1), (i.v1 = t), (i.t2 = i.t1), (i.t1 = r)),
                      (i = i._next)
                  a = a._next
                }
            },
            f = function (i) {
              ;(this._lookup = {}),
                (this.target = i),
                (this.elem = !(!i.style || !i.nodeType)),
                t ||
                  (c.addEventListener('tick', h, null, !1, -100),
                  (n = c.time),
                  (t = !0)),
                e && ((this._next = e), (e._prev = this)),
                (e = this)
            },
            p = (f.getByTarget = function (t) {
              for (var n = e; n; ) {
                if (n.target === t) return n
                n = n._next
              }
            }),
            v = f.prototype
          return (
            (v.addProp = function (e, t) {
              if (!this._lookup[e]) {
                var n = this.target,
                  a = 'function' === typeof n[e],
                  r = a ? this._altProp(e) : e,
                  s = this._firstVP
                ;(this._firstVP = this._lookup[e] = this._lookup[r] = s = new d(
                  r !== e && 0 === e.indexOf('set') ? r : e,
                  a,
                  s
                )),
                  (s.css =
                    this.elem && (void 0 !== this.target.style[s.p] || o[s.p])),
                  s.css &&
                    o[s.p] &&
                    !n._gsTransform &&
                    i.k.set(n, { x: '+=0', overwrite: !1 }),
                  (s.type =
                    t || (s.css && 0 === e.indexOf('rotation')) ? 'deg' : ''),
                  (s.v1 = s.v2 = s.css ? u(n, s.p) : a ? n[s.p]() : n[s.p])
              }
            }),
            (v.removeProp = function (e) {
              var t = this._lookup[e]
              t &&
                (t._prev
                  ? (t._prev._next = t._next)
                  : t === this._firstVP && (this._firstVP = t._next),
                t._next && (t._next._prev = t._prev),
                (this._lookup[e] = 0),
                t.f && (this._lookup[this._altProp(e)] = 0))
            }),
            (v.isTrackingProp = function (e) {
              return this._lookup[e] instanceof d
            }),
            (v.getVelocity = function (e) {
              var t,
                n,
                i = this._lookup[e],
                a = this.target
              if (!i) throw 'The velocity of ' + e + ' is not being tracked.'
              return (
                (t = (i.css ? u(a, i.p) : i.f ? a[i.p]() : a[i.p]) - i.v2),
                ('rad' !== i.type && 'deg' !== i.type) ||
                  ((t %= n = 'rad' === i.type ? 2 * Math.PI : 360) !==
                    t % (n / 2) &&
                    (t = t < 0 ? t + n : t - n)),
                t / (c.time - i.t2)
              )
            }),
            (v._altProp = function (e) {
              var t = e.substr(0, 3),
                n =
                  ('get' === t ? 'set' : 'set' === t ? 'get' : t) + e.substr(3)
              return 'function' === typeof this.target[n] ? n : e
            }),
            (f.getByTarget = function (t) {
              var n = e
              for (
                'string' === typeof t && (t = i.k.selector(t)),
                  t.length &&
                    t !== window &&
                    t[0] &&
                    t[0].style &&
                    !t.nodeType &&
                    (t = t[0]);
                n;

              ) {
                if (n.target === t) return n
                n = n._next
              }
            }),
            (f.track = function (e, t, n) {
              var i = p(e),
                a = t.split(','),
                r = a.length
              for (n = (n || '').split(','), i || (i = new f(e)); --r > -1; )
                i.addProp(a[r], n[r] || n[0])
              return i
            }),
            (f.untrack = function (t, n) {
              var i = p(t),
                a = (n || '').split(','),
                r = a.length
              if (i) {
                for (; --r > -1; ) i.removeProp(a[r])
                ;(i._firstVP && n) ||
                  (i._prev
                    ? (i._prev._next = i._next)
                    : i === e && (e = i._next),
                  i._next && (i._next._prev = i._prev))
              }
            }),
            (f.isTracking = function (e, t) {
              var n = p(e)
              return !!n && (!(t || !n._firstVP) || n.isTrackingProp(t))
            }),
            f
          )
        },
        !0
      )
    var a = i.o.ThrowPropsPlugin
    i.o.com.greensock.utils.VelocityTracker
  },
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(421),
        a = n(247),
        r = n(365),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file =
        'src/component/asset/sequence/PaperMaskSequence/PaperMaskSequence.vue'),
        (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(433),
        a = n(265),
        r = n(364),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file =
        'src/component/general/image/SpriteSequence/SpriteSequence.vue'),
        (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  function (e, t, n) {
    'use strict'
    t.a = { TIMEOUT: 'timeOut' }
  },
  ,
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(403),
        a = n(234),
        r = n(379),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file =
        'src/component/general/modal/CardModal/CardModal.vue'),
        (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  ,
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(432),
        a = n(252),
        r = n(377),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file = 'src/component/asset/AudioPlayer/AudioPlayer.vue'),
        (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(408),
        a = n(264),
        r = n(380),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file =
        'src/component/general/overlay/MaskOverlay/MaskOverlay.vue'),
        (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  function (e, t, n) {
    'use strict'
    n.d(t, 'a', function () {
      return i
    })
    var i = ''.concat('events', '/openPanel')
  },
  function (e, t, n) {
    'use strict'
    t.a = { CARD_ID: 'cardId' }
  },
  ,
  ,
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(427),
        a = n(243)
      n.d(t, 'a', function () {
        return a.a
      })
      var r = n(399),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.b,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file = 'src/component/layout/SidePanel/SidePanel.vue'),
        (t.b = u.exports)
    }.call(this, n(18)(e)))
  },
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(405),
        a = n(263),
        r = n(395),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file =
        'src/component/asset/sequence/LogoSequence/LogoSequence.vue'),
        (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  function (e, t, n) {
    'use strict'
    var i = n(7),
      a = n(31),
      r = n(64),
      s = n(269),
      o = {
        id: r.a,
        slug: i.default.string.isRequired,
        cardType: i.default.oneOf(Object.values(a.a)).isRequired,
        relatedIds: i.default.arrayOf(r.a),
        image: i.default.string,
        episode: i.default.number,
        soundIds: i.default.arrayOf(i.default.oneOf(Object.values(s.a))),
      },
      l = n(33),
      u = n(101),
      c = n(44),
      d = n(102),
      h = n(37),
      f = Object(h.a)(['snow', 'ash', 'clear', 'rain', 'fog'])
    t.a = Object.assign({}, o, {
      date: i.default.number.isRequired,
      characterIds: i.default.arrayOf(i.default.oneOf(Object.values(l.a))),
      monsterIds: i.default.arrayOf(i.default.oneOf(Object.values(c.a))),
      raceIds: i.default.arrayOf(i.default.oneOf(Object.values(d.a))),
      locationId: i.default.oneOf(Object.values(u.a)),
      weather: i.default.oneOf(Object.values(f)),
    })
  },
  function (e, t, n) {
    'use strict'
    var i,
      a = n(0),
      r = n.n(a),
      s = n(1),
      o = n.n(s),
      l = n(4),
      u = n.n(l),
      c = n(2),
      d = n.n(c),
      h = n(10),
      f = n.n(h),
      p = n(5),
      v = n.n(p),
      m = n(156),
      _ = n.n(m),
      g = n(9),
      y = n(63),
      T = n.n(y),
      E = n(159),
      b = n.n(E),
      C = n(65),
      A = n(143)
    !(function (e) {
      ;(e.RIGHT = 'right'),
        (e.LEFT = 'left'),
        (e.TOP = 'top'),
        (e.BOTTOM = 'bottom'),
        (e.FORWARD = 'forward'),
        (e.BACKWARD = 'backward')
    })(i || (i = {}))
    var I = i,
      k = n(273)
    n.d(t, 'a', function () {
      return R
    })
    var R = (function (e) {
      function t(e, n, i) {
        var a
        return (
          r()(this, t),
          ((a = u()(this, d()(t).call(this))).assetPath = n),
          (a.locale = i),
          (a.stopped = !1),
          (a.size = { width: 0, height: 0 }),
          (a.direction = I.FORWARD),
          (a.frame = 0),
          (a.options = {
            gutter: { x: 0, y: 0 },
            startCount: 0,
            frameCount: 0,
            loop: !1,
            element: null,
            source: null,
            fps: 24,
            loopTimeout: 0,
            objectFit: 'contain',
            columns: 0,
            size: { width: 0, height: 0 },
          }),
          (a.options = Object.assign(a.options, e)),
          (a.disposableManager = new T.a()),
          a
        )
      }
      return (
        v()(t, e),
        o()(t, [
          {
            key: 'setup',
            value: function (e) {
              ;(this.canvas =
                e || this.options.element.querySelector('canvas')),
                this.canvas || (this.canvas = document.createElement('canvas')),
                (this.ctx = this.canvas.getContext('2d')),
                (this.frame =
                  this.direction === I.FORWARD
                    ? this.options.startCount
                    : this.options.frameCount)
            },
          },
          {
            key: 'init',
            value: function (e) {
              return (
                this.stop(),
                this.loadImageTask && this.loadImageTask.dispose(),
                (this.loadImagePromise = null),
                (this.options = Object.assign(this.options, e)),
                (this.frame =
                  this.direction === I.FORWARD ? 0 : this.options.frameCount),
                this.load()
              )
            },
          },
          {
            key: 'load',
            value: function () {
              var e = this
              return (
                this.loadImage(),
                this.handleResize(),
                this.loadImagePromise.then(function () {
                  return e.drawFrame()
                })
              )
            },
          },
          {
            key: 'restart',
            value: function () {
              var e =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : I.FORWARD,
                t =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : 1
              return (
                (this.frame =
                  this.direction === I.FORWARD
                    ? this.options.startCount
                    : this.options.frameCount),
                (this.tween = null),
                this.play(e, t)
              )
            },
          },
          {
            key: 'reset',
            value: function () {
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : I.FORWARD
              this.stop(),
                (this.frame =
                  this.direction === I.FORWARD
                    ? this.options.startCount
                    : this.options.frameCount),
                this.drawFrame(Math.round(this.frame))
            },
          },
          {
            key: 'play',
            value: function () {
              var e = this,
                t =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : I.FORWARD,
                n =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : 1
              return new Promise(function (i) {
                e.stop(), (e.direction = t)
                var a = Math.abs(
                  e.frame -
                    (e.direction === I.FORWARD
                      ? e.options.frameCount
                      : e.options.startCount)
                )
                ;(e.stopped = !1),
                  (e.tween = g.TweenMax.to(
                    e,
                    (a / e.options.fps) * (1 / Math.max(0.01, n)),
                    {
                      frame:
                        t === I.FORWARD
                          ? e.options.frameCount
                          : e.options.startCount,
                      ease: g.Linear.easeNone,
                      onUpdate: function () {
                        return e.drawFrame(Math.round(e.frame))
                      },
                      onComplete: function () {
                        e.options.loop &&
                          e.tween &&
                          !e.stopped &&
                          ((e.frame =
                            e.direction === I.FORWARD
                              ? e.options.startCount
                              : e.options.frameCount),
                          (e.tween = null),
                          e.options.loopTimeout
                            ? e.disposableManager.add(
                                setTimeout(function () {
                                  e.stopped || e.play(t, n)
                                }, e.options.loopTimeout),
                                k.a.TIMEOUT
                              )
                            : e.play(t, n)),
                          i()
                      },
                    }
                  ))
              })
            },
          },
          {
            key: 'stop',
            value: function () {
              ;(this.stopped = !0),
                this.tween &&
                  (this.tween.pause(),
                  g.TweenLite.killTweensOf(this.tween),
                  this.tween.kill(),
                  (this.tween = null))
            },
          },
          {
            key: 'changeLocale',
            value: function (e) {
              ;(this.locale = e), this.init(this.options)
            },
          },
          {
            key: 'loadImage',
            value: function () {
              var e = this
              return (
                (this.loadImageTask = new C.LoadImageTask({
                  assets: Object(A.a)(
                    this.options.source,
                    this.assetPath,
                    this.locale
                  ),
                  onAssetLoaded: function (t) {
                    e.image = t.asset
                  },
                })),
                this.loadImagePromise ||
                  (this.loadImagePromise = this.loadImageTask
                    .load()
                    .then(function () {})),
                this.loadImagePromise
              )
            },
          },
          {
            key: 'drawFrame',
            value: function () {
              var e =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : this.frame,
                t = this.image
              if (t) {
                var n = b()(
                    [0, 0, this.options.size.width, this.options.size.height],
                    [0, 0, this.size.width, this.size.height],
                    this.options.objectFit
                  ),
                  i = this.options.mapping ? this.options.mapping[e] : e,
                  a = i % this.options.columns,
                  r = Math.floor(i / this.options.columns),
                  s =
                    a * (this.options.size.width + this.options.gutter.x) +
                    this.options.gutter.x,
                  o = r * (this.options.size.height + this.options.gutter.y)
                this.ctx.clearRect(0, 0, this.size.width, this.size.height),
                  this.ctx.drawImage(
                    t,
                    s,
                    o,
                    this.options.size.width,
                    this.options.size.height,
                    n[0],
                    n[1],
                    n[2],
                    n[3]
                  )
              }
            },
          },
          {
            key: 'handleResize',
            value: function () {
              var e =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : { width: 0, height: 0 }
              ;(this.size.width =
                e.width ||
                this.options.element.offsetWidth * window.devicePixelRatio),
                (this.size.height =
                  e.height ||
                  this.options.element.offsetHeight * window.devicePixelRatio),
                (this.canvas.width = this.size.width),
                (this.canvas.height = this.size.height),
                this.image && this.drawFrame()
            },
          },
          {
            key: 'getCanvas',
            value: function () {
              return this.canvas
            },
          },
          {
            key: 'dispose',
            value: function () {
              this.stop(),
                this.loadImageTask && this.loadImageTask.dispose(),
                this.disposableManager && this.disposableManager.dispose(),
                (this.canvas = null),
                f()(d()(t.prototype), 'dispose', this).call(this)
            },
          },
        ]),
        t
      )
    })(_.a)
  },
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  function (e, t, n) {
    'use strict'
    var i = n(193),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = n(194),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = n(195),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = n(196),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = n(197),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t) {},
  function (e, t, n) {
    'use strict'
    var i = n(198),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = n(199),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = n(200),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = n(201),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = n(202),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = n(203),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = n(204),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = n(205),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = n(206),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = n(207),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = n(208),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = n(209),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = n(210),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = n(211),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = n(212),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = n(213),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = n(214),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = n(215),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = n(216),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = n(217),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = n(218),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = n(219),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = n(220),
      a = n.n(i)
    t.default = a.a
  },
  ,
  function (e, t) {
    e.exports =
      '#ifdef GL_ES\n\tprecision mediump float;\n#endif\n\nvarying vec2 vUV;\nuniform sampler2D uTexture;\nuniform vec2 uResolution;\nuniform highp float uTime;\n\n//FUNCTIONS\n\nvoid main(void) {\n\tvec3 color;\n\n\t//EFFECTS\n\n\tgl_FragColor = vec4(color, 1);\n}'
  },
  function (e, t, n) {
    'use strict'
    var i = n(221),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = n(222),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = n(223),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = n(224),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = n(225),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = n(226),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = n(227),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = n(228),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = n(229),
      a = n.n(i)
    t.default = a.a
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e,
          t = this,
          n = t.$createElement,
          i = t._self._c || n
        return i(
          'PageFlipBackground',
          {
            ref: 'wrapper',
            class: [
              t.$style.cardModal,
              ((e = {}),
              (e[t.$style.noImage] = t.meta && !t.image),
              (e[t.$style.hasStickyBar] = t.hasStickyBar),
              e),
            ],
            attrs: {
              'has-top-left-radius': t.deviceState < t.DeviceState.SMALL,
              'has-top-right-radius': t.deviceState < t.DeviceState.SMALL,
              'has-bottom-left-radius': t.deviceState < t.DeviceState.SMALL,
              'has-bottom-right-radius': t.deviceState < t.DeviceState.SMALL,
              'slower-reveal': !0,
              'reverse-flip': t.reverseFlip,
            },
          },
          [
            i(
              'div',
              { class: t.$style.cardModalContent },
              [
                i(
                  'div',
                  { class: [t.$style.controls] },
                  [
                    i('div', { class: [t.$style.controlBar] }),
                    t._v(' '),
                    t.content && t.content.title
                      ? i('h6', {
                          class: t.$style.controlTitle,
                          domProps: { innerHTML: t._s(t.content.title) },
                        })
                      : t._e(),
                    t._v(' '),
                    i(
                      'button',
                      {
                        class: t.$style.shareButton,
                        on: { click: t.onShareClick },
                      },
                      [i('Icon', { attrs: { name: 'share' } })],
                      1
                    ),
                    t._v(' '),
                    i('CloseButton', {
                      ref: 'closeButton',
                      class: [t.$style.closeButton],
                      attrs: { type: t.ButtonType.ACTION },
                      on: {
                        click: function (e) {
                          return t.$emit('close', t.currentCardId)
                        },
                      },
                    }),
                  ],
                  1
                ),
                t._v(' '),
                t.meta
                  ? [
                      i(
                        'article',
                        {
                          ref: 'scrollWrapper',
                          class: [t.$style.scrollWrapper, 'scroll-wrapper'],
                          attrs: { dir: t.$isRtl ? 'rtl' : null },
                        },
                        [
                          i(
                            'div',
                            { class: ['scroll-container'] },
                            [
                              i('ImageMaskSequence', {
                                directives: [
                                  {
                                    name: 'show',
                                    rawName: 'v-show',
                                    value: t.image,
                                    expression: 'image',
                                  },
                                ],
                                ref: 'imageMaskSequence',
                                class: [t.$style.picture],
                                attrs: {
                                  'image-source': t.image,
                                  'top-image-layer':
                                    t.images.HEADER_SHADOW.source,
                                  'in-sequence': t.spriteSequences.HEADER_MASK,
                                  'out-sequence':
                                    t.spriteSequences.AVATAR_MASK_OUT,
                                },
                              }),
                              t._v(' '),
                              i(
                                'div',
                                { ref: 'content', class: [t.$style.content] },
                                [
                                  i(
                                    'section',
                                    { class: [t.$style.section] },
                                    [
                                      i('HeadingPrefix', {
                                        class: [t.$style.headingPrefix],
                                        attrs: {
                                          label: t.$t(
                                            'cardType.' + t.meta.cardType
                                          ),
                                          tag: 'h1',
                                        },
                                      }),
                                      t._v(' '),
                                      i('h2', {
                                        class: [t.$style.title, 'heading-01'],
                                        domProps: {
                                          innerHTML: t._s(t.content.title),
                                        },
                                      }),
                                      t._v(' '),
                                      i('p', {
                                        class: [t.$style.headline, 'copy-01'],
                                        domProps: {
                                          innerHTML: t._s(
                                            t.addCardLinksInText(
                                              t.mapMissingTranslation(
                                                t.content.headline
                                              )
                                            )
                                          ),
                                        },
                                      }),
                                      t._v(' '),
                                      i('p', {
                                        class: [
                                          t.$style.description,
                                          'copy-03',
                                        ],
                                        domProps: {
                                          innerHTML: t._s(
                                            t.addCardLinksInText(
                                              t.mapMissingTranslation(
                                                t.content.description
                                              )
                                            )
                                          ),
                                        },
                                      }),
                                    ],
                                    1
                                  ),
                                  t._v(' '),
                                  t._l(t.meta.soundIds, function (e, t) {
                                    return i('SongPlayer', {
                                      key: t,
                                      ref: 'songPlayer',
                                      refInFor: !0,
                                      attrs: { id: e },
                                    })
                                  }),
                                  t._v(' '),
                                  t.$store.getters.translation.card.redditURL
                                    ? i(
                                        'a',
                                        {
                                          class: t.$style.redditShare,
                                          attrs: {
                                            href:
                                              t.$store.getters.translation.card
                                                .redditURL,
                                            target: '_blank',
                                          },
                                        },
                                        [
                                          i(
                                            'span',
                                            { class: [t.$style.label] },
                                            [t._v(t._s(t.$t('card.cta')))]
                                          ),
                                        ]
                                      )
                                    : t._e(),
                                  t._v(' '),
                                  t.relatedContent
                                    ? i(
                                        'section',
                                        { class: [t.$style.section] },
                                        [
                                          i('h3', {
                                            class: [
                                              t.$style.categoryTitle,
                                              'copy-02',
                                            ],
                                            domProps: {
                                              innerHTML: t._s(
                                                t.$t('card.related')
                                              ),
                                            },
                                          }),
                                          t._v(' '),
                                          i(
                                            'div',
                                            {
                                              class: [t.$style.relatedItemList],
                                            },
                                            t._l(t.relatedContent, function (
                                              e,
                                              n
                                            ) {
                                              var a
                                              return i('RelatedItem', {
                                                key: n,
                                                class: [t.$style.relatedItem],
                                                attrs: {
                                                  target: {
                                                    params:
                                                      ((a = {}),
                                                      (a[t.Params.CARD_ID] =
                                                        e.slug),
                                                      a),
                                                  },
                                                  title: t.$t(
                                                    e.cardType +
                                                      '.' +
                                                      e.id +
                                                      '.title'
                                                  ),
                                                  image: e.image
                                                    ? t.$staticRoot +
                                                      'card/' +
                                                      e.image +
                                                      '-small.jpg'
                                                    : t.$versionRoot +
                                                      'image/related-placeholder.jpg',
                                                },
                                              })
                                            }),
                                            1
                                          ),
                                        ]
                                      )
                                    : t._e(),
                                  t._v(' '),
                                  t.eventHistory.length > 0
                                    ? i(
                                        'section',
                                        { class: [t.$style.section] },
                                        [
                                          i('h3', {
                                            class: [
                                              t.$style.categoryTitle,
                                              'copy-02',
                                            ],
                                            domProps: {
                                              innerHTML: t._s(
                                                t.$t('card.history')
                                              ),
                                            },
                                          }),
                                          t._v(' '),
                                          i('HistoryTimeline', {
                                            class: [t.$style.historyTimeline],
                                            attrs: { timeline: t.eventHistory },
                                          }),
                                        ],
                                        1
                                      )
                                    : t._e(),
                                ],
                                2
                              ),
                            ],
                            1
                          ),
                        ]
                      ),
                    ]
                  : t._e(),
              ],
              2
            ),
          ]
        )
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e = this,
          t = e.$createElement,
          n = e._self._c || t
        return n(
          'div',
          { class: [e.$style.privacyPanel] },
          [
            n('CloseButton', {
              ref: 'backButton',
              class: [e.$style.backButton],
              attrs: { type: e.ButtonType.ACTION, 'is-back-button': !0 },
              on: {
                click: function (t) {
                  return e.$emit('back')
                },
              },
            }),
            e._v(' '),
            n('CloseButton', {
              ref: 'closeButton',
              class: [e.$style.closeButton],
              attrs: { type: e.ButtonType.ACTION },
              on: {
                click: function (t) {
                  return e.$emit('close')
                },
              },
            }),
            e._v(' '),
            n(
              'article',
              {
                ref: 'scrollWrapper',
                class: [e.$style.scrollWrapper, 'scroll-wrapper'],
              },
              [
                n(
                  'div',
                  { class: [e.$style.scrollContent, 'scroll-container'] },
                  [
                    n('div', {
                      class: [e.$style.content],
                      domProps: { innerHTML: e._s(e.content) },
                    }),
                  ]
                ),
              ]
            ),
          ],
          1
        )
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e = this,
          t = e.$createElement,
          n = e._self._c || t
        return n(
          'div',
          { class: [e.$style.logoSequence] },
          [
            n('SpriteSequence', {
              ref: 'logoShield',
              class: [e.$style.logoShield],
              attrs: {
                sequence: e.spriteSequences.LOGO_SHIELD,
                autoplay: e.autoplay,
                'auto-load': e.autoLoad,
              },
            }),
            e._v(' '),
            n('SpriteSequence', {
              ref: 'logoTitle',
              class: [e.$style.logoTitle],
              style: {
                backgroundImage:
                  'url(' +
                  e.$versionRoot +
                  'image/logo-title-' +
                  e.currentLanguage.code +
                  '.png)',
              },
              attrs: {
                sequence: e.spriteSequences.LOGO_TITLE,
                autoplay: e.autoplay,
                'auto-load': e.autoLoad,
              },
            }),
          ],
          1
        )
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e,
          t = this,
          n = t.$createElement,
          i = t._self._c || n
        return i(
          'button',
          {
            class: [
              t.$style.previewCardModal,
              'button',
              ((e = {}),
              (e[t.$style.noImage] = !t.image),
              (e[t.$style.isEndCard] = t.cardId === t.endCardId),
              e),
            ],
            on: {
              click: function (e) {
                return t.$emit('click')
              },
            },
          },
          [
            i(
              'div',
              {
                ref: 'minimizedTitle',
                class: [t.$style.minimizedTitle, 'heading-03'],
                attrs: { dir: t.$isRtl ? 'rtl' : null },
              },
              [
                t.minimizedTitle
                  ? [t._v('\n      ' + t._s(t.minimizedTitle) + '\n    ')]
                  : t._e(),
              ],
              2
            ),
            t._v(' '),
            t.meta
              ? [
                  i(
                    'div',
                    {
                      directives: [
                        {
                          name: 'show',
                          rawName: 'v-show',
                          value: t.image,
                          expression: 'image',
                        },
                      ],
                      class: [t.$style.imageWrapper],
                    },
                    [
                      i('ImageMaskSequence', {
                        ref: 'imageMaskSequence',
                        class: [t.$style.picture],
                        attrs: {
                          'image-source': t.image,
                          'in-sequence': t.spriteSequences.AVATAR_MASK_IN,
                          'out-sequence': t.spriteSequences.AVATAR_MASK_OUT,
                        },
                      }),
                    ],
                    1
                  ),
                  t._v(' '),
                  i(
                    'div',
                    {
                      ref: 'content',
                      class: [t.$style.content],
                      attrs: { dir: t.$isRtl ? 'rtl' : null },
                    },
                    [
                      i('HeadingPrefix', {
                        class: [t.$style.headingPrefix],
                        attrs: { label: t.headingPrefix, tag: 'p' },
                      }),
                      t._v(' '),
                      i('h2', {
                        class: [t.$style.title, 'heading-02'],
                        domProps: { innerHTML: t._s(t.content.title) },
                      }),
                      t._v(' '),
                      i('p', {
                        class: [t.$style.description, 'copy-04'],
                        domProps: {
                          innerHTML: t._s(t.content.shortDescription),
                        },
                      }),
                    ],
                    1
                  ),
                ]
              : t._e(),
          ],
          2
        )
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e = this,
          t = e.$createElement,
          n = e._self._c || t
        return n(
          'div',
          { class: [e.$style.menuPanel] },
          [
            n('CloseButton', {
              ref: 'closeButton',
              class: [e.$style.closeButton],
              attrs: { type: e.ButtonType.ACTION },
              on: {
                click: function (t) {
                  return e.$emit('close')
                },
              },
            }),
            e._v(' '),
            n(
              'div',
              {
                ref: 'scrollWrapper',
                class: [e.$style.scrollWrapper, 'scroll-wrapper'],
              },
              [
                n(
                  'div',
                  { class: [e.$style.scrollContent, 'scroll-container'] },
                  [
                    n(
                      'div',
                      { class: [e.$style.headerImage] },
                      [
                        n('ImageMaskSequence', {
                          ref: 'headerBackgroundSequence',
                          class: ['abs-fill', e.$style.picture],
                          attrs: {
                            'image-source':
                              e.$versionRoot + 'image/header-image-texture.png',
                            'in-sequence': e.spriteSequences.HEADER_MASK,
                            'out-sequence': e.spriteSequences.AVATAR_MASK_OUT,
                            'align-bottom': !0,
                          },
                        }),
                        e._v(' '),
                        n('LogoSequence', {
                          ref: 'logoSequence',
                          class: [e.$style.logoSequence, 'abs-center'],
                          attrs: { 'auto-load': !0, autoplay: !1 },
                        }),
                      ],
                      1
                    ),
                    e._v(' '),
                    n(
                      'div',
                      {
                        class: [e.$style.content],
                        attrs: { dir: e.$isRtl ? 'rtl' : null },
                      },
                      [
                        n('p', {
                          class: [e.$style.description],
                          domProps: {
                            innerHTML: e._s(e.$t('menu.description')),
                          },
                        }),
                        e._v(' '),
                        n('nav', { class: [e.$style.menu] }, [
                          n('ul', { class: [e.$style.menuList] }, [
                            n('li', { class: [e.$style.menuListItem] }, [
                              n(
                                'button',
                                {
                                  class: [e.$style.menuButton, 'button'],
                                  on: {
                                    click: function (t) {
                                      return e.$emit(
                                        'openPanel',
                                        e.PanelState.LANGUAGE
                                      )
                                    },
                                  },
                                },
                                [
                                  n('span', {
                                    class: e.$style.menuLabel,
                                    domProps: {
                                      innerHTML: e._s(e.$t('global.language')),
                                    },
                                  }),
                                ]
                              ),
                            ]),
                            e._v(' '),
                            n('li', { class: [e.$style.menuListItem] }, [
                              n(
                                'button',
                                {
                                  class: [e.$style.menuButton, 'button'],
                                  on: {
                                    click: function (t) {
                                      return e.$emit(
                                        'openPanel',
                                        e.PanelState.PRIVACY
                                      )
                                    },
                                  },
                                },
                                [
                                  n('span', {
                                    class: e.$style.menuLabel,
                                    domProps: {
                                      innerHTML: e._s(e.$t('global.privacy')),
                                    },
                                  }),
                                ]
                              ),
                            ]),
                            e._v(' '),
                            n('li', { class: [e.$style.menuListItem] }, [
                              n(
                                'button',
                                {
                                  class: [e.$style.menuButton, 'button'],
                                  on: {
                                    click: function (t) {
                                      return e.$emit(
                                        'openPanel',
                                        e.PanelState.IMPRINT
                                      )
                                    },
                                  },
                                },
                                [
                                  n('span', {
                                    class: e.$style.menuLabel,
                                    domProps: {
                                      innerHTML: e._s(
                                        e.$t('global.imprint.label')
                                      ),
                                    },
                                  }),
                                ]
                              ),
                            ]),
                            e._v(' '),
                            n('li', { class: [e.$style.menuListItem] }, [
                              n(
                                'a',
                                {
                                  class: [e.$style.menuButton],
                                  attrs: {
                                    target: '_blank',
                                    href: e.$t('global.watch.target'),
                                  },
                                },
                                [
                                  n('span', {
                                    class: e.$style.menuLabel,
                                    domProps: {
                                      innerHTML: e._s(
                                        e.$t('global.watch.label')
                                      ),
                                    },
                                  }),
                                ]
                              ),
                            ]),
                          ]),
                        ]),
                      ]
                    ),
                    e._v(' '),
                    n(
                      'footer',
                      {
                        class: e.$style.footer,
                        attrs: { dir: e.$isRtl ? 'rtl' : null },
                      },
                      [
                        n(
                          'nav',
                          { class: e.$style.footerNavigation },
                          [
                            n('dl', { class: e.$style.follow }, [
                              n('dt', {
                                domProps: {
                                  innerHTML: e._s(e.$t('menu.socialTitle')),
                                },
                              }),
                              e._v(' '),
                              n('dd', [
                                n(
                                  'a',
                                  {
                                    class: [
                                      e.$style.social,
                                      e.$style.instagram,
                                    ],
                                    attrs: {
                                      href: e.$t('menu.instagramUrl'),
                                      target: '_blank',
                                    },
                                  },
                                  [n('Icon', { attrs: { name: 'instagram' } })],
                                  1
                                ),
                              ]),
                              e._v(' '),
                              n('dd', [
                                n(
                                  'a',
                                  {
                                    class: [e.$style.social, e.$style.twitter],
                                    attrs: {
                                      href: e.$t('menu.twitterUrl'),
                                      target: '_blank',
                                    },
                                  },
                                  [n('Icon', { attrs: { name: 'twitter' } })],
                                  1
                                ),
                              ]),
                              e._v(' '),
                              n('dd', [
                                n(
                                  'a',
                                  {
                                    class: [e.$style.social, e.$style.facebook],
                                    attrs: {
                                      href: e.$t('menu.facebookUrl'),
                                      target: '_blank',
                                    },
                                  },
                                  [n('Icon', { attrs: { name: 'facebook' } })],
                                  1
                                ),
                              ]),
                            ]),
                            e._v(' '),
                            n('Icon', {
                              class: e.$style.logoNetflix,
                              attrs: { name: 'netflix' },
                            }),
                          ],
                          1
                        ),
                        e._v(' '),
                        n('p', {
                          domProps: { innerHTML: e._s(e.$t('menu.copyright')) },
                        }),
                      ]
                    ),
                  ]
                ),
              ]
            ),
          ],
          1
        )
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e = this,
          t = e.$createElement
        return (e._self._c || t)('div', {
          class: [e.$style.maskOverlay],
          on: {
            click: function (t) {
              return e.$emit('click')
            },
          },
        })
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e = this.$createElement,
          t = this._self._c || e
        return t(
          'div',
          {
            class: [this.$style.tipShuffler],
            attrs: { dir: this.$isRtl ? 'rtl' : null },
          },
          [
            t('p', {
              ref: 'tip',
              class: [this.$style.fact],
              domProps: { innerHTML: this._s(this.currentTip) },
            }),
          ]
        )
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e = this,
          t = e.$createElement,
          n = e._self._c || t
        return n(
          'div',
          { class: [e.$style.timelineBar] },
          [
            n('div', { class: [e.$style.timeline] }, [
              n(
                'div',
                {
                  ref: 'timelineContainer',
                  class: [e.$style.timelineContainer],
                },
                [
                  n('PaperMaskSequence', {
                    ref: 'paperMaskSequence',
                    class: [e.$style.paperMaskSequence, 'abs-fill'],
                    on: { isReady: e.handleComponentReady },
                  }),
                  e._v(' '),
                  n(
                    'div',
                    { ref: 'boundContainer', class: [e.$style.boundContainer] },
                    [
                      n(
                        'div',
                        {
                          class: [e.$style.pin],
                          style: { opacity: e.labelOpacity },
                        },
                        [
                          n('div', {
                            class: [e.$style.tooltip],
                            domProps: { innerHTML: e._s(e.visibleLabel) },
                          }),
                        ]
                      ),
                    ]
                  ),
                  e._v(' '),
                  n('div', { ref: 'labelSpace', class: [e.$style.labelSpace] }),
                  e._v(' '),
                  n(
                    'div',
                    { ref: 'draggable', class: [e.$style.draggable] },
                    [
                      e._l(e.characters, function (t, i) {
                        return n(
                          'div',
                          {
                            key: i,
                            ref: t + 'Line',
                            refInFor: !0,
                            class: [e.$style.line],
                          },
                          [
                            n('div', {
                              class: [e.$style.lineBg],
                              style: {
                                left:
                                  e.positions[e.characterEvents[t][0].id] +
                                  'px',
                              },
                            }),
                            e._v(' '),
                            e._l(e.characterEvents[t], function (i, a) {
                              var r, s
                              return n('button', {
                                key: t + '-' + a,
                                class: [
                                  e.$style.eventDot,
                                  'button',
                                  ((r = {}),
                                  (r[e.$style.isActive] =
                                    i.id === e.activeDotId),
                                  r),
                                ],
                                style: { left: e.positions[i.id] + 'px' },
                                attrs: {
                                  'aria-label': i.date,
                                  title: i.date,
                                  to: {
                                    params:
                                      ((s = {}),
                                      (s[e.Params.CARD_ID] = i.slug),
                                      s),
                                  },
                                },
                                on: {
                                  click: function (t) {
                                    return e.onTimelineItemClick(i)
                                  },
                                },
                              })
                            }),
                          ],
                          2
                        )
                      }),
                      e._v(' '),
                      n(
                        'div',
                        { ref: 'globalLine', class: [e.$style.line] },
                        [
                          n('div', { class: [e.$style.lineBg] }),
                          e._v(' '),
                          e._l(
                            e.$eventModel.getEventsWithoutMainCharacters(),
                            function (t, i) {
                              var a, r
                              return n('button', {
                                key: 'witcher-' + i,
                                class: [
                                  e.$style.eventDot,
                                  'button',
                                  ((a = {}),
                                  (a[e.$style.isActive] =
                                    t.id === e.activeDotId),
                                  a),
                                ],
                                style: { left: e.positions[t.id] + 'px' },
                                attrs: {
                                  'aria-label': t.date,
                                  title: t.date,
                                  to: {
                                    params:
                                      ((r = {}),
                                      (r[e.Params.CARD_ID] = t.slug),
                                      r),
                                  },
                                },
                                on: {
                                  click: function (n) {
                                    return e.onTimelineItemClick(t)
                                  },
                                },
                              })
                            }
                          ),
                        ],
                        2
                      ),
                      e._v(' '),
                      n(
                        'div',
                        { class: [e.$style.yearTimeline] },
                        e._l(e.labels, function (t, i) {
                          var a
                          return n(
                            'span',
                            {
                              key: i,
                              ref: 'labels',
                              refInFor: !0,
                              class: [
                                e.$style.labelSpace,
                                ((a = {}),
                                (a[e.$style.isHidden] =
                                  t > e.hideLabelAfterYear),
                                a),
                              ],
                            },
                            [
                              n('time', { class: [e.$style.label] }, [
                                e._v(e._s(t)),
                              ]),
                            ]
                          )
                        }),
                        0
                      ),
                    ],
                    2
                  ),
                  e._v(' '),
                  n(
                    'div',
                    {
                      ref: 'fakeItems',
                      class: [e.$style.draggable, e.$style.fake],
                    },
                    [
                      e._l(e.characters, function (t, i) {
                        return n(
                          'div',
                          { key: 'fake-' + i, class: [e.$style.line] },
                          e._l(e.characterEvents[t], function (i, a) {
                            var r, s
                            return n('button', {
                              key: t + '-fake-' + a,
                              class: [
                                e.$style.eventDot,
                                'button',
                                ((r = {}),
                                (r[e.$style.isActive] = i.id === e.activeDotId),
                                r),
                              ],
                              style: { left: e.positions[i.id] + 'px' },
                              attrs: {
                                'aria-label': i.date,
                                title: i.date,
                                to: {
                                  params:
                                    ((s = {}),
                                    (s[e.Params.CARD_ID] = i.slug),
                                    s),
                                },
                              },
                              on: {
                                click: function (t) {
                                  return e.onTimelineItemClick(i)
                                },
                              },
                            })
                          }),
                          0
                        )
                      }),
                      e._v(' '),
                      n(
                        'div',
                        { class: [e.$style.line] },
                        e._l(
                          e.$eventModel.getEventsWithoutMainCharacters(),
                          function (t, i) {
                            var a, r
                            return n('button', {
                              key: 'witcher-fake-' + i,
                              class: [
                                e.$style.eventDot,
                                'button',
                                ((a = {}),
                                (a[e.$style.isActive] = t.id === e.activeDotId),
                                a),
                              ],
                              style: { left: e.positions[t.id] + 'px' },
                              attrs: {
                                'aria-label': t.date,
                                title: t.date,
                                to: {
                                  params:
                                    ((r = {}),
                                    (r[e.Params.CARD_ID] = t.slug),
                                    r),
                                },
                              },
                              on: {
                                click: function (n) {
                                  return e.onTimelineItemClick(t)
                                },
                              },
                            })
                          }
                        ),
                        0
                      ),
                      e._v(' '),
                      n(
                        'div',
                        { class: [e.$style.yearTimeline] },
                        e._l(e.labels, function (t, i) {
                          var a
                          return n(
                            'span',
                            {
                              key: i,
                              class: [
                                e.$style.labelSpace,
                                ((a = {}),
                                (a[e.$style.isHidden] =
                                  t > e.hideLabelAfterYear),
                                a),
                              ],
                            },
                            [
                              n('time', { class: [e.$style.label] }, [
                                e._v(e._s(t)),
                              ]),
                            ]
                          )
                        }),
                        0
                      ),
                    ],
                    2
                  ),
                ],
                1
              ),
            ]),
            e._v(' '),
            e.eventId
              ? n('PreviewCardModal', {
                  ref: 'previewCard',
                  class: [e.$style.previewCardModal],
                  attrs: {
                    'card-state': e.previewCardState,
                    'card-id': e.eventId,
                  },
                  on: { click: e.onPreviewCardClick },
                })
              : e._e(),
            e._v(' '),
            n('ZoomControls', {
              directives: [
                {
                  name: 'show',
                  rawName: 'v-show',
                  value: e.deviceState >= e.DeviceState.SMALL,
                  expression: 'deviceState >= DeviceState.SMALL',
                },
              ],
              ref: 'zoomControls',
              class: [e.$style.zoomControls],
              on: {
                zoomIn: function (t) {
                  return e.$emit('zoomIn')
                },
                zoomOut: function (t) {
                  return e.$emit('zoomOut')
                },
              },
            }),
          ],
          1
        )
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e,
          t = this,
          n = t.$createElement,
          i = t._self._c || n
        return i(
          'div',
          {
            class: [
              t.$style.closeButton,
              t.$style[t.buttonSize],
              ((e = {}), (e[t.$style.isBackButton] = t.isBackButton), e),
            ],
            attrs: { 'data-button-element': 'true' },
          },
          [
            t.type === t.ButtonType.LINK
              ? i(
                  'a',
                  {
                    ref: 'button',
                    class: [t.$style.button, 'button'],
                    attrs: {
                      href: t.target,
                      title: t.title || t.$t('global.close'),
                      'aria-label': t.title || t.$t('global.close'),
                    },
                    on: { click: t.handleClick },
                  },
                  [
                    i('div', { class: [t.$style.line] }),
                    t._v(' '),
                    i('div', { class: [t.$style.line] }),
                  ]
                )
              : i(
                  'button',
                  {
                    ref: 'button',
                    class: [t.$style.button, 'button'],
                    attrs: {
                      title: t.title || t.$t('global.close'),
                      'aria-label': t.title || t.$t('global.close'),
                      type:
                        t.type === t.ButtonType.SUBMIT ? 'submit' : 'button',
                    },
                    on: { click: t.handleClick },
                  },
                  [
                    i('div', { class: [t.$style.line] }),
                    t._v(' '),
                    i('div', { class: [t.$style.line] }),
                  ]
                ),
          ]
        )
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e,
          t,
          n = this,
          i = n.$createElement,
          a = n._self._c || i
        return a(
          'div',
          {
            class: [
              n.$style.modalBackground,
              ((e = {}),
              (e[n.$style.showDropShadow] = n.showDropShadow),
              (e[n.$style.topLeftRadius] = n.borderRadius.topLeft),
              (e[n.$style.topRightRadius] = n.borderRadius.topRight),
              (e[n.$style.bottomLeftRadius] = n.borderRadius.bottomLeft),
              (e[n.$style.bottomRightRadius] = n.borderRadius.bottomRight),
              e),
              n.$style[n.borderSize],
            ],
          },
          [
            a(
              'div',
              {
                ref: 'background',
                class: [
                  n.$style.background,
                  'abs-fill',
                  ((t = {}), (t[n.$style.hasShadow] = n.showShadow), t),
                ],
              },
              [
                a('PaperMaskSequence', {
                  ref: 'paperMaskSequence',
                  class: [n.$style.paperMaskSequence, 'abs-fill'],
                  on: { isReady: n.handleComponentReady },
                }),
              ],
              1
            ),
            n._v(' '),
            a(
              'div',
              { ref: 'content', class: [n.$style.content] },
              [n._t('default')],
              2
            ),
          ]
        )
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e = this,
          t = e.$createElement,
          n = e._self._c || t
        return n(
          'div',
          { class: [e.$style.audioCardModal] },
          e._l(e.songIds, function (t, i) {
            return n('iframe', {
              key: t,
              class: [e.$style.iframe],
              attrs: {
                width: '100%',
                height: '80',
                frameborder: '0',
                allowtransparency: 'true',
                allow: 'encrypted-media',
                src: e.meta[i].file,
              },
            })
          }),
          0
        )
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e,
          t = this,
          n = t.$createElement,
          i = t._self._c || n
        return i(
          'div',
          {
            class: [
              t.$style.pageFlipBackground,
              ((e = {}),
              (e[t.$style.isReversed] = t.reverseFlip),
              (e[t.$style.topLeftRadius] = t.hasTopLeftRadius),
              (e[t.$style.topRightRadius] = t.hasTopRightRadius),
              (e[t.$style.bottomLeftRadius] = t.hasBottomLeftRadius),
              (e[t.$style.bottomRightRadius] = t.hasBottomRightRadius),
              e),
            ],
          },
          [
            i(
              'div',
              {
                ref: 'flipWrapper',
                class: ['flip-wrapper', t.$style.flipWrapper],
              },
              [
                i('div', { ref: 'page', class: t.$style.page }, [
                  i(
                    'div',
                    { ref: 'front', class: ['front', t.$style.front] },
                    [
                      t._t('default'),
                      t._v(' '),
                      i(
                        'div',
                        { ref: 'backHolder', class: t.$style.backHolder },
                        [i('div', { ref: 'back', class: t.$style.back })]
                      ),
                    ],
                    2
                  ),
                ]),
              ]
            ),
          ]
        )
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e,
          t,
          n = this,
          i = n.$createElement,
          a = n._self._c || i
        return a(
          'ModalBackground',
          {
            ref: 'modalBackground',
            class: [
              n.$style.shareCard,
              ((e = {}),
              (e[n.$style.noImage] = !0),
              (e[n.$style.hasStickyBar] = !1),
              e),
            ],
            attrs: {
              'border-radius': {
                bottomLeft: n.deviceState < n.DeviceState.SMALL,
                bottomRight: n.deviceState < n.DeviceState.SMALL,
                topRight: n.deviceState < n.DeviceState.SMALL,
                topLeft: n.deviceState < n.DeviceState.SMALL,
              },
            },
          },
          [
            a('div', [
              a(
                'header',
                { class: n.$style.header },
                [
                  a('CloseButton', {
                    ref: 'closeButton',
                    class: [n.$style.closeButton],
                    attrs: { type: n.ButtonType.ACTION },
                    on: { click: n.onCloseClick },
                  }),
                  n._v(' '),
                  n.meta
                    ? [
                        a('ImageMaskSequence', {
                          directives: [
                            {
                              name: 'show',
                              rawName: 'v-show',
                              value: n.meta.image,
                              expression: 'meta.image',
                            },
                          ],
                          ref: 'imageMaskSequence',
                          class: [n.$style.picture],
                          attrs: {
                            'image-source':
                              n.$staticRoot +
                              'card/' +
                              n.meta.image +
                              '-small.jpg',
                            'in-sequence': n.spriteSequences.AVATAR_MASK_IN,
                            'out-sequence': n.spriteSequences.AVATAR_MASK_OUT,
                          },
                        }),
                        n._v(' '),
                        a(
                          'div',
                          {
                            ref: 'content',
                            class: [
                              n.$style.content,
                              ((t = {}),
                              (t[n.$style.noImage] = !n.meta.image),
                              t),
                            ],
                          },
                          [
                            a('HeadingPrefix', {
                              class: [n.$style.headingPrefix],
                              attrs: {
                                label: n.$t('cardType.' + n.meta.cardType),
                                tag: 'p',
                              },
                            }),
                            n._v(' '),
                            a('h2', {
                              class: [n.$style.title, 'heading-02'],
                              domProps: { innerHTML: n._s(n.content.title) },
                            }),
                            n._v(' '),
                            a('p', {
                              class: [n.$style.description, 'copy-04'],
                              domProps: {
                                innerHTML: n._s(n.content.shortDescription),
                              },
                            }),
                          ],
                          1
                        ),
                      ]
                    : n._e(),
                ],
                2
              ),
              n._v(' '),
              a(
                'dl',
                { class: n.$style.shareOptions },
                [
                  a(
                    'dt',
                    [
                      a('HeadingPrefix', {
                        class: [n.$style.headingPrefix],
                        attrs: { label: n.$t('share.title'), tag: 'p' },
                      }),
                    ],
                    1
                  ),
                  n._v(' '),
                  n._l(Object.keys(n.ShareOptions), function (e) {
                    return a('dd', { key: 'share-' + e }, [
                      a(
                        'button',
                        {
                          class: ['copy-01', n.$style.shareButton, 'button'],
                          on: {
                            click: function (t) {
                              return (
                                t.preventDefault(),
                                n.onShareClick(n.ShareOptions[e])
                              )
                            },
                          },
                        },
                        [
                          n._v(
                            '\n          ' +
                              n._s(n.$t('share.' + n.ShareOptions[e])) +
                              '\n        '
                          ),
                        ]
                      ),
                    ])
                  }),
                ],
                2
              ),
            ]),
          ]
        )
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  ,
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e = this,
          t = e.$createElement,
          n = e._self._c || t
        return n(
          'div',
          { class: [e.$style.cardOverlay, 'abs-fill', 'js-card-overlay'] },
          [
            e.deviceState < e.DeviceState.SMALL
              ? n('MaskOverlay', {
                  ref: 'maskOverlay',
                  class: [e.$style.maskOverlay],
                  attrs: { 'enable-mouse-cursor': !1 },
                  on: { click: e.onMaskClick },
                })
              : e._e(),
            e._v(' '),
            e.cardModusEnabled
              ? n('CardCarousel', {
                  ref: 'cardCarousel',
                  class: [e.$style.carousel],
                  attrs: { 'card-ids': e.cardIds },
                  on: {
                    isReady: e.handleComponentReady,
                    close: e.onCloseCard,
                    openCardLink: e.openCard,
                    change: e.onCarouselChange,
                  },
                })
              : e._e(),
            e._v(' '),
            e.cardModusEnabled
              ? e._e()
              : n('CardModal', {
                  ref: 'cardModal',
                  class: [e.$style.cardModal],
                  attrs: {
                    'card-id': e.currentCardId,
                    'reverse-flip': e.$isRtl,
                  },
                  on: {
                    openCardLink: e.openCard,
                    close: e.onCloseCard,
                    isReady: e.handleComponentReady,
                  },
                }),
          ],
          1
        )
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e = this.$createElement,
          t = this._self._c || e
        return t('div', { class: [this.$style.imageMaskSequence] }, [
          t('canvas', { ref: 'canvas', class: ['abs-fill'] }),
        ])
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e = this,
          t = e.$createElement,
          n = e._self._c || t
        return n('div', { class: [e.$style.cookieModal] }, [
          n(
            'div',
            { class: [e.$style.modal] },
            [
              n(
                'PageFlipBackground',
                {
                  ref: 'pageFlip',
                  class: e.$style.pageFlip,
                  attrs: {
                    'has-top-left-radius': !0,
                    'has-top-right-radius': !0,
                    'has-bottom-left-radius': !0,
                    'has-bottom-right-radius': !0,
                    'resize-content': !0,
                    'reverse-flip': e.$isRtl,
                  },
                },
                [
                  n(
                    'div',
                    { class: e.$style.modalContent },
                    [
                      n('ImageMaskSequence', {
                        ref: 'imageMaskSequence',
                        class: [e.$style.picture],
                        attrs: {
                          'image-source':
                            e.$staticRoot + 'card/roach-small.jpg',
                          'in-sequence': e.spriteSequences.AVATAR_MASK_IN,
                          'out-sequence': e.spriteSequences.AVATAR_MASK_OUT,
                        },
                      }),
                      e._v(' '),
                      n(
                        'div',
                        { class: [e.$style.content] },
                        [
                          n('HeadingPrefix', {
                            class: [e.$style.headingPrefix],
                            attrs: {
                              label: e.$t('cookies.headingPrefix'),
                              tag: 'p',
                            },
                          }),
                          e._v(' '),
                          n('h2', {
                            class: [e.$style.title, 'heading-02'],
                            domProps: {
                              innerHTML: e._s(e.$t('cookies.title')),
                            },
                          }),
                          e._v(' '),
                          n('p', {
                            class: [e.$style.description, 'copy-03'],
                            attrs: { dir: e.$isRtl ? 'rtl' : null },
                            domProps: {
                              innerHTML: e._s(e.$t('cookies.description')),
                            },
                          }),
                          e._v(' '),
                          n('PrimaryButton', {
                            ref: 'button',
                            class: [e.$style.button],
                            attrs: {
                              type: e.ButtonType.ACTION,
                              label: e.$t('cookies.cta'),
                            },
                            on: {
                              click: function (t) {
                                return e.$emit('accept')
                              },
                            },
                          }),
                        ],
                        1
                      ),
                    ],
                    1
                  ),
                ]
              ),
            ],
            1
          ),
        ])
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e,
          t,
          n = this,
          i = n.$createElement,
          a = n._self._c || i
        return a(
          'div',
          {
            class: [
              n.$style.primaryCircleButton,
              ((e = {}),
              (e[n.$style.isActive] = n.active),
              (e[n.$style.isDisabled] = n.disabled),
              e),
            ],
          },
          [
            n.type === n.ButtonType.LINK
              ? a(
                  'a',
                  {
                    ref: 'button',
                    class: [n.$style.button, 'button'],
                    attrs: {
                      href: n.target,
                      title: n.title || '',
                      'aria-label': n.title || '',
                    },
                    on: { click: n.handleClick },
                  },
                  [
                    a('Icon', {
                      class: [
                        n.$style.icon,
                        n.$style[n.icon + '-icon'],
                        'abs-center',
                      ],
                      attrs: { name: n.icon },
                    }),
                  ],
                  1
                )
              : a(
                  'button',
                  {
                    ref: 'button',
                    class: [n.$style.button, 'button'],
                    attrs: {
                      title: n.title || '',
                      'aria-label': n.title || '',
                      type:
                        n.type === n.ButtonType.SUBMIT ? 'submit' : 'button',
                    },
                    on: { click: n.handleClick },
                  },
                  [
                    a('Icon', {
                      class: [
                        n.$style.icon,
                        n.$style[n.icon + '-icon'],
                        'abs-center',
                      ],
                      attrs: { name: n.icon },
                    }),
                  ],
                  1
                ),
            n._v(' '),
            n.count
              ? a('span', {
                  class: [
                    n.$style.count,
                    ((t = {}), (t[n.$style.isHidden] = n.isSearchOpen), t),
                  ],
                  domProps: { innerHTML: n._s(n.count) },
                })
              : n._e(),
          ]
        )
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e = this.$createElement,
          t = this._self._c || e
        return t(
          'div',
          { class: [this.$style.paperMaskSequence] },
          [
            t('SpriteSequence', {
              ref: 'sequence',
              class: [this.$style.paperIn, 'abs-fill'],
              attrs: {
                sequence: this.spriteSequences.PAPER_TRANSITION_IN,
                autoplay: this.autoplay,
                'auto-load': this.autoLoad,
              },
              on: { isReady: this.handleSpriteSequenceReady },
            }),
          ],
          1
        )
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e = this,
          t = e.$createElement,
          n = e._self._c || t
        return n('div', { class: [e.$style.zoomControls] }, [
          n(
            'button',
            {
              class: [e.$style.button, 'button'],
              on: {
                click: function (t) {
                  return e.$emit('zoomIn')
                },
              },
            },
            [n('span', { class: [e.$style.zoomInIcon] })]
          ),
          e._v(' '),
          n(
            'button',
            {
              class: [e.$style.button, 'button'],
              on: {
                click: function (t) {
                  return e.$emit('zoomOut')
                },
              },
            },
            [n('span', { class: [e.$style.zoomOutIcon] })]
          ),
        ])
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e = this,
          t = e.$createElement,
          n = e._self._c || t
        return n(
          'div',
          { class: [e.$style.autoComplete] },
          [
            n('CloseButton', {
              directives: [
                {
                  name: 'show',
                  rawName: 'v-show',
                  value: e.deviceState < e.DeviceState.SMALL,
                  expression: 'deviceState < DeviceState.SMALL',
                },
              ],
              ref: 'closeButton',
              class: [e.$style.closeButton],
              attrs: { type: e.ButtonType.ACTION },
              on: { click: e.onCloseClick },
            }),
            e._v(' '),
            n(
              'div',
              { class: [e.$style.inputField] },
              [
                n('input', {
                  directives: [
                    {
                      name: 'model',
                      rawName: 'v-model',
                      value: e.searchTitle,
                      expression: 'searchTitle',
                    },
                  ],
                  class: ['input-field'],
                  attrs: {
                    id: e.name,
                    placeholder: e.placeholder,
                    name: e.name,
                    autocomplete: 'off',
                    dir: e.$isRtl ? 'rtl' : null,
                    type: 'text',
                    autocapitalize: 'none',
                  },
                  domProps: { value: e.searchTitle },
                  on: {
                    input: [
                      function (t) {
                        t.target.composing || (e.searchTitle = t.target.value)
                      },
                      e.onChange,
                    ],
                    keydown: [
                      function (t) {
                        return !t.type.indexOf('key') &&
                          e._k(t.keyCode, 'down', 40, t.key, [
                            'Down',
                            'ArrowDown',
                          ])
                          ? null
                          : e.onArrowDown(t)
                      },
                      function (t) {
                        return !t.type.indexOf('key') &&
                          e._k(t.keyCode, 'up', 38, t.key, ['Up', 'ArrowUp'])
                          ? null
                          : e.onArrowUp(t)
                      },
                      function (t) {
                        return !t.type.indexOf('key') &&
                          e._k(t.keyCode, 'enter', 13, t.key, 'Enter')
                          ? null
                          : e.onEnter(t)
                      },
                    ],
                  },
                }),
                e._v(' '),
                n('Icon', {
                  class: [e.$style.searchIcon],
                  attrs: { name: 'search' },
                }),
              ],
              1
            ),
            e._v(' '),
            n('div', { ref: 'dropDown', class: [e.$style.dropdown] }, [
              n(
                'ul',
                { ref: 'categoryList', class: [e.$style.categoryList] },
                [
                  e._l(e.categories, function (t, i) {
                    return n(
                      'li',
                      {
                        directives: [
                          {
                            name: 'show',
                            rawName: 'v-show',
                            value: e.filterByCategory(e.results, t).length > 0,
                            expression:
                              'filterByCategory(results, category).length > 0',
                          },
                        ],
                        key: i,
                        class: [e.$style.categoryItem],
                      },
                      [
                        n(
                          'div',
                          { class: [e.$style.category] },
                          [
                            n('Icon', {
                              class: [e.$style.icon, e.$style[t + '-icon']],
                              attrs: { name: t },
                            }),
                            e._v(' '),
                            n('span', {
                              class: [e.$style.label, 'copy-04'],
                              domProps: {
                                innerHTML: e._s(e.$t('searchbar.' + t)),
                              },
                            }),
                          ],
                          1
                        ),
                        e._v(' '),
                        n(
                          'ul',
                          { class: [e.$style.resultList] },
                          e._l(e.filterByCategory(e.results, t), function (
                            t,
                            i
                          ) {
                            var a
                            return n(
                              'li',
                              {
                                key: i,
                                class: [
                                  e.$style.resultItem,
                                  ((a = {}),
                                  (a[e.$style.isActive] =
                                    e.results[e.arrowCounter] &&
                                    t.id === e.results[e.arrowCounter].id),
                                  a),
                                ],
                                on: {
                                  click: function (n) {
                                    return e.setResult(t)
                                  },
                                },
                              },
                              [
                                e._v(
                                  '\n            ' +
                                    e._s(t.title) +
                                    '\n          '
                                ),
                              ]
                            )
                          }),
                          0
                        ),
                      ]
                    )
                  }),
                  e._v(' '),
                  n(
                    'li',
                    {
                      directives: [
                        {
                          name: 'show',
                          rawName: 'v-show',
                          value: 0 === e.results.length,
                          expression: 'results.length === 0',
                        },
                      ],
                      class: [e.$style.categoryItem],
                    },
                    [
                      n('p', { class: ['copy-03', e.$style.noResults] }, [
                        e._v(e._s(e.$t('searchbar.noResults'))),
                      ]),
                    ]
                  ),
                ],
                2
              ),
            ]),
          ],
          1
        )
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e = this,
          t = e.$createElement,
          n = e._self._c || t
        return n(
          'div',
          { class: [e.$style.languagePanel] },
          [
            n('CloseButton', {
              ref: 'backButton',
              class: [e.$style.backButton],
              attrs: { type: e.ButtonType.ACTION, 'is-back-button': !0 },
              on: {
                click: function (t) {
                  return e.$emit('back')
                },
              },
            }),
            e._v(' '),
            n('CloseButton', {
              ref: 'closeButton',
              class: [e.$style.closeButton],
              attrs: { type: e.ButtonType.ACTION },
              on: {
                click: function (t) {
                  return e.$emit('close')
                },
              },
            }),
            e._v(' '),
            n(
              'div',
              {
                ref: 'scrollWrapper',
                class: [e.$style.scrollWrapper, 'scroll-wrapper'],
              },
              [
                n(
                  'div',
                  { class: [e.$style.scrollContent, 'scroll-container'] },
                  [
                    n(
                      'div',
                      { class: [e.$style.content] },
                      [
                        n('HeadingPrefix', {
                          class: [e.$style.headingPrefix],
                          attrs: { label: e.$t('languages.title'), tag: 'p' },
                        }),
                        e._v(' '),
                        n(
                          'ul',
                          { class: [e.$style.list] },
                          e._l(e.languages, function (t, i) {
                            var a
                            return n(
                              'li',
                              { key: i, class: [e.$style.listItem] },
                              [
                                n('button', {
                                  class: [
                                    e.$style.button,
                                    'button',
                                    ((a = {}),
                                    (a[e.$style.isActive] =
                                      t.code === e.currentLanguage.code),
                                    a),
                                  ],
                                  domProps: {
                                    innerHTML: e._s(
                                      e.$t('languages.' + t.code)
                                    ),
                                  },
                                  on: {
                                    click: function (n) {
                                      return e.$emit('selectLanguage', t.code)
                                    },
                                  },
                                }),
                              ]
                            )
                          }),
                          0
                        ),
                      ],
                      1
                    ),
                  ]
                ),
              ]
            ),
          ],
          1
        )
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e = this,
          t = e.$createElement,
          n = e._self._c || t
        return n('div', { class: [e.$style.preloader, 'abs-fill'] }, [
          n('div', {
            ref: 'background',
            class: [e.$style.background, 'abs-fill'],
            style: { backgroundImage: 'url(' + e.background + ')' },
          }),
          e._v(' '),
          n(
            'div',
            { ref: 'content', class: [e.$style.content, 'abs-fill'] },
            [
              n('Icon', {
                ref: 'netlixLogo',
                class: [e.$style.logoNetflix],
                attrs: { name: 'netflix' },
              }),
              e._v(' '),
              n('LogoSequence', {
                ref: 'logoSequence',
                class: [e.$style.logoSequence],
                attrs: { 'auto-load': !1, autoplay: !1 },
              }),
              e._v(' '),
              n('HeadingPrefix', {
                ref: 'headingPrefix',
                class: [e.$style.headingPrefix],
                attrs: { tag: 'p', label: e.$t('global.loading') },
              }),
              e._v(' '),
              n('TipShuffler', {
                ref: 'tipShuffler',
                class: [e.$style.tipShuffler],
                attrs: { tips: e.$store.getters.translation.tips },
              }),
            ],
            1
          ),
        ])
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e,
          t = this,
          n = t.$createElement,
          i = t._self._c || n
        return i(
          'button',
          {
            ref: 'button',
            class: [
              t.$style.menuButton,
              'button',
              ((e = {}), (e[t.$style.isOpen] = t.isOpen), e),
            ],
            attrs: {
              title: t.title || '',
              'aria-label': t.title || t.$t('global.menu'),
              type: 'button',
            },
            on: { click: t.handleClick },
          },
          t._l(3, function (e) {
            return i('span', {
              key: e,
              ref: 'lines',
              refInFor: !0,
              class: [t.$style.line],
            })
          }),
          0
        )
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e = this,
          t = e.$createElement,
          n = e._self._c || t
        return n(
          'div',
          { class: [e.$style.sidePanel, 'abs-fill'] },
          [
            n('MaskOverlay', {
              ref: 'maskOverlay',
              class: [e.$style.maskOverlay],
              on: { click: e.close },
            }),
            e._v(' '),
            n(
              'div',
              { class: [e.$style.panel] },
              [
                n(
                  'PageFlipBackground',
                  {
                    ref: 'pageFlip',
                    class: e.$style.pageFlip,
                    attrs: { 'slower-reveal': !0, 'reverse-flip': e.$isRtl },
                  },
                  [
                    n(
                      'ModalBackground',
                      {
                        ref: 'modalBackground',
                        class: e.$style.content,
                        attrs: {
                          'border-radius': {
                            bottomLeft: !1,
                            bottomRight: !1,
                            topRight: !1,
                            topLeft: !1,
                          },
                          'show-shadow': !1,
                          size: e.Size.SMALL,
                        },
                      },
                      [
                        n('MenuPanel', {
                          ref: e.PanelState.MENU,
                          class: [e.$style.panelContent, 'abs-fill'],
                          on: { openPanel: e.openPanel, close: e.close },
                        }),
                        e._v(' '),
                        n('PrivacyPanel', {
                          ref: e.PanelState.PRIVACY,
                          class: [e.$style.panelContent, 'abs-fill'],
                          attrs: { content: e.$t('privacy.html') },
                          on: {
                            back: function (t) {
                              return e.openPanel(e.PanelState.MENU)
                            },
                            close: e.close,
                          },
                        }),
                        e._v(' '),
                        n('PrivacyPanel', {
                          ref: e.PanelState.IMPRINT,
                          class: [e.$style.panelContent, 'abs-fill'],
                          attrs: { content: e.$t('imprint.html') },
                          on: {
                            back: function (t) {
                              return e.openPanel(e.PanelState.MENU)
                            },
                            close: e.close,
                          },
                        }),
                        e._v(' '),
                        n('LanguagePanel', {
                          ref: e.PanelState.LANGUAGE,
                          class: [e.$style.panelContent, 'abs-fill'],
                          attrs: {
                            languages: e.$store.getters.languages,
                            'current-language': e.currentLanguage,
                          },
                          on: {
                            back: function (t) {
                              return e.openPanel(e.PanelState.MENU)
                            },
                            close: e.close,
                            selectLanguage: e.selectLanguage,
                          },
                        }),
                      ],
                      1
                    ),
                  ],
                  1
                ),
              ],
              1
            ),
          ],
          1
        )
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e = this,
          t = e.$createElement,
          n = e._self._c || t
        return n('div', { class: [e.$style.primaryButton] }, [
          e.type === e.ButtonType.LINK
            ? n(
                'a',
                {
                  ref: 'button',
                  class: [e.$style.button, 'button'],
                  attrs: {
                    href: e.target,
                    title: e.title || '',
                    'aria-label': e.title || '',
                  },
                  on: { click: e.handleClick },
                },
                [
                  n('span', {
                    ref: 'label',
                    class: e.$style.label,
                    domProps: { innerHTML: e._s(e.label) },
                  }),
                ]
              )
            : n(
                'button',
                {
                  ref: 'button',
                  class: [e.$style.button, 'button'],
                  attrs: {
                    title: e.title || '',
                    'aria-label': e.title || '',
                    type: e.type === e.ButtonType.SUBMIT ? 'submit' : 'button',
                  },
                  on: { click: e.handleClick },
                },
                [
                  n('span', {
                    ref: 'label',
                    class: e.$style.label,
                    domProps: { innerHTML: e._s(e.label) },
                  }),
                ]
              ),
        ])
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e = this,
          t = e.$createElement,
          n = e._self._c || t
        return n(
          'div',
          { class: [e.$style.homePage] },
          [
            n('CookieModal', {
              ref: 'cookieModal',
              class: [e.$style.cookieModal],
              on: { accept: e.onCookieAccept },
            }),
            e._v(' '),
            n('TimelineBar', {
              ref: 'timelineBar',
              class: [e.$style.timelineBar],
              attrs: {
                labels: e.timeline,
                characters: [
                  e.mainCharacterId.C2,
                  e.mainCharacterId.C3,
                  e.mainCharacterId.C1,
                ],
                events: e.events,
              },
              on: {
                change: e.onTimelineEventUpdate,
                openCard: e.onTimelineCardClick,
                isReady: e.handleTimelineBarReady,
                zoomIn: function (t) {
                  return e.$webgl.zoom(!0)
                },
                zoomOut: function (t) {
                  return e.$webgl.zoom(!1)
                },
              },
            }),
            e._v(' '),
            n('CardOverlay', {
              ref: 'cardOverlay',
              class: [e.$style.cardOverlay],
              attrs: { 'card-id': e.cardId },
              on: { openCard: e.openCardId, close: e.closeCards },
            }),
            e._v(' '),
            n('PrimaryCircleButton', {
              directives: [
                {
                  name: 'show',
                  rawName: 'v-show',
                  value: e.deviceState < e.DeviceState.SMALL,
                  expression: 'deviceState < DeviceState.SMALL',
                },
              ],
              ref: 'searchButton',
              class: [e.$style.searchButton],
              attrs: {
                icon: 'search',
                type: e.ButtonType.ACTION,
                active: e.searchIsVisible,
              },
              on: {
                click: e.handleSearchToggle,
                isReady: e.handleComponentReady,
              },
            }),
            e._v(' '),
            n('PrimaryCircleButton', {
              ref: 'cardsButton',
              class: [e.$style.cardsButton],
              attrs: {
                icon: 'cards',
                type: e.ButtonType.ACTION,
                count: e.openCards.length,
                disabled: 0 === e.openCards.length,
                active: e.cardModusIsOpen,
                'is-search-open': e.searchIsVisible,
              },
              on: {
                click: e.handleCardsToggle,
                isReady: e.handleComponentReady,
              },
            }),
            e._v(' '),
            n('AutoComplete', {
              ref: 'autoComplete',
              class: [e.$style.autoComplete],
              attrs: { items: e.searchItems, id: 'search', name: 'search' },
              on: { select: e.onSearchUpdate, hide: e.hideSearch },
            }),
            e._v(' '),
            n('CloseButton', {
              ref: 'closeButton',
              class: [e.$style.closeButton],
              attrs: { type: e.ButtonType.ACTION },
              on: { click: e.onCloseClick },
            }),
            e._v(' '),
            n('ShareCard'),
            e._v(' '),
            e.closeupId && e.closeupId !== e.audioCloseUpId
              ? n('PreviewCardModal', {
                  ref: 'closeupCard',
                  class: [e.$style.closeUpCardModel],
                  attrs: {
                    'card-state': e.closeupCardState,
                    'card-id': e.closeupId,
                  },
                  on: { click: e.onCloseupCardClick },
                })
              : e._e(),
            e._v(' '),
            e.closeupId && e.closeupId === e.audioCloseUpId
              ? n('AudioCardModal', {
                  ref: 'audioCloseupCard',
                  class: [e.$style.closeUpCardModel],
                  attrs: { 'card-id': e.closeupId },
                })
              : e._e(),
          ],
          1
        )
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e = this,
          t = e.$createElement,
          n = e._self._c || t
        return n(
          'div',
          { class: [e.$style.cardCarousel] },
          [
            n(
              'div',
              { ref: 'draggable', class: [e.$style.draggable] },
              e._l(e.cardIds, function (t) {
                return n(
                  'div',
                  {
                    key: 'wrapper-' + t,
                    ref: 'carouselItems',
                    refInFor: !0,
                    class: [e.$style.carouselItem],
                  },
                  [
                    n('CardModal', {
                      key: 'card-' + t,
                      ref: 'carouselCards',
                      refInFor: !0,
                      class: [e.$style.cardModal, 'js-card'],
                      attrs: {
                        'card-id': t,
                        'reverse-flip': !0,
                        'reset-timeline': !1,
                      },
                      on: {
                        close: e.onClose,
                        openCardLink: e.onOpenCardLinkClick,
                        isReady: e.handleComponentReady,
                      },
                    }),
                  ],
                  1
                )
              }),
              0
            ),
            e._v(' '),
            n('DotsPaginator', {
              ref: 'dotsPaginator',
              class: [e.$style.dotsPaginator],
              attrs: {
                'current-index': e.snapIndex,
                total: e.cardIds.length,
                'max-items': 5,
              },
              on: {
                change: e.handlePaginationChange,
                isReady: e.handleDotsPaginatorReady,
              },
            }),
          ],
          1
        )
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e = this.$createElement,
          t = this._self._c || e
        return t('div', { class: [this.$style.webglPage] }, [
          t('h2', [this._v('WebglPage')]),
        ])
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e,
          t,
          n = this,
          i = n.$createElement,
          a = n._self._c || i
        return a(
          'div',
          {
            class: [
              n.$style.audioPlayer,
              ((e = {}), (e[n.$style.isSmall] = n.small), e),
            ],
          },
          [
            a('audio', {
              ref: 'audio',
              class: n.$style.audio,
              attrs: { src: n.file },
              on: { play: n.onPlay, pause: n.onPause, ended: n.onEnded },
            }),
            n._v(' '),
            a('button', {
              class: [
                n.$style.togglePlay,
                ((t = {}), (t[n.$style.isPlaying] = n.isPlaying), t),
              ],
              on: { click: n.togglePlay },
            }),
            n._v(' '),
            a('div', { class: n.$style.progressWrapper }, [
              a('span', {
                ref: 'progress',
                class: n.$style.progress,
                style: { width: 100 * n.progress + '%' },
              }),
            ]),
          ]
        )
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e = this.$createElement,
          t = this._self._c || e
        return t(
          'div',
          { ref: 'container', class: this.$style.spriteSequence },
          [t('canvas', { staticClass: 'abs-fill' })]
        )
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e = this,
          t = e.$createElement,
          n = e._self._c || t
        return n(
          'div',
          { class: [e.$style.historyTimeline] },
          e._l(e.timeline, function (t, i) {
            var a
            return n(
              'router-link',
              {
                key: i,
                class: [e.$style.timelineItem],
                attrs: {
                  to: { params: ((a = {}), (a[e.Params.CARD_ID] = t.slug), a) },
                },
              },
              [
                0 !== t.date
                  ? n('time', { class: [e.$style.year] }, [e._v(e._s(t.date))])
                  : e._e(),
                e._v(' '),
                n('h4', { class: [e.$style.eventTitle, 'heading-03'] }, [
                  n('span', {
                    class: e.$style.titleContent,
                    domProps: {
                      innerHTML: e._s(e.$t(t.cardType + '.' + t.id + '.title')),
                    },
                  }),
                ]),
                e._v(' '),
                n('p', {
                  class: [e.$style.eventDescription, 'copy-03'],
                  domProps: {
                    innerHTML: e._s(
                      e.$t(t.cardType + '.' + t.id + '.shortDescription')
                    ),
                  },
                }),
              ]
            )
          }),
          1
        )
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e = this,
          t = e.$createElement,
          n = e._self._c || t
        return n(
          'router-link',
          { class: [e.$style.relatedItem], attrs: { to: e.target } },
          [
            n('picture', { class: [e.$style.picture] }, [
              n('img', {
                class: [e.$style.image, 'abs-fill'],
                attrs: { src: e.image, alt: e.title },
              }),
            ]),
            e._v(' '),
            n('p', {
              class: [e.$style.caption, 'copy-03'],
              domProps: { innerHTML: e._s(e.title) },
            }),
          ]
        )
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e = this.$createElement
        return (this._self._c || e)('span', {
          class: [this.$style.icon],
          domProps: { innerHTML: this._s(this.icon) },
        })
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e = this,
          t = e.$createElement,
          n = e._self._c || t
        return n('div', { class: [e.$style.songPlayer] }, [
          n('span', { class: e.$style.lute }),
          e._v(' '),
          n('h2', { class: ['heading-02', e.$style.title] }, [
            e._v(e._s(e.content.title)),
          ]),
          e._v(' '),
          e.meta
            ? n('iframe', {
                class: [e.$style.iframe],
                attrs: {
                  width: '100%',
                  height: '80',
                  frameborder: '0',
                  allowtransparency: 'true',
                  allow: 'encrypted-media',
                  src: e.meta.file,
                },
              })
            : e._e(),
          e._v(' '),
          n('p', {
            class: ['heading-03', e.$style.lyrics],
            domProps: { innerHTML: e._s(e.content.songtext) },
          }),
        ])
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e = this,
          t = e.$createElement,
          n = e._self._c || t
        return n(
          'div',
          { class: [e.$style.app, 'dir-' + e.dirClass] },
          [
            n('Preloader', {
              ref: 'preloader',
              class: [e.$style.preloader],
              on: {
                isReady: e.handlePreloaderReady,
                completed: e.onPreloaderAnimationCompleted,
              },
            }),
            e._v(' '),
            n('div', { ref: 'background', class: [e.$style.background] }),
            e._v(' '),
            n(
              'transition',
              { on: { leave: e.onLeave } },
              [
                e.applicationLoaded
                  ? n('router-view', {
                      class: [e.$style.page],
                      on: { moveMap: e.handleMoveMap },
                    })
                  : e._e(),
              ],
              1
            ),
            e._v(' '),
            n('MenuButton', {
              ref: 'menuButton',
              class: [e.$style.menuButton],
              attrs: { 'is-open': e.menuIsOpen, type: e.ButtonType.ACTION },
              on: { click: e.onMenuButtonClick },
            }),
            e._v(' '),
            n('SidePanel', {
              ref: 'sidePanel',
              class: [e.$style.sidePanel],
              on: { close: e.closeSidePanel },
            }),
          ],
          1
        )
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  function (e, t, n) {
    'use strict'
    var i = function () {
        var e = this,
          t = e.$createElement,
          n = e._self._c || t
        return n('div', { class: [e.$style.dotsPaginator] }, [
          n(
            'div',
            { ref: 'carousel', class: [e.$style.carousel] },
            e._l(e.total, function (t) {
              var i
              return n('button', {
                key: t,
                ref: 'dots',
                refInFor: !0,
                class: [
                  e.$style.dot,
                  'button',
                  ((i = {}),
                  (i[e.$style.isActive] = e.activeIndex === t - 1),
                  i),
                ],
                on: {
                  click: function (n) {
                    return e.handleIndexChange(t - 1)
                  },
                },
              })
            }),
            0
          ),
        ])
      },
      a = []
    ;(i._withStripped = !0),
      n.d(t, 'a', function () {
        return i
      }),
      n.d(t, 'b', function () {
        return a
      })
  },
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(436),
        a = n(266),
        r = n(363),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file = 'src/component/Icon/Icon.vue'), (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(429),
        a = n(231),
        r = n(390),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file = 'src/page/HomePage/HomePage.vue'), (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  ,
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(410),
        a = n(258),
        r = n(372),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file = 'src/component/asset/TimelineBar/TimelineBar.vue'),
        (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(422),
        a = n(245),
        r = n(371),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file =
        'src/component/button/ZoomControls/ZoomControls.vue'),
        (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(417),
        a = n(260),
        r = n(383),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file =
        'src/component/general/overlay/CardOverlay/CardOverlay.vue'),
        (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(434),
        a = n(255),
        r = n(373),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file =
        'src/component/asset/HistoryTimeline/HistoryTimeline.vue'),
        (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  ,
  ,
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(435),
        a = n(237),
        r = n(375),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file = 'src/component/asset/RelatedItem/RelatedItem.vue'),
        (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(437),
        a = n(232),
        r = n(378),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file = 'src/component/asset/SongPlayer/SongPlayer.vue'),
        (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(430),
        a = n(256),
        r = n(382),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file =
        'src/component/general/carousel/CardCarousel/CardCarousel.vue'),
        (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(439),
        a = n(236),
        r = n(381),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file =
        'src/component/general/pagination/DotsPaginator/DotsPaginator.vue'),
        (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(423),
        a = n(246),
        r = n(384),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file =
        'src/component/general/form/AutoComplete/AutoComplete.vue'),
        (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  ,
  ,
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(420),
        a = n(248),
        r = n(385),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file =
        'src/component/button/PrimaryCircleButton/PrimaryCircleButton.vue'),
        (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(419),
        a = n(244),
        r = n(387),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file =
        'src/component/general/modal/CookieModal/CookieModal.vue'),
        (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(428),
        a = n(238),
        r = n(386),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file =
        'src/component/button/PrimaryButton/PrimaryButton.vue'),
        (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(415),
        a = n(230),
        r = n(388),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file =
        'src/component/general/modal/ShareCard/ShareCard.vue'),
        (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  ,
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(413),
        a = n(254),
        r = n(389),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file =
        'src/component/general/modal/AudioCardModal/AudioCardModal.vue'),
        (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(431),
        a = n(242),
        r = n(391),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file = 'src/page/WebglPage/WebglPage.vue'),
        (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  ,
  ,
  function (e, t) {
    e.exports =
      '#ifdef GL_ES\n\tprecision mediump float;\n#endif\n\nattribute vec3 aPos;\nattribute vec2 aUV0;\n\nvarying vec2 vUV;\n\nvoid main(void) {\n\tvUV = aUV0;\n\tgl_Position = vec4(aPos, 1.0);\n}'
  },
  function (e, t) {
    e.exports =
      'uniform float _VignetteBoost;\nuniform float _VignetteReduction;\nuniform vec4  _VignetteColor;\n\nvec3 vignette(vec2 uv, vec3 color) {\n\tfloat d = 2. * dot(uv -= .5, uv);\n\treturn max(vec3(0.), _VignetteBoost - (d * d * _VignetteReduction) * _VignetteColor.rgb) * color;\n}'
  },
  function (e, t) {
    e.exports =
      'uniform float _NoiseAnimatedAmount;\n\nfloat noiseanimatedhash13(highp vec3 p3) {\n\tp3  = fract(p3 * .1031);\n    p3 += dot(p3, p3.yzx + 33.33);\n    return fract((p3.x + p3.y) * p3.z);\n}\n\nvec3 noiseanimated(vec2 uv, vec3 color) {\n    float noise = noiseanimatedhash13(vec3(gl_FragCoord.xy, uTime)) - .5;\n\treturn max(vec3(0.), color + noise * (_NoiseAnimatedAmount / 255.));\n}'
  },
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(438),
        a = n(233),
        r = n(402),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file = 'src/App/App.vue'), (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(426),
        a = n(239),
        r = n(394),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file = 'src/component/button/MenuButton/MenuButton.vue'),
        (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(407),
        a = n(257),
        r = n(396),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file =
        'src/component/layout/SidePanel/content/MenuPanel/MenuPanel.vue'),
        (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(404),
        a = n(262),
        r = n(397),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file =
        'src/component/layout/SidePanel/content/PrivacyPanel/PrivacyPanel.vue'),
        (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(424),
        a = n(240),
        r = n(398),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file =
        'src/component/layout/SidePanel/content/LanguagePanel/LanguagePanel.vue'),
        (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(425),
        a = n(241),
        r = n(401),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file = 'src/component/layout/Preloader/Preloader.vue'),
        (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  function (e, t, n) {
    'use strict'
    ;(function (e) {
      var i = n(409),
        a = n(235),
        r = n(400),
        s = n(12),
        o = {},
        l = !1
      e.hot, e.hot
      var u = Object(s.a)(
        a.a,
        i.a,
        i.b,
        !1,
        function (e) {
          l ||
            ((o.$style = r.default.locals || r.default),
            Object.defineProperty(this, '$style', {
              configurable: !0,
              get: function () {
                return o.$style
              },
            }))
        },
        null,
        null
      )
      ;(u.options.__file = 'src/component/asset/TipShuffler/TipShuffler.vue'),
        (t.a = u.exports)
    }.call(this, n(18)(e)))
  },
  ,
  ,
  ,
  function (e, t, n) {
    n(594), (e.exports = n(1003))
  },
  function (e, t, n) {
    'use strict'
    n.r(t)
    n(595),
      n(597),
      n(598),
      n(601),
      n(602),
      n(444),
      n(294),
      n(605),
      n(606),
      n(608),
      n(609),
      n(611),
      n(612),
      n(613),
      n(614),
      n(615),
      n(616),
      n(617),
      n(618),
      n(619),
      n(620),
      n(621),
      n(623),
      n(624),
      n(625),
      n(626),
      n(627),
      n(628),
      n(629),
      n(630),
      n(631),
      n(632),
      n(633),
      n(634),
      n(635),
      n(636),
      n(637),
      n(638),
      n(639),
      n(640),
      n(642),
      n(644),
      n(452),
      n(453),
      n(454),
      n(645),
      n(646),
      n(456),
      n(647),
      n(648),
      n(459),
      n(460),
      n(649),
      n(650),
      n(651),
      n(652),
      n(653),
      n(654),
      n(655),
      n(656),
      n(462),
      n(657),
      n(466),
      n(660),
      n(661),
      n(663),
      n(664),
      n(665),
      n(666),
      n(667),
      n(668),
      n(669),
      n(670),
      n(671),
      n(672),
      n(673),
      n(674),
      n(467),
      n(675),
      n(677),
      n(678),
      n(679),
      n(680),
      n(681),
      n(682),
      n(684),
      n(685),
      n(686),
      n(687),
      n(688),
      n(689),
      n(690),
      n(691),
      n(692),
      n(693),
      n(694),
      n(695),
      n(696),
      n(697),
      n(698),
      n(470),
      n(473),
      n(699),
      n(700),
      n(701),
      n(702),
      n(703),
      n(704),
      n(705),
      n(706),
      n(707),
      n(708),
      n(709),
      n(710),
      n(711),
      n(712),
      n(713),
      n(714),
      n(715),
      n(716),
      n(717),
      n(718),
      n(719),
      n(720),
      n(477),
      n(478),
      n(721)
    t.default = {}
  },
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  function (e, t) {
    !(function (t) {
      var n = 'Modernizr' in t,
        i = t.Modernizr
      !(function (e, t, n) {
        function i(e, t) {
          return typeof e === t
        }
        var a = [],
          r = {
            _version: '3.6.0',
            _config: {
              classPrefix: '',
              enableClasses: !0,
              enableJSClass: !0,
              usePrefixes: !0,
            },
            _q: [],
            on: function (e, t) {
              var n = this
              setTimeout(function () {
                t(n[e])
              }, 0)
            },
            addTest: function (e, t, n) {
              a.push({ name: e, fn: t, options: n })
            },
            addAsyncTest: function (e) {
              a.push({ name: null, fn: e })
            },
          },
          s = function () {}
        ;(s.prototype = r), (s = new s())
        var o = [],
          l = t.documentElement,
          u = 'svg' === l.nodeName.toLowerCase()
        ;(function () {
          var e, t, n, r, l, u
          for (var c in a)
            if (a.hasOwnProperty(c)) {
              if (
                ((e = []),
                (t = a[c]).name &&
                  (e.push(t.name.toLowerCase()),
                  t.options && t.options.aliases && t.options.aliases.length))
              )
                for (n = 0; n < t.options.aliases.length; n++)
                  e.push(t.options.aliases[n].toLowerCase())
              for (
                r = i(t.fn, 'function') ? t.fn() : t.fn, l = 0;
                l < e.length;
                l++
              )
                1 === (u = e[l].split('.')).length
                  ? (s[u[0]] = r)
                  : (!s[u[0]] ||
                      s[u[0]] instanceof Boolean ||
                      (s[u[0]] = new Boolean(s[u[0]])),
                    (s[u[0]][u[1]] = r)),
                  o.push((r ? '' : 'no-') + u.join('-'))
            }
        })(),
          (function (e) {
            var t = l.className,
              n = s._config.classPrefix || ''
            if ((u && (t = t.baseVal), s._config.enableJSClass)) {
              var i = new RegExp('(^|\\s)' + n + 'no-js(\\s|$)')
              t = t.replace(i, '$1' + n + 'js$2')
            }
            s._config.enableClasses &&
              ((t += ' ' + n + e.join(' ' + n)),
              u ? (l.className.baseVal = t) : (l.className = t))
          })(o),
          delete r.addTest,
          delete r.addAsyncTest
        for (var c = 0; c < s._q.length; c++) s._q[c]()
        e.Modernizr = s
      })(t, document),
        (e.exports = t.Modernizr),
        n ? (t.Modernizr = i) : delete t.Modernizr
    })(window)
  },
  function (e, t, n) {},
  ,
  function (e, t, n) {
    var i = {
      './cards.svg': 728,
      './creature.svg': 729,
      './event.svg': 730,
      './facebook.svg': 731,
      './instagram.svg': 732,
      './location.svg': 733,
      './netflix.svg': 734,
      './search.svg': 735,
      './share.svg': 736,
      './twitter.svg': 737,
    }
    function a(e) {
      var t = r(e)
      return n(t)
    }
    function r(e) {
      if (!n.o(i, e)) {
        var t = new Error("Cannot find module '" + e + "'")
        throw ((t.code = 'MODULE_NOT_FOUND'), t)
      }
      return i[e]
    }
    ;(a.keys = function () {
      return Object.keys(i)
    }),
      (a.resolve = r),
      (e.exports = a),
      (a.id = 727)
  },
  function (e, t) {
    e.exports =
      '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 154.63 119.78"><path d="M154.39 31.85a6.61 6.61 0 0 0-3.68-3.51c-17.37-8.48-36-17.63-54.75-27.09C94.6.56 92.57-.27 90.62.39s-3 2.5-3.72 4c-2.38 5-4.9 10-7.57 15.21l-2 3.85-1.95-3.93c-2.59-5.29-5.08-10.31-7.46-15.36-.7-1.49-1.74-3.28-3.59-3.92s-3.83.15-5.13.81C41.79 9.84 23.75 18.75 4.07 28.3 2 29.33.75 30.49.25 32c-.65 1.91.1 3.85.92 5.49 13.94 28 26.52 53.58 38.47 78.08.75 1.54 1.86 3.39 3.8 4s3.93-.23 5.27-.93c4.16-2.18 8.45-4.3 12.6-6.36 4.33-2.15 8.81-4.37 13.17-6.66 2.09-1.1 3.55-1.08 5.79.09 4.52 2.36 9.15 4.65 13.64 6.88 4 2 8.13 4 12.16 6.11a8.22 8.22 0 0 0 3.71 1.1 4.38 4.38 0 0 0 1.42-.22c1.41-.47 2.51-1.59 3.46-3.53 13.68-28 26.43-53.92 39-79.23a6.59 6.59 0 0 0 .74-4.95m-9.2 3.31l-37.12 75-51.37-25.29 37.15-75zM47 88.05c.69 2 2.63 3 4.24 3.76 4.29 1.93 8.54 4 13 6.26l3.07 1.52-20.67 10.6L9.73 35.2 60.86 9.88 63 14.22c3.18 6.39 6.18 12.43 9 18.59a7.29 7.29 0 0 1-1 2.81l-3.18 6.5c-6.47 13.27-13.15 27-20 40.37-.73 1.43-1.62 3.57-.92 5.56"></path></svg>'
  },
  function (e, t) {
    e.exports =
      '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 148.92 205.77"><path d="M124.62 50.17A50.17 50.17 0 1 1 74.46 0a50.16 50.16 0 0 1 50.16 50.17"></path><path d="M116.93 99.32a69.87 69.87 0 0 1-84.94 0l-32 32 74.46 74.46 74.46-74.46z"></path></svg>'
  },
  function (e, t) {
    e.exports =
      '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 205 205"><path d="M136.25 62.73l-3.91-7.21h18.38v17.85l-8.45-4.57v67.93l8.45-4.58v17.33h-18.37l3.9-7.21H68.31l3.91 7.21H56.76v-16l6 3.23V68.79l-6 3.23v-16.5h15.46l-3.9 7.21zM102.27 0L76.84 47H48.22v29.65L0 102.77l48.22 26.11V158h28.62l25.45 47 25.43-47h31.54v-30.47L205 102.75 159.26 78V47h-31.54z"></path></svg>'
  },
  function (e, t) {
    e.exports =
      '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 167.66 166.96"><path d="M83.83 0a83.78 83.78 0 0 0-14 166.4v-65.08h-20.2V77.9h20.22V60.63c0-20 12.24-31 30.11-31a167.27 167.27 0 0 1 18.06.92v21h-12.4C95.9 51.54 94 56.16 94 62.94v15h23.19l-3 23.42H94V167A83.79 83.79 0 0 0 83.83 0z" fill="#010002"></path></svg>'
  },
  function (e, t) {
    e.exports =
      '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 96 96"><path d="M95.71 28.21a35.55 35.55 0 0 0-2.23-11.65 23.57 23.57 0 0 0-5.54-8.51 23.51 23.51 0 0 0-8.5-5.53A35.15 35.15 0 0 0 67.78.29C62.66.06 61 0 48 0S33.33.06 28.21.29a35 35 0 0 0-11.65 2.23 23.64 23.64 0 0 0-8.5 5.53 23.57 23.57 0 0 0-5.54 8.51A35 35 0 0 0 .29 28.21C.06 33.33 0 35 0 48s.06 14.67.29 19.79a35.29 35.29 0 0 0 2.23 11.65 24.59 24.59 0 0 0 14 14 35 35 0 0 0 11.65 2.23C33.33 95.94 35 96 48 96s14.67-.06 19.79-.29a35 35 0 0 0 11.65-2.23 24.59 24.59 0 0 0 14-14 35.55 35.55 0 0 0 2.23-11.65C95.94 62.67 96 61 96 48s-.06-14.67-.29-19.79zm-8.64 39.17a26.39 26.39 0 0 1-1.65 8.91 15.91 15.91 0 0 1-9.11 9.1 26.58 26.58 0 0 1-8.91 1.66c-5.06.23-6.58.28-19.4.28s-14.33 0-19.39-.28a26.58 26.58 0 0 1-8.91-1.66 14.9 14.9 0 0 1-5.53-3.59 14.91 14.91 0 0 1-3.59-5.52 26.63 26.63 0 0 1-1.65-8.9c-.23-5.06-.28-6.59-.28-19.4s0-14.33.28-19.39a26.78 26.78 0 0 1 1.65-8.92 15 15 0 0 1 3.59-5.52 14.9 14.9 0 0 1 5.53-3.59 26.39 26.39 0 0 1 8.91-1.65c4.43-.2 6.14-.26 15.09-.27H48c12.82 0 14.34 0 19.4.28a26.39 26.39 0 0 1 8.91 1.65 14.87 14.87 0 0 1 5.52 3.59 14.87 14.87 0 0 1 3.59 5.52 26.39 26.39 0 0 1 1.65 8.91c.23 5.06.28 6.58.28 19.39s-.05 14.34-.28 19.4zM47.99 0H48h-.01zM48 23.35z"></path><path d="M48 23.35A24.65 24.65 0 1 0 72.65 48 24.65 24.65 0 0 0 48 23.35zM48 64a16 16 0 1 1 16-16 16 16 0 0 1-16 16zM73.63 16.62a5.76 5.76 0 1 0 5.76 5.76 5.76 5.76 0 0 0-5.76-5.76z"></path></svg>'
  },
  function (e, t) {
    e.exports =
      '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 137.18 210.7"><path d="M68.59 0C31.19 0 0 28.38 0 68.59c0 15.28 5.91 33.26 12.25 45.09l49.83 93.09a7.35 7.35 0 0 0 13 0l49.83-93.09c6.34-11.83 12.25-29.81 12.25-45.09C137.18 28.38 106 0 68.59 0m0 14.7c30.24 0 53.89 21 53.89 53.89 0 11.06-5.48 28.78-10.48 38.12l-43.41 80.92-43.4-80.92c-5-9.34-10.49-27.06-10.49-38.12 0-32.85 23.65-53.89 53.89-53.89m0 19.6a34.3 34.3 0 1 0 34.3 34.29 34.4 34.4 0 0 0-34.3-34.29m0 14.69A19.6 19.6 0 1 1 49 68.59 19.49 19.49 0 0 1 68.59 49"></path></svg>'
  },
  function (e, t) {
    e.exports =
      '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 81.387"><path d="M256.09 76.212c4.178.405 8.354.84 12.52 1.29l9.198-22.712 8.743 24.807c4.486.562 8.97 1.152 13.44 1.768l-15.328-43.501L299.996 0H287.01l-.135.186-8.283 20.455L271.32.003h-12.822l13.237 37.565-15.644 38.644zm-9.697-.89V0h-12.817v74.265c4.275.33 8.552.684 12.817 1.056m-96.28-4.211c3.46 0 6.916.026 10.366.054V43.492h15.397V31.708H160.48v-19.91h17.733V0h-30.6v71.12c.831 0 1.666-.013 2.5-.01m-39.794.72c4.27-.152 8.544-.28 12.824-.384V11.8h11.98V.003H98.339V11.8h11.982v60.03h-.002zm-98.024 7.942V34.897L27.471 77.96c4.667-.524 9.341-1.017 14.028-1.483V.001H29.201v46.483L12.825.001H0v81.384h.077c4.063-.562 8.14-1.096 12.218-1.613M85.98 11.797V.001H55.377v75.201a1100.584 1100.584 0 0 1 30.578-2.211V61.184c-5.916.344-11.82.74-17.71 1.181V43.497h15.397V31.706H68.245V11.797H85.98zM203.614 60.62V-.003h-12.873v71.876c10.24.376 20.44.9 30.606 1.56V61.619c-5.9-.381-11.81-.712-17.733-1"></path></svg>'
  },
  function (e, t) {
    e.exports =
      '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128.77 128.78"><path d="M54.48 0a54.47 54.47 0 1 0 32.25 98.35l28 28a8.26 8.26 0 0 0 11.66-11.71l-28-27.95A54.45 54.45 0 0 0 54.48 0m0 16.5a38 38 0 1 1-38 38 37.85 37.85 0 0 1 38-38"></path></svg>'
  },
  function (e, t) {
    e.exports =
      '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 154.94 177.28"><g fill="#e0dacd"><path d="M154.83 90.08a9.68 9.68 0 0 0-19.35.21l.1 9.68h-.1v58.06H19.35V90.19a9.68 9.68 0 1 0-19.35 0v77.41a9.68 9.68 0 0 0 9.68 9.68h135.47a9.68 9.68 0 0 0 9.68-9.68v-60.15l.11-7.75z"></path><path d="M56.81 44l10.93-10.95v76.51a9.68 9.68 0 0 0 19.35 0V33.08L98 44a9.67 9.67 0 0 0 13.67-13.7L84.18 2.8A9.5 9.5 0 0 0 77.44 0h-.07a9.52 9.52 0 0 0-6.75 2.8l-27.5 27.5A9.68 9.68 0 0 0 56.81 44z"></path></g></svg>'
  },
  function (e, t) {
    e.exports =
      '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 19.5"><path d="M24 2.31a9.87 9.87 0 0 1-2.83.77A4.94 4.94 0 0 0 23.34.36a10 10 0 0 1-3.13 1.19 4.93 4.93 0 0 0-8.39 4.5A14 14 0 0 1 1.67.9a4.94 4.94 0 0 0 1.52 6.58A5 5 0 0 1 1 6.86a4.94 4.94 0 0 0 4 4.89 4.86 4.86 0 0 1-2.22.08 4.92 4.92 0 0 0 4.6 3.42 9.86 9.86 0 0 1-7.29 2 13.92 13.92 0 0 0 7.46 2.25 13.92 13.92 0 0 0 14-14.64A10.11 10.11 0 0 0 24 2.31z"></path></svg>'
  },
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  function (e, t, n) {
    var i = {
      './ar-ar.json': [1005, 0],
      './de-de.json': [1006, 1],
      './en-gb.json': [1007, 2],
      './es-ar.json': [1008, 3],
      './es-es.json': [1009, 4],
      './fr-fr.json': [1010, 5],
      './it-it.json': [1011, 6],
      './nl-nl.json': [1012, 7],
      './pl-pl.json': [1013, 8],
      './pt-br.json': [1014, 9],
      './ro-ro.json': [1015, 10],
      './tr-tr.json': [1016, 11],
    }
    function a(e) {
      if (!n.o(i, e))
        return Promise.resolve().then(function () {
          var t = new Error("Cannot find module '" + e + "'")
          throw ((t.code = 'MODULE_NOT_FOUND'), t)
        })
      var t = i[e],
        a = t[0]
      return n.e(t[1]).then(function () {
        return n.t(a, 3)
      })
    }
    ;(a.keys = function () {
      return Object.keys(i)
    }),
      (a.id = 952),
      (e.exports = a)
  },
  ,
  ,
  ,
  function (e, t, n) {
    var i = {
      './default/default.fs.glsl': 957,
      './default/default.vs.glsl': 958,
    }
    function a(e) {
      var t = r(e)
      return n(t)
    }
    function r(e) {
      if (!n.o(i, e)) {
        var t = new Error("Cannot find module '" + e + "'")
        throw ((t.code = 'MODULE_NOT_FOUND'), t)
      }
      return i[e]
    }
    ;(a.keys = function () {
      return Object.keys(i)
    }),
      (a.resolve = r),
      (e.exports = a),
      (a.id = 956)
  },
  function (e, t) {
    e.exports =
      '#ifdef GL_ES\n\tprecision mediump float;\n#endif\n\nvarying vec2 vUV;\n\nuniform sampler2D uTexture;\t\n\nvoid main(void) {\n\tgl_FragColor = texture2D(uTexture, vUV);\n}'
  },
  function (e, t) {
    e.exports =
      'attribute vec3 aPos;\nattribute vec2 aUV0;\n\nvarying vec2 vUV;\n\nvoid main(void) {\n\tvUV = aUV0;\n\tgl_Position = vec4(aPos, 1.0);\n}'
  },
  function (e) {
    e.exports = {
      transforms: [
        {
          name: 'Map',
          id: 11132,
          parentId: -1,
          position: [0, 0, 0],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'Quad',
          id: 11296,
          parentId: 11132,
          position: [0, 0, 0],
          rotation: [0.707, 0, 0, 0.707],
          scale: [1024, 512, 1],
        },
        {
          name: 'Locations',
          id: 11336,
          parentId: 11132,
          position: [0, 0, 0],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'L1',
          id: 11126,
          parentId: 11336,
          position: [84.2, 0, 111.15],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'L2',
          id: 11070,
          parentId: 11336,
          position: [-45.4, 0, 128.2],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'L3',
          id: 11110,
          parentId: 11336,
          position: [19.5, 0, 161.7],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'L4',
          id: 11146,
          parentId: 11336,
          position: [101.7, 0, 84.8],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'L5',
          id: 11206,
          parentId: 11336,
          position: [71.8, 0, 57],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'L6',
          id: 11266,
          parentId: 11336,
          position: [25, 0, 215.4],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'L7',
          id: 11254,
          parentId: 11336,
          position: [111.7, 0, 37.9],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'L8',
          id: 11212,
          parentId: 11336,
          position: [-57.72, 0, 180.71],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'L9',
          id: 11352,
          parentId: 11336,
          position: [-131.5, 0, -103.8],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'L10',
          id: 11236,
          parentId: 11336,
          position: [-8.6, 0, 56.7],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'L11',
          id: 11116,
          parentId: 11336,
          position: [87.7, 0, -1.2],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'L12',
          id: 11272,
          parentId: 11336,
          position: [92.8, 0, -22.5],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'L13',
          id: 11330,
          parentId: 11336,
          position: [103.25, 0, -145],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'L14',
          id: 11168,
          parentId: 11336,
          position: [30.2, 0, 112.2],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'L15',
          id: 11188,
          parentId: 11336,
          position: [70.2, 0, 48.2],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'L16',
          id: 11100,
          parentId: 11336,
          position: [61.3, 0, 94.2],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'L17',
          id: 11224,
          parentId: 11336,
          position: [84.2, 0, 106.7],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'L18',
          id: 11290,
          parentId: 11336,
          position: [-72.3, 0, 114.7],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'L19',
          id: 11340,
          parentId: 11336,
          position: [-35.5, 0, 94.1],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'L20',
          id: 11318,
          parentId: 11336,
          position: [84.9, 0, -23.3],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'L21',
          id: 11162,
          parentId: 11336,
          position: [49.7, 0, 191.7],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'L22',
          id: 11064,
          parentId: 11336,
          position: [13.6, 0, 126.6],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'L23',
          id: 11218,
          parentId: 11336,
          position: [150.5, 0, 67.9],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'L24',
          id: 11284,
          parentId: 11336,
          position: [73.8, 0, 10.9],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'L25',
          id: 11174,
          parentId: 11336,
          position: [105.9, 0, -24.6],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'L26',
          id: 11200,
          parentId: 11336,
          position: [69, 0, 117.6],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'L27',
          id: 11344,
          parentId: 11340,
          position: [132, 0, -25.7],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'L28',
          id: 11252,
          parentId: 11340,
          position: [93.1, 0, -58.6],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'Events',
          id: 11158,
          parentId: 11132,
          position: [0, 0, 0],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'E1',
          id: 11324,
          parentId: 11158,
          position: [63.9, 0, 88.6],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'E37',
          id: 11312,
          parentId: 11158,
          position: [111.8, 0, 37.89],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'E40',
          id: 11094,
          parentId: 11158,
          position: [78.7, 0, 61.74],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'E41',
          id: 11346,
          parentId: 11158,
          position: [70.24, 0, 47.97],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'E44',
          id: 11230,
          parentId: 11158,
          position: [68, 0, 0],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'Monsters',
          id: 11136,
          parentId: 11132,
          position: [0, 0, 0],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'M1',
          id: 11306,
          parentId: 11136,
          position: [-111.3, 0, 37.8],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'M2',
          id: 11088,
          parentId: 11136,
          position: [96.3, 0, 69.9],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'M4',
          id: 11248,
          parentId: 11136,
          position: [28.8, 0, 225],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'M5',
          id: 11194,
          parentId: 11136,
          position: [25.35, 0, 212.91],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'M6',
          id: 11242,
          parentId: 11136,
          position: [14.33, 0, 170.26],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'M8',
          id: 11140,
          parentId: 11136,
          position: [140.6, 0, 38.4],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'M10',
          id: 11260,
          parentId: 11136,
          position: [-87.4, 0, 113],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'M11',
          id: 11278,
          parentId: 11136,
          position: [39.2, 0, 115.9],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'Characters',
          id: 11106,
          parentId: 11132,
          position: [0, 0, 0],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'C17',
          id: 11082,
          parentId: 11106,
          position: [32.8, 0, 101.6],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'Race',
          id: 11122,
          parentId: 11132,
          position: [0, 0, 0],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
        {
          name: 'R4',
          id: 11076,
          parentId: 11122,
          position: [101.2, 0, 80.3],
          rotation: [0, 0, 0, 1],
          scale: [1, 1, 1],
        },
      ],
      animations: [],
      materials: [],
      objects: [],
      locations: [
        { transformID: 11126, id: 'L1', clickable: !1 },
        { transformID: 11070, id: 'L2', clickable: !1 },
        { transformID: 11110, id: 'L3', clickable: !1 },
        { transformID: 11146, id: 'L4', clickable: !1 },
        { transformID: 11206, id: 'L5', clickable: !1 },
        { transformID: 11266, id: 'L6', clickable: !1 },
        { transformID: 11254, id: 'L7', clickable: !1 },
        { transformID: 11212, id: 'L8', clickable: !1 },
        { transformID: 11352, id: 'L9', clickable: !1 },
        { transformID: 11236, id: 'L10', clickable: !1 },
        { transformID: 11116, id: 'L11', clickable: !1 },
        { transformID: 11272, id: 'L12', clickable: !1 },
        { transformID: 11330, id: 'L13', clickable: !1 },
        { transformID: 11168, id: 'L14', clickable: !1 },
        { transformID: 11188, id: 'L15', clickable: !1 },
        { transformID: 11100, id: 'L16', clickable: !1 },
        { transformID: 11224, id: 'L17', clickable: !1 },
        { transformID: 11290, id: 'L18', clickable: !1 },
        { transformID: 11340, id: 'L19', clickable: !1 },
        { transformID: 11318, id: 'L20', clickable: !1 },
        { transformID: 11162, id: 'L21', clickable: !1 },
        { transformID: 11064, id: 'L22', clickable: !1 },
        { transformID: 11218, id: 'L23', clickable: !1 },
        { transformID: 11284, id: 'L24', clickable: !1 },
        { transformID: 11174, id: 'L25', clickable: !1 },
        { transformID: 11200, id: 'L26', clickable: !1 },
        { transformID: 11344, id: 'L27', clickable: !1 },
        { transformID: 11252, id: 'L28', clickable: !1 },
        { transformID: 11324, id: 'E1', clickable: !1 },
        { transformID: 11312, id: 'E37', clickable: !1 },
        { transformID: 11094, id: 'E40', clickable: !1 },
        { transformID: 11346, id: 'E41', clickable: !1 },
        { transformID: 11230, id: 'E44', clickable: !1 },
        { transformID: 11306, id: 'M1', clickable: !0 },
        { transformID: 11088, id: 'M2', clickable: !0 },
        { transformID: 11248, id: 'M4', clickable: !0 },
        { transformID: 11194, id: 'M5', clickable: !0 },
        { transformID: 11242, id: 'M6', clickable: !0 },
        { transformID: 11140, id: 'M8', clickable: !0 },
        { transformID: 11260, id: 'M10', clickable: !0 },
        { transformID: 11278, id: 'M11', clickable: !0 },
        { transformID: 11082, id: 'C17', clickable: !1 },
        { transformID: 11076, id: 'R4', clickable: !1 },
      ],
    }
  },
  function (e) {
    e.exports = {
      M1: {
        name: 'basilisk',
        rotation: 20,
        amplitudes: [0.75, 0, 1.1],
        layers: [
          { depth: 100, file: '_background' },
          { depth: 20, file: '_middle' },
          { depth: 10, file: '_foreground' },
        ],
      },
      M2: {
        name: 'ghul',
        rotation: 20,
        amplitudes: [0.75, 0, 0.1],
        layers: [
          { depth: 100, file: '_background' },
          { depth: 20, file: '_middle' },
          { depth: 10, file: '_foreground' },
        ],
      },
      M4: {
        name: 'dragon',
        rotation: 20,
        amplitudes: [0.75, 0, 0.1],
        layers: [
          { depth: 100, file: '_background' },
          { depth: 20, file: '_middle' },
          { depth: 10, file: '_foreground' },
        ],
      },
      M5: {
        name: 'hirikka',
        rotation: 20,
        amplitudes: [0.75, 0, 0.1],
        layers: [
          { depth: 40, file: '_background' },
          { depth: 20, file: '_middle' },
          { depth: 10, file: '_foreground' },
        ],
      },
      M6: {
        name: 'kikimora',
        rotation: 20,
        amplitudes: [0.075, 0, 2.1],
        layers: [
          { depth: 40, file: '_background' },
          { depth: 20, file: '_middle' },
          { depth: 10, file: '_foreground' },
        ],
      },
      M7: {
        name: 'polevik',
        rotation: 20,
        amplitudes: [0.75, 0, 0.1],
        layers: [
          { depth: 100, file: '_background' },
          { depth: 20, file: '_middle' },
          { depth: 10, file: '_foreground' },
        ],
      },
      M8: {
        name: 'selkiemaw',
        rotation: 20,
        amplitudes: [2.75, 1, 0.1],
        layers: [
          { depth: 100, file: '_background' },
          { depth: 20, file: '_middle' },
          { depth: 10, file: '_foreground' },
        ],
      },
      M10: {
        name: 'silvan',
        rotation: 20,
        amplitudes: [0.75, 0, 0.1],
        layers: [
          { depth: 100, file: '_background' },
          { depth: 20, file: '_middle' },
          { depth: 10, file: '_foreground' },
        ],
      },
      M11: {
        name: 'djin',
        rotation: 20,
        amplitudes: [0.5, 0, 3.1],
        layers: [
          { depth: 100, file: '_background' },
          { depth: 20, file: '_middle' },
          { depth: 10, file: '_foreground' },
        ],
      },
      R4: {
        name: 'dryad',
        rotation: 20,
        amplitudes: [0.75, 0, 0.1],
        layers: [
          { depth: 100, file: '_background' },
          { depth: 40, file: '_middle' },
          { depth: 15, file: '_character' },
          { depth: 10, file: '_foreground' },
        ],
      },
      L20: {
        name: 'monolith',
        rotation: 20,
        amplitudes: [0.25, 0, 2.5],
        layers: [
          { depth: 100, file: '_background' },
          { depth: 20, file: '_middle' },
          { depth: 10, file: '_foreground' },
        ],
      },
      C17: {
        name: 'jaskier',
        rotation: 20,
        amplitudes: [0.75, 0, 0.1],
        layers: [
          { depth: 100, file: '_background' },
          { depth: 20, file: '_middle' },
          { depth: 15, file: '_character' },
          { depth: 10, file: '_foreground' },
        ],
      },
    }
  },
  function (e, t, n) {
    var i = {
      './charonmap/charonmap.fs.glsl': 962,
      './charonmap/charonmap.vs.glsl': 963,
      './cirisProphecy/cirisProphecy.fs.glsl': 964,
      './cirisProphecy/cirisProphecy.vs.glsl': 965,
      './clouds/clouds.fs.glsl': 966,
      './clouds/clouds.vs.glsl': 967,
      './conjunctionOfTheSpheres/conjunctionOfTheSpheres.fs.glsl': 968,
      './conjunctionOfTheSpheres/conjunctionOfTheSpheres.vs.glsl': 969,
      './endoftime/endoftime.fs.glsl': 970,
      './endoftime/endoftime.vs.glsl': 971,
      './fog/fog.fs.glsl': 972,
      './fog/fog.vs.glsl': 973,
      './hotspot/hotspot.fs.glsl': 974,
      './hotspot/hotspot.vs.glsl': 975,
      './include/common.glsl': 976,
      './layeranimation/layeranimation.fs.glsl': 977,
      './layeranimation/layeranimation.vs.glsl': 978,
      './layeranimationbg/layeranimationbg.fs.glsl': 979,
      './layeranimationbg/layeranimationbg.vs.glsl': 980,
      './layeranimationdepth/layeranimationdepth.fs.glsl': 981,
      './layeranimationdepth/layeranimationdepth.vs.glsl': 982,
      './mapaging/mapaging.fs.glsl': 983,
      './mapaging/mapaging.vs.glsl': 984,
      './maptest/maptest.fs.glsl': 985,
      './maptest/maptest.vs.glsl': 986,
      './preloader/preloader.fs.glsl': 987,
      './preloader/preloader.vs.glsl': 988,
      './rainSplashes/rainSplashes.fs.glsl': 989,
      './rainSplashes/rainSplashes.vs.glsl': 990,
      './snow/snow.fs.glsl': 991,
      './snow/snow.vs.glsl': 992,
      './takeoverheat/takeoverheat.fs.glsl': 993,
      './takeoverheat/takeoverheat.vs.glsl': 994,
      './takeoveriris/takeoveriris.fs.glsl': 995,
      './takeoveriris/takeoveriris.vs.glsl': 996,
      './takeovervideo/takeovervideo.fs.glsl': 997,
      './takeovervideo/takeovervideo.vs.glsl': 998,
      './text/text.fs.glsl': 999,
      './text/text.vs.glsl': 1e3,
      './tmpmaptakeover/tmpmaptakeover.fs.glsl': 1001,
      './tmpmaptakeover/tmpmaptakeover.vs.glsl': 1002,
    }
    function a(e) {
      var t = r(e)
      return n(t)
    }
    function r(e) {
      if (!n.o(i, e)) {
        var t = new Error("Cannot find module '" + e + "'")
        throw ((t.code = 'MODULE_NOT_FOUND'), t)
      }
      return i[e]
    }
    ;(a.keys = function () {
      return Object.keys(i)
    }),
      (a.resolve = r),
      (e.exports = a),
      (a.id = 961)
  },
  function (e, t) {
    e.exports =
      ' #ifdef GL_ES\n \tprecision highp float;\n #endif\n\n uniform float _Frequency;\n uniform float _TemporalFrequency;\n uniform float _Opacity;\n uniform float _Bias;\n uniform float _Softness;\n uniform float _Amplitude;\n uniform float _InnerRingRadius;\n uniform float _InnerRingRoughness;\n uniform float _InnerRingThickness;\n uniform float _Time;\n uniform float _Brightness;\n uniform float _WhitePoint;\n uniform float _TemporalFrequency;\n uniform vec3 _Colors[2];\n\n varying vec2 vUV;\n\n //only does 2 colors\n vec3 getGradient(float x)\n {\n   float phase = smoothstep(-_Softness, _Softness, x);\n   vec3 c = mix(_Colors[0], _Colors[1], phase);\n   return sqrt(c);\n }\n\n float snoise(vec3 uv, float res)\n {\n   const vec3 s = vec3(1e0, 1e2, 1e3);\n\n   uv *= res;\n\n   vec3 uv0 = floor(mod(uv, res))*s;\n   vec3 uv1 = floor(mod(uv+vec3(1.), res))*s;\n\n   vec3 f = fract(uv);\n   f = f*f*(3.-2.*f);\n\n   vec4 v = vec4(uv0.x+uv0.y+uv0.z, uv1.x+uv0.y+uv0.z,\n   uv0.x+uv1.y+uv0.z, uv1.x+uv1.y+uv0.z);\n\n   vec4 r = fract(sin(v*1e-1)*1e3);\n   float r0 = mix(mix(r.x, r.y, f.x), mix(r.z, r.w, f.x), f.y);\n\n   r = fract(sin((v + uv1.z - uv0.z)*1e-1)*1e3);\n   float r1 = mix(mix(r.x, r.y, f.x), mix(r.z, r.w, f.x), f.y);\n\n   return mix(r0, r1, f.z)*2.-1.;\n }\n //https://www.shadertoy.com/view/lsf3RH\n vec4 fire( in vec2 p )\n {\n   float l = length(p);\n   float a = (1. - l) * 3.;\n   //make sure to not clip the quad\n   a -= _Bias;\n\n  vec3 coord = vec3(atan(p.x,p.y)/6.2832+.5, length(p)*.2, .5);\n  float power = 1.;\n   float t = _Time * _TemporalFrequency;\n   for(int i = 1; i <= 3; i++)\n   {\n     power *= 2.;\n     a += snoise(coord + vec3(0.,-t, t*.2), power*_Frequency) / power;\n   }\n   a = max(a * _Amplitude, 0.);\n\n   //bright ring around dimmed ring\n   float d3 = 0.02;\n   float d2 = _InnerRingRadius + _InnerRingThickness + d3;\n   a += smoothstep(d3, 0., abs(l - d2)) * 0.25;\n\n   //flat center\n   if(l < _InnerRingRadius)a = 1.7;\n\n   //thickness of dark ring\n   float d = _InnerRingThickness * _Opacity;\n\n   //radius of dark ring\n//   float r = abs(l - _InnerRingRadius + a * _InnerRingRoughness);\n   float r = abs(l - _InnerRingRadius);\n   float ring = smoothstep(d, d * 1.5, r);\n   a = mix(1., a, ring);\n\n   a *= _Brightness;\n\n   vec3 c = getGradient(p.x);\n\n   //bright is white\n   c = mix(c, vec3(1,1,1), smoothstep(1., _WhitePoint, a));\n   return vec4(c, a);\n }\n\n void main(void) {\n//   vec4 c = getColor(vUV);\n   vec4 c = fire(vUV);\n   c.a *= _Opacity;\n   c.rgb *= c.a;\n   gl_FragColor = c;\n\n }\n'
  },
  function (e, t) {
    e.exports =
      'attribute vec3 aPos;\nattribute vec2 aUV0;\n\nuniform mat4 _ViewProjection;\nuniform mat4 _Model;\nuniform float _Size;\nuniform float _Scale;\n\nvarying vec2 vUV;\n\nvoid main(void) {\n\tvUV = aUV0 * 2. - 1.;\n\n\tgl_Position = _ViewProjection * _Model * vec4(aPos * (_Size * _Scale), 1.0);\n}\n'
  },
  function (e, t) {
    e.exports =
      ' #ifdef GL_ES\n \tprecision mediump float;\n #endif\n\nuniform float _Progress;\nuniform float _Opacity;\nuniform float _IrisOpacity;\nuniform sampler2D _GrabPass;\nuniform sampler2D _Noise;\nuniform vec2 _GrabPassSize;\nuniform float _Time;\nuniform float _Test;\nuniform float _Frequency;\nuniform float _RadialFrequency;\nuniform float _Expand;\nuniform float _TemporalFrequency;\nuniform float _Contrast;\nuniform float _Colorize;\nuniform float _PupilRadius;\nuniform float _PupilFresnel;\nuniform float _PupilDiffuse;\nuniform float _PupilSpecular;\nuniform float _PupilSpecularSize;\nuniform vec3 _Color;\n\nvarying vec2 vUV;\nvarying vec2 vCenter;\n\n#define m3 mat3( 0.00,  0.80,  0.60,\t-0.80,  0.36, -0.48,-0.60, -0.48,  0.64 )\n vec3 twistedSineNoise33(vec3 q, float falloff)\n {\n   float a = 1.;\n   float f = 1.;\n   vec3 sum = vec3(0);\n   for(int i = 0; i < 3 ; i++){\n     q = m3 * q;\n     vec3 s = sin( q.yzx * f) * a;\n     q += s;\n     sum += s;\n     a *= falloff;\n     f /= falloff;\n   }\n   return sum;\n }\n\n/* vec4 getEye()\n {\n\n }*/\n\nvec3 overlay(vec3 c, float b)\n{\n  return b < 1.? b * c: mix(c, vec3(1,1,1), b - 1.);\n}\n\nvoid main(void) {\n  vec2 cUV = vUV * 2. - 1.;\n  cUV.y *= -1.;\n\n  vec2 perlin =  texture2D(_Noise, vUV * 4.).xy;\n  float l = length(cUV);\n\n  //pinch background map\n  vec2 grabUV =  gl_FragCoord.xy / _GrabPassSize;\n  vec2 toCenter = vCenter - grabUV;\n  grabUV += -toCenter * smoothstep(1., 0., l) * _Progress;\n  vec3 grabColor = texture2D(_GrabPass, grabUV).rgb;\n\n  //iris\n  float angle = atan(cUV.y, cUV.x);\n  vec2 uv2 = vec2(l, angle * _Frequency);\n  vec3 p = vec3(l * _Frequency - _Time * _Expand, angle * _RadialFrequency, _Time * _TemporalFrequency);\n  vec3 n =  twistedSineNoise33(p, 0.707);\n  n.xy = n.xy * 0.1 + 0.5;\n\n  //iris alpha\n  float a = n.x * _IrisOpacity * _Progress;\n  //irregular outer shape\n  a *= smoothstep(1., 0.75, l + n.y* 0.2);\n  //remove center\n  a *= smoothstep(0.2, 0.3, l );\n  //iris color\n  vec3 c = _Color + twistedSineNoise33(p + vec3(1., 0., 0.), 0.707) * _Colorize;\n  //iris brightness\n  float b = clamp( n.z * _Contrast + 1., 0., 2.);\n  c = overlay(c,b);\n  c = mix(grabColor, c, a);\n\n  //pupilRim\n  vec4 pupilRim = vec4(_Color, smoothstep(_PupilRadius * 1.5, _PupilRadius, l));\n  pupilRim.xyz *= 1. - pupilRim.w;\n  pupilRim.w -= perlin.x;\n  pupilRim.w *= _Progress;\n  c = mix(c, pupilRim.xyz, max(pupilRim.w, 0.));\n\n  //pupil\n  vec4 pupil = vec4 (_Color * 0.5, smoothstep(_PupilRadius * 1.05, _PupilRadius, l) * 0.9 * _Progress);\n  vec2 pupilUv = cUV / _PupilRadius;\n  vec3 normal = vec3(pupilUv, sqrt(max(1. - dot(pupilUv, pupilUv), 0.)));\n  vec3 light = normalize(vec3(1,1,2));\n  float nDotL = max(dot(normal, light), 0.);\n  float nDotV = dot(normal, vec3(0,0,1));\n  //diffuse\n  float pupilBrightness = nDotL * _PupilDiffuse;\n  //specular\n//  pupilBrightness += pow(nDotV, 50.) * _PupilSpecular;\n\n  //reflection\n//  pupilBrightness *= smoothstep(0.4, 0.5, nDotV + (perlin.y - 0.5));\n  pupilBrightness *= smoothstep(0.4, 0.5, nDotV + n.z * 0.1);\n//  pupilBrightness += smoothstep(0.96, 0.99, nDotL) * _PupilSpecular;\n  pupilBrightness += smoothstep(_PupilSpecularSize * 0.99, _PupilSpecularSize, nDotL) * _PupilSpecular;\n\n  //fresnel\n  pupilBrightness += pow(1. - nDotV, 4.) * _PupilFresnel;\n\n  pupil.xyz = overlay(pupil.xyz,pupilBrightness * 2.);\n  c = mix(c, pupil.xyz, pupil.w);\n\n  gl_FragColor = vec4(c,1.) * _Opacity;\n}\n'
  },
  function (e, t) {
    e.exports =
      'attribute vec3 aPos;\nattribute vec2 aUV0;\n\nuniform mat4 _ViewProjection;\nuniform mat4 _Model;\n\nvarying vec2 vCenter;\nvarying vec2 vUV;\n\nvoid main(void) {\n\tvUV = aUV0;\n\n\tgl_Position = _ViewProjection * _Model * vec4(aPos * 100., 1.0);\n\n  vec4 center = _ViewProjection * _Model * vec4(0,0,0,1);\n  vCenter = center.xy / center.w;\n  vCenter = vCenter * 0.5 + 0.5;\n  //vCenter.y = 1. -  vCenter.y;\n}\n'
  },
  function (e, t) {
    e.exports =
      ' #ifdef GL_ES\n \tprecision mediump float;\n #endif\n\n uniform float _MultiplyOpacity;\n uniform float _Opacity;\n uniform float _Transition;\n uniform float _Brightness;\n uniform float _Detail;\n uniform float _ClearRadius;\n uniform float _ClearAmount;\n uniform vec3  _ClearPosition;\n uniform sampler2D _Noise;\n\n varying vec2 vUV0;\n varying vec2 vUV1;\n varying vec2 vUV2;\n\n varying vec2 vUV3;\n varying vec2 vUV4;\n varying vec2 vUV5;\n\n varying highp vec3 vWorld;\n\n void main(void) {\n   float n0 = texture2D(_Noise, vUV0).r;\n   float n1 = texture2D(_Noise, vUV1).r;\n   float n2 = texture2D(_Noise, vUV2).r;\n\n   //detail\n   float n3 = texture2D(_Noise, vUV3).r;\n   float n4 = texture2D(_Noise, vUV4).r;\n   float n5 = texture2D(_Noise, vUV5).r;\n\n   highp float n = (n0 + n1 + n2) * .33;\n   float detail = (n3 + n4 + n5) * .33;\n\n   n = mix(n, detail, _Detail);\n\n   highp float d = distance(vWorld.xz,_ClearPosition.xz);\n   n += smoothstep(_ClearRadius, _ClearRadius * 0.5, d) * _ClearAmount;\n\n   float o = _Opacity * _MultiplyOpacity;\n   float a = smoothstep(o + _Transition, o - _Transition, n);\n\n//   vec4 c = vec4(0,0,0, a);\n//   c.rgb *= c.a;\n   gl_FragColor = vec4(0,0,0, a);\n }\n'
  },
  function (e, t) {
    e.exports =
      'attribute vec3 aPos;\nattribute vec2 aUV0;\n\nuniform mat4 _ViewProjection;\nuniform mat4 _Model;\n\nuniform float _Frequency;\nuniform float _DetailFrequency;\nuniform float _TemporalFrequency;\nuniform float _Time;\nuniform float _Wind;\n\nvarying vec2 vUV0;\nvarying vec2 vUV1;\nvarying vec2 vUV2;\n\nvarying vec2 vUV3;\nvarying vec2 vUV4;\nvarying vec2 vUV5;\n\nvarying highp vec3 vWorld;\n\n#define PI 3.1415926\n\nmat2 getMatrix(float a)\n{\n  float s = sin(a);\n  float c = cos(a);\n  return mat2(c, -s, s, c);\n}\n\nvoid main(void) {\n  vec2 p = aUV0 * _Frequency;\n  p.x -= _Wind * _Time;\n//  p.y += _Time * _TemporalFrequency;\n  float d = _Time * _TemporalFrequency;\n\n  vUV0 = p;\n  vUV0.y += d;\n\n  vUV1 = getMatrix(PI * 0.66) * p;\n  vUV1.y += d;\n\n  vUV2 = getMatrix(PI * 1.33) * p;\n  vUV2.y += d;\n\n  //detail\n  d *= 16.;\n  p = aUV0 * _DetailFrequency ;\n  p.x -= _Wind * _Time;\n\n  vUV3 = getMatrix(PI * 0.33) * p;\n  vUV3.y += d;\n\n  vUV4 = getMatrix(PI * 1.) * p;\n  vUV4.y += d;\n\n  vUV5 = getMatrix(PI * 1.66) * p;\n  vUV5.y += d;\n\n  vec4 world =  _Model * vec4(aPos, 1.0);\n  vWorld = world.xyz;\n\tgl_Position = _ViewProjection * world;\n}\n'
  },
  function (e, t) {
    e.exports =
      '#extension GL_OES_standard_derivatives : enable\n\n#ifdef GL_ES\n \tprecision mediump float;\n #endif\n\nuniform float _Opacity;\nuniform sampler2D _GrabPass;\nuniform sampler2D _Ink;\nuniform sampler2D _Monster;\nuniform sampler2D _Noise;\nuniform vec2 _GrabPassSize;\nuniform highp float _Time;\nuniform float _InkAmp;\nuniform float _InkAnimAmp;\nuniform float _RingThicknessOuter;\nuniform float _EdgeWidthMin;\nuniform float _EdgeWidthMax;\nuniform float _CircleThickness;\nuniform float _CirclesBrightness;\nuniform float _Index;\nuniform float _NoiseAmount;\nuniform float _FillAmount;\nuniform float _CenterFalloff;\nuniform float _Ambient;\n\nuniform float _HighlightRange;\nuniform float _HighlightOpacity;\nuniform float _HighlightTemporalFrequency;\nuniform float _HighlightNoise;\nuniform float _HighlightNoiseFrequency;\n\nuniform vec3 _Color;\n\nvarying vec2 vUV;\nvarying vec2 vMonsterUV;\nvarying vec2 vInkUV;\nvarying float vProgress;\n\n#define PI2 6.2831853\n#define m3 mat3( 0.00,  0.80,  0.60,\t-0.80,  0.36, -0.48,-0.60, -0.48,  0.64 )\nvec3 twistedSineNoise33(vec3 q, float falloff)\n{\n  float a = 1.;\n  float f = 1.;\n  vec3 sum = vec3(0);\n  for(int i = 0; i < 3 ; i++){\n    q = m3 * q;\n    vec3 s = sin( q.yzx * f) * a;\n    q += s;\n    sum += s;\n    a *= falloff;\n    f /= falloff;\n  }\n  return sum;\n}\n\nvec4 hash41(float p)\n{\n  vec4 p4 = fract(vec4(p) * vec4(.1031, .1030, .0973, .1099));\n  p4 += dot(p4, p4.wzxy+33.33);\n  return fract((p4.xxyz+p4.yzzw)*p4.zywx);\n}\n\n//TODO: only 2 rings visible on s8\nfloat circles(vec2 uv)\n{\n  float a = 0.;\n  float seed = _Index * 4.;\n  for(int i = 0; i < 4; i++){\n    vec4 rand = hash41(seed);\n    vec2 p = (rand.xy - 0.5) * 0.2;\n    float r = mix(0.87, 0.92, rand.z);\n    float d = distance(uv, p);\n    //TODO: use fwidth\n    float edge = smoothstep( _CircleThickness, _CircleThickness * 0.5, abs(d - r)) * (rand.w * 0.5 + 0.5);\n    edge *= sin(_Time * 4. * (rand.z + 0.5) + seed) * 0.5 + 0.5;\n    a += edge;\n    seed++;\n  }\n  return a;\n}\n\nfloat linearStep(in float e0, in float e1, in float x) {\n  return clamp((x - e0) / (e1 - e0), 0., 1.);\n}\n\nvec3 linearStep3(in vec3 e0, in vec3 e1, in vec3 x) {\n  return clamp((x - e0) / (e1 - e0), vec3(0.), vec3(1.));\n}\n\nfloat highlights(in vec3 data, in vec2 uv)\n{\n  float phase = (atan(uv.y, uv.x)  + _Index) / PI2;\n  float l = length(uv);\n  //polar\n  vec2 noiseUV = vec2(l *_HighlightNoiseFrequency, phase);\n  phase += texture2D(_Noise, noiseUV).r * _HighlightNoise;\n  float t = fract (_Time * _HighlightTemporalFrequency);\n//  t = floor(t * 12.) /12.;\n\n  float d = abs(fract(phase) - t);\n  if(d > 0.5)d = 1. - d;\n  float c = smoothstep(_HighlightRange, _HighlightRange * 0.75, d) * _HighlightOpacity;\n  //not in the center\n  c *= smoothstep(0.3, 0.4, l);\n  //only around edges\n//  c *= smoothstep(0.75, 0.5, data.r);\n  return c;\n}\n\nvoid main(void) {\n  vec2 uv =  vUV * 2. - 1.;\n  float l = length(uv);\n\n  vec2 noise = texture2D(_Noise, vUV* 2.).rg;\n\n  //makes sure the stain expansion eases and does not touch the border of the quad\n  float p = smoothstep(0., 1., vProgress) * (1. - _RingThicknessOuter);\n\n  //ink stain\n\n  //single channel\n  //ink noise base\n  float ink = texture2D(_Noise, vInkUV).r * _InkAmp;\n  //animated\n//  ink += twistedSineNoise33(vec3(uv * 2., _Time + _Index), 0.7).x * _InkAnimAmp;\n  //expand as a cone\n  ink = ink * l + l;\n  float inkAlpha = smoothstep(p, p - _RingThicknessOuter, ink);\n\n  //center\n  float center = linearStep(p- _RingThicknessOuter, 0., ink);\n  center = pow(center, _CenterFalloff);\n\n/*  //3 channels\n  vec3 ink3 = texture2D(_Noise, vInkUV).rrr * _InkAmp;\n  ink3 += twistedSineNoise33(vec3(uv * 2., _Time + _Index), 0.7) * _InkAnimAmp;\n  ink3 = ink3 * l + l;\n  vec3 inkAlpha3 = smoothstep(p, p - _RingThicknessOuter, ink3);\n  vec3 center3 = smoothstep(p- _RingThicknessOuter, p - _RingThicknessOuter - _RingThicknessInner, ink3);\n//  vec3 center3 = linearStep3(p- _RingThicknessOuter, p - _RingThicknessOuter - _RingThicknessInner, ink3);\n//  center3 *= center3;\n  float inkAlpha = (inkAlpha3.x + inkAlpha3.y + inkAlpha3.z) * 0.33;\n  float center = (center3.x + center3.y + center3.z) * 0.33;*/\n\n\n  //get monster edges\n  //TODO\n  vec2 maxGrad2 = fwidth(vUV * 512.);\n  float maxGrad = max(maxGrad2.x, maxGrad2.y);\n  vec3 data = texture2D(_Monster, vMonsterUV).rgb;\n  float f = data.x - .5;\n\n  //start fast, end slow\n  float monsterProgress = sqrt(vProgress);\n\n  //from noise to monster\n  f = mix(noise.x * 2. - 1., f, monsterProgress);\n\n  float edgeWidth = maxGrad * mix(_EdgeWidthMax, _EdgeWidthMin, monsterProgress);\n  float edge = smoothstep(edgeWidth, 0., f);\n\n  //most prevalend around halfway from the center\n  float noiseAmount = smoothstep(0.5, 0., abs(l - 0.5)) * _NoiseAmount;\n\n  //breaks the image up a bit\n  float noiseHF = texture2D(_Noise, vUV* 4.).z;\n  float monsterVisibility = smoothstep(0.3, 0.4, noiseHF);\n  edge *= monsterVisibility;\n  data.y *= monsterVisibility;\n\n  //mask\n  vec4 c = vec4(data.g * _FillAmount);\n  c.w = max(c.w, edge);\n  //darken monster edges\n  c.rgb *= 1. - edge;\n  //add ink stain\n  c.a += (1. -center);\n  //add dark noise\n  c.a += noise.x * noiseAmount;\n  //ink mask\n  c.a *= inkAlpha;\n\n  //start as a dot\n  vec4 splash = vec4(0,0,0, smoothstep(0.1, 0.07, l));\n  c = mix(splash, c, smoothstep(0., 0.2, vProgress));\n\n  //not really black\n  c.rgb += _Ambient;\n\n  //multiply with background color\n  c.rgb *= _Color;\n\n//  c += highlights(data, uv) * edge;\n//  c = min(c, 1.);\n\n  //premultiplied alpha\n  c.rgb *= c.a;\n\n  //additive circles\n  float additive = circles(uv) * vProgress * noise.y * _CirclesBrightness;\n\n  //additive highlights\n  additive += highlights(data, uv) * edge * inkAlpha;\n\n  //additive circles\n//  c.rgb += (circles(uv) * vProgress * noise.y * _CirclesBrightness) * _Color;\n\n  //additive highlights\n//  c.rgb += (highlights(data, uv) * edge * inkAlpha) * _Color;\n\n  c.rgb += additive * _Color;\n\n  //final premultiplied alpha\n \tgl_FragColor = c * _Opacity;\n}\n'
  },
  function (e, t) {
    e.exports =
      'attribute vec3 aPos;\nattribute vec2 aUV0;\n\nuniform mat4 _ViewProjection;\nuniform mat4 _Model;\nuniform vec3 _Position;\nuniform float _Size;\nuniform float _InkNoiseFrequency;\nuniform vec4 _Bounds;\nuniform mediump float _Progress;\nuniform mediump float _FallDuration;\nuniform float _FallHeight;\n\nvarying vec2 vUV;\nvarying vec2 vMonsterUV;\nvarying vec2 vInkUV;\nvarying float vProgress;\n\nmat2 getMatrix(float a)\n{\n  float s = sin(a);\n  float c = cos(a);\n  return mat2(c, -s, s, c);\n}\n\nfloat linearStep(float e0, float e1, float x) {\n  return clamp((x - e0) / (e1 - e0), 0., 1.);\n}\n\nvoid main(void) {\n\tvUV = aUV0;\n  vUV.y = 1. - vUV.y;\n\n  vMonsterUV = mix(_Bounds.xy, _Bounds.zw, vUV);\n\n  //rotate uv for ink\n  vInkUV = getMatrix(_Bounds.x * 2. + _Bounds.y * 3.) * (vUV - 0.5) * _InkNoiseFrequency + 0.5;\n\n  vec3 p = _Position;\n  p.y += linearStep(_FallDuration, 0., _Progress) * _FallHeight;\n\n  vProgress = linearStep(_FallDuration, 1., _Progress);\n  //ease out ink expand anim\n  vProgress = sqrt(vProgress);\n\n  //makes sure the waiting drops are not visible\n  float size = _Size * smoothstep(0., 0.02, _Progress);\n\n\tgl_Position = _ViewProjection * _Model * vec4(aPos * size + p, 1.0);\n}\n'
  },
  function (e, t) {
    e.exports =
      '#ifdef GL_ES\n\tprecision mediump float;\n#endif\n\nuniform sampler2D uTexture;\nuniform sampler2D _Background;\nuniform sampler2D _Perlin;\nuniform sampler2D _Text;\nuniform sampler2D _Ink;\nuniform sampler2D _InkVideo;\nuniform float _Opacity;\nuniform float _IsActive;\nuniform float _TextOpacity;\nuniform float _Gradient;\nuniform float _Noise;\nuniform vec3 _Color;\n//uniform float _BackgroundBrightness;\n\nvarying vec2 vVideoUV;\nvarying vec2 vTextUV;\nvarying vec2 vUV;\nvarying vec2 vNoiseUV;\nvarying vec2 vInkUV;\nvarying vec2 vBackgroundUV;\n\nvec3 overlay(in vec3 c, in float b)\n{\n  b = clamp(b, 0., 1.);\n  return b < 0.5? b * c * 2.: mix(c, vec3(1,1,1), b * 2. - 1.);\n}\n\nvoid main(void) {\n  vec3 col = texture2D(uTexture, vVideoUV).rgb;\n  float a = texture2D(uTexture, vVideoUV + vec2(3./8., 0.)).r;\n  float b = texture2D(uTexture, vVideoUV + vec2(3./4., 0.)).r;\n  float t = texture2D(_Text, vTextUV ).r;\n\n  //low frequency noise\n  float n = texture2D(_Perlin, vNoiseUV).r;\n\n  //background texture\n  vec3 background = texture2D(_Background,vBackgroundUV).rgb;\n\n // float alpha = (_Opacity * a);\n  float alpha = a;\n\n  //background color and contrast\n//  vec3 background = overlay(_Color, bg);\n  background *= (mix(1., vUV.y * 2., _Gradient)) * mix(1., n * 2., _Noise);\n\n  //add text\n//  background = mix(background, _Color, t * _TextOpacity);\n  background *= 1. + t *_TextOpacity ;\n // background += _Color * (t * _TextOpacity);\n\n  //ink out\n  if(_Opacity < 1. && _IsActive < 0.5){\n//    float ink = 1. - texture2D(_Ink, vInkUV).x;\n//    alpha *= smoothstep(_Opacity, _Opacity - 0.01, ink);\n\n    alpha *= 1. - texture2D(_InkVideo, vInkUV).x;\n  }\n\n  col = mix(col, background * alpha, b);\n\n\tgl_FragColor =  vec4(col, alpha);\n}\n'
  },
  function (e, t) {
    e.exports =
      'attribute vec3 aPos;\nattribute vec2 aUV0;\n\nuniform float _Aspect;\nuniform float _ImageAspect;\nuniform float _TextScale;\nuniform float _BackgroundAspect;\n\nvarying vec2 vUV;\nvarying vec2 vInkUV;\nvarying vec2 vVideoUV;\nvarying vec2 vTextUV;\nvarying vec2 vNoiseUV;\nvarying vec2 vBackgroundUV;\n\nvoid main(void) {\n  vUV = aUV0;\n\n  vec2 uv = _Aspect > 1. ? aUV0.yx : aUV0.xy;\n  vVideoUV =  uv * vec2(.25, 1.);\n\n  vTextUV = aUV0 - 0.5;\n  vTextUV.x *= _Aspect / _ImageAspect;\n  vTextUV /= _TextScale;\n  vTextUV += 0.5;\n\n  vNoiseUV = aUV0 * 0.5;\n  vNoiseUV.x *= _Aspect;\n\n  vInkUV = aUV0 - 0.5;\n  if(_Aspect < 1.){\n    //portrait: crop horizontally\n    vInkUV.x *= _Aspect;\n  }else{\n    //landscape: crop vertically\n    vInkUV.y /= _Aspect;\n  }\n  vInkUV += 0.5;\n\n  vBackgroundUV = aUV0;\n  vBackgroundUV.x *= _Aspect / _BackgroundAspect;\n\n\tgl_Position = vec4(aPos, 1.0);\n}\n'
  },
  function (e, t) {
    e.exports =
      ' #ifdef GL_ES\n \tprecision highp float;\n #endif\n\n uniform float _MultiplyOpacity;\n uniform float _Opacity;\n uniform float _Transition;\n uniform float _Brightness;\n uniform float _Detail;\n uniform float _ClearRadius;\n uniform float _ClearAmount;\n uniform float _Contrast;\n uniform vec3  _ClearPosition;\n uniform highp float _Time;\n uniform highp float _Frequency;\n uniform highp float _DetailFrequency;\n uniform highp float _TemporalFrequency;\n uniform float _Falloff;\n uniform float _Amp;\n uniform float _Twist;\n\n varying vec2 vUV;\n\n varying vec3 vWorld;\n\n #define m3GA mat3(-0.7373688220977783, 0.4562871754169464, 0.49808549880981445, 0, -0.7373688220977783, 0.6754903197288513, 0.6754903197288513, 0.49808549880981445, 0.5437127947807312)\n\n vec3 twistedSineNoise33(vec3 q)\n {\n   float a = 1.;\n   float f = 1.;\n   vec3 sum = vec3(0);\n   for(int i = 0; i <8 ; i++){\n     q = m3GA * q;\n     vec3 s = sin( q.zxy * f) * a;\n     q += s * _Twist;\n     sum += s;\n     a *= _Falloff;\n     f /= _Falloff;\n   }\n   return sum;\n }\n\n //https://www.shadertoy.com/view/WtKGRW\n //9 sines\n vec4 fog4(vec2 uv)\n {\n   vec3 p = vec3(uv * _Frequency, _Time * _TemporalFrequency);\n   vec3 n = twistedSineNoise33(p);\n   n += sin(n * _DetailFrequency) * _Detail;\n   float a = (n.x + n.y + n.z) * _Contrast + 0.5;\n\n   //hole in the center\n   float d = distance(vWorld.xz,_ClearPosition.xz);\n   a *= 1. - smoothstep(_ClearRadius, _ClearRadius * 0.5, d) * _ClearAmount;\n\n   a *= _Opacity * _MultiplyOpacity;\n   return vec4(max(a, 0.));\n }\n\n void main(void) {\n   gl_FragColor = fog4(vUV);\n }\n'
  },
  function (e, t) {
    e.exports =
      'attribute vec3 aPos;\nattribute vec2 aUV0;\n\nuniform mat4 _ViewProjection;\nuniform mat4 _Model;\n\nvarying vec2 vUV;\n\nvarying vec3 vWorld;\n\nvoid main(void) {\n  vec4 world =  _Model * vec4(aPos, 1.0);\n  vWorld = world.xyz;\n\tgl_Position = _ViewProjection * world;\n\n  vUV = aUV0;\n}\n'
  },
  function (e, t) {
    e.exports =
      '#ifdef GL_ES\n\tprecision mediump float;\n#endif\n\n#define ALPHA .75\n#define OFFSET_SCALE .75\n#define WHITE vec3(224./255.,218./255., 207./255.)\n\nuniform float _Opacity;\nuniform float _MouseOverAmount;\nuniform sampler2D _Texture;\nuniform highp float _Scale;\n\nvarying vec2 vUV;\n//\n//void main(void) {\n//  vec2 data = texture2D(_Texture, vUV).xz;\n//  float f = smoothstep(10./255., 1./255., .5 - texture2D(_Texture, vUV+vec2(-.7/280., .9/280.)).y) * .9;\n// \tfloat m = mix(1.-data.x, f, _MouseOverAmount);\n//  vec3 hover = mix(vec3(0), vec3(1.), (1. - data.x) * (1. - data.x));\n//  vec3 col = mix(vec3(165./255., 152./255., 133./255.), mix(vec3(0), hover, _MouseOverAmount), m * .84);\n//\n//  float alpha =  max(data.y, m) * _Opacity * .9;\n//\n// \tgl_FragColor = vec4(col * alpha, alpha);\n//}\n\n\n\n void main(void) {\n  vec2 data = texture2D(_Texture, vUV).xz;\n  float m = 1.-data.x;\n\n  float alpha = max(m, data.y) * ALPHA;\n\n  highp vec2 offset = (vec2(1.5/80., -8./80.) * OFFSET_SCALE) * (_MouseOverAmount / _Scale);\n  float s = 1.-texture2D(_Texture, vUV+offset).x;\n\n  float amount = _MouseOverAmount;\n\n  vec3 col = mix(vec3(165./255., 152./255., 133./255.) * data.x, WHITE, amount * s);\n  alpha = mix(alpha, max(alpha, s), amount);\n\n  alpha *= _Opacity;\n\n  gl_FragColor = vec4(col, 1.) * alpha;\n}\n'
  },
  function (e, t) {
    e.exports =
      'attribute vec3 aPos;\nattribute vec2 aUV0;\n\nuniform mat4 _ViewProjection;\nuniform mat4 _Model;\nuniform float _Scale;\n\nuniform vec2 _Crop;\nuniform vec2 _Offset;\n\nvarying vec2 vUV;\n\nvoid main(void) {\n\tvUV = aUV0 * .25;\n\n  vUV += _Crop;\n\n\tvUV.y = 1.25-vUV.y;\n\n\tgl_Position = _ViewProjection * _Model * vec4((aPos + vec3(_Offset.x, 0, _Offset.y))* _Scale, 1.0);\n}\n'
  },
  function (e, t) {
    e.exports =
      'uniform sampler2D _Inkt;\nuniform float _Frame;\n\nfloat getInktAlpha(vec2 uv, float frameDelay) {\n  float inktSample = texture2D(_Inkt, uv).x;\n\n  return smoothstep(0./255., 8./255., -inktSample + (_Frame - frameDelay) * (1./255.));\n}\n'
  },
  function (e, t) {
    e.exports =
      '#extension GL_OES_standard_derivatives : enable\n\n#ifdef GL_ES\n\tprecision mediump float;\n#endif\n\nvarying vec2 vUV;\n\n#include include/common.glsl\n\nuniform highp sampler2D _Texture;\nuniform float _Opacity;\nuniform vec2 _InktUVScale;\n\nvoid main(void) {\n\tvec2 maxGrad2 = fwidth(vUV * vec2(1024,512));\n\tfloat maxGrad = max(maxGrad2.x, maxGrad2.y);\n\n\tvec3 data = texture2D(_Texture, vUV).xyz;\n\n\tfloat inktAlpha = getInktAlpha(vUV * _InktUVScale, 0.);\n\tfloat alpha = .7 * inktAlpha;\n\n\tfloat f = data.x - .5;\n\tfloat m = smoothstep(maxGrad/24. + 2./255., 0./255., f) * _Opacity;\n\n\tvec3 colbg = data.z - .5 > 0. ? vec3(176./255., 162./255., 146./255.): .5*vec3(118./255., 80./255., 48./255.);\n\n\tvec4 line = vec4(0,0,0,m);\n\tvec4 col = vec4(colbg, 1.) * (abs(data.z-.5) * 2. * data.y * getInktAlpha(1.-vUV * _InktUVScale, 120.));\n\n\n\t// m /= (1.+maxGrad)\n\n\tgl_FragColor = mix(col, line, line.a) * alpha;\n}\n'
  },
  function (e, t) {
    e.exports =
      'attribute vec3 aPos;\nattribute vec2 aUV0;\n\nuniform mat4 _ViewProjection;\nuniform mat4 _Model;\n\nvarying vec2 vUV;\n\n\nvoid main(void) {\n\tvUV = aUV0;\n\tgl_Position = _ViewProjection * _Model * vec4(aPos, 1.0);\n}'
  },
  function (e, t) {
    e.exports =
      '#extension GL_OES_standard_derivatives : enable\n\n#ifdef GL_ES\n\tprecision mediump float;\n#endif\n\nvarying vec2 vUV;\n\nuniform sampler2D _Detail;\nuniform sampler2D _Texture;\nuniform float _LayerAmount;\n\n#include include/common.glsl\n\nvoid main(void) {\n\tvec3 data = texture2D(_Detail, vUV * 400.).xyz;\n\tfloat detail = data.x - .61;\n\n\tvec3 col = vec3(152./255., 137./255., 116./255.);\n\n\tvec2 uv = vUV * vec2(50., 100.) + .5;\n\tvec3 bgCol = texture2D(_Texture, uv).xyz;\n\n\tfloat inktAlpha = getInktAlpha(uv, 45.);\n\tfloat d = 4.*dot(uv-=.5,uv);\n\tcol =mix(col, bgCol, .8*max(0., 1.-d*d) * inktAlpha * _LayerAmount);\n\n\tgl_FragColor = vec4(col + .75 * detail, 1.);\n}'
  },
  function (e, t) {
    e.exports =
      'attribute vec3 aPos;\nattribute vec2 aUV0;\n\nuniform mat4 _ViewProjection;\nuniform mat4 _Model;\n\nvarying vec2 vUV;\n\n\nvoid main(void) {\n\tvUV = aUV0 - .5;\n\n\tgl_Position = _ViewProjection * _Model * vec4(aPos, 1.0);\n}'
  },
  function (e, t) {
    e.exports =
      '#extension GL_OES_standard_derivatives : enable\n\n#ifdef GL_ES\n\tprecision mediump float;\n#endif\n\nvarying vec2 vUV;\n\n#include include/common.glsl\n\nuniform sampler2D _Texture;\nuniform vec2 _InktUVScale;\n\nvoid main(void) {\n\tfloat alpha = texture2D(_Texture, vUV).y * getInktAlpha(vUV * _InktUVScale, 0.);\n\n\tif (alpha < .5) discard;\n\n\tgl_FragColor = vec4(0,0,0,0);\n}\n'
  },
  function (e, t) {
    e.exports =
      'attribute vec3 aPos;\nattribute vec2 aUV0;\n\nuniform mat4 _ViewProjection;\nuniform mat4 _Model;\n\nvarying vec2 vUV;\n\nvoid main(void) {\n\tvUV = aUV0;\n\tgl_Position = _ViewProjection * _Model * vec4(aPos, 1.0);\n}'
  },
  function (e, t) {
    e.exports =
      '#ifdef GL_ES\n\tprecision mediump float;\n#endif\n\nuniform float _Opacity;\nuniform sampler2D _Texture;\nuniform vec2 _Offset;\n\nvarying vec2 vUV;\n\nvoid main(void) {\n  vec2 uv = vec2(vUV.x * .5, .5-vUV.y*.5) + _Offset;\n\n  vec3 aging = mix(vec3(56./255., 42./255., 29./255.), vec3(1), mix(1., texture2D(_Texture, uv).r, _Opacity * .4));\n \tgl_FragColor = vec4(aging, 1.);\n}\n'
  },
  function (e, t) {
    e.exports =
      'attribute vec3 aPos;\nattribute vec2 aUV0;\n\nuniform mat4 _ViewProjection;\nuniform mat4 _Model;\n\n\nvarying vec2 vUV;\n\nvoid main(void) {\n\tvUV = aUV0;\n\n  const float scale = 15.;\n\n\tgl_Position = _ViewProjection * _Model * vec4(aPos * scale, 1.0);\n}\n'
  },
  function (e, t) {
    e.exports =
      '#extension GL_OES_standard_derivatives : enable\n\n#ifdef GL_ES\n\tprecision mediump float;\n#endif\n\n#define ALPHA .65\n\nvarying highp vec2 vUV;\n\nuniform highp sampler2D _Map;\nuniform sampler2D _BgMap;\nuniform sampler2D _Detail;\n\nuniform highp float _Zoom;\n\nuniform float _BgOpacity;\nuniform float _LineOpacity;\nuniform float _Old;\n\nvoid main(void) {\n\thighp vec2 maxGrad2 = fwidth(vUV * vec2(1024,512));\n\thighp float maxGrad = max(maxGrad2.x, maxGrad2.y);\n\n  highp vec2 data = texture2D(_Map, vUV).xy;\n\thighp float f = (_Old > .5 ? data.y : data.x) - .5;\n\tfloat detail =  texture2D(_Detail, vUV * 24.).x - .61;\n\n//\tf += (detail-.5) / 128.;\n\n\tfloat m = 1. - smoothstep(maxGrad/24. + 1./255., 0./255., f) / (1.+.5*maxGrad) * (_LineOpacity);\n\n\tvec3 col = texture2D(_BgMap, vUV).rgb;\n\n\tcol *= ((1.-ALPHA) + ALPHA * m);\n\tcol += detail;\n\n//\tcol *= 1.125 - .125 * pow(1.-f, 4.);\n\n//\tcol = vec3(maxGrad );\n\n\tgl_FragColor = mix(vec4(0,0,0, ALPHA * (1.-m)), vec4(col,1), _BgOpacity);\n}\n'
  },
  function (e, t) {
    e.exports =
      'attribute vec3 aPos;\n attribute vec2 aUV0;\n\nuniform mat4 _ViewProjection;\n\nuniform float _Aspect;\nuniform float _Zoom;\nuniform float _X;\nuniform float _Y;\n\nvarying vec2 vUV;\n\nvoid main(void) {\n//\tvUV = .5 + aPos.xz / vec2(1024., 512.);\n//\tvUV.y = 1.-vUV.y;\n//\n\tvUV =aUV0;\n\tvUV.y = 1.-vUV.y;\n\n\tgl_Position = _ViewProjection* vec4(aPos * vec3(512,0,256), 1.0);\n//\tgl_Position = vec4(aPos, 1.0);\n}\n'
  },
  function (e, t) {
    e.exports =
      '#ifdef GL_ES\n\tprecision mediump float;\n#endif\n\nuniform sampler2D uTexture;\nuniform sampler2D _InkVideo;\n\n//#include include/common.glsl\n\nvarying vec2 vUV;\nvarying vec2 vInkUV;\n\nvoid main(void) {\n//  float opacity = 1.-getInktAlpha(vInkUV, 20.);\n  float opacity = 1. - texture2D(_InkVideo, vInkUV).x;\n\tgl_FragColor = texture2D(uTexture, vUV) * opacity;\n}\n'
  },
  function (e, t) {
    e.exports =
      'attribute vec3 aPos;\nattribute vec2 aUV0;\n\nuniform float _Aspect;\nuniform float _AspectImage;\n\nvarying vec2 vUV;\nvarying vec2 vInkUV;\n\nvoid main(void) {\n\tvUV = aUV0;\n\n  if (_AspectImage > _Aspect) {\n  \tvUV = (vUV - .5) * vec2(_Aspect / _AspectImage, 1.) + .5;\n  } else {\n  \tvUV = (vUV - .5) * vec2(1., _AspectImage / _Aspect) + .5;\n  }\n\n  vInkUV = aUV0 - 0.5;\n  if(_Aspect < 1.){\n    //portrait: crop horizontally\n    vInkUV.x *= _Aspect;\n  }else{\n    //landscape: crop vertically\n    vInkUV.y /= _Aspect;\n  }\n  vInkUV += 0.5;\n\n\tgl_Position = vec4(aPos, 1.0);\n}\n'
  },
  function (e, t) {
    e.exports =
      '#ifdef GL_ES\nprecision mediump float;\n#endif\n\nvarying vec4 vColor;\nvarying vec2 vUV;\nvarying vec2 vNoiseUV;\nvarying float vAdditive;\n\nuniform float _Hardness;\nuniform float _NoiseAmount;\nuniform sampler2D _Noise;\n\nvoid main(void) {\n  vec4 c = vColor;\n  float l = dot(vUV,vUV);\n  l += (texture2D(_Noise, vNoiseUV).r - 0.5) * _NoiseAmount;\n  c.a *= smoothstep (1.,_Hardness, l);\n\n  gl_FragColor = vec4(c.rgb * c.a, c.a * 1. - vAdditive);\n}\n'
  },
  function (e, t) {
    e.exports =
      'attribute vec4 aPos;\nattribute vec4 aRandom;\n\n#define uv aPos.xy\n\nuniform mat4 _ViewProjection;\nuniform float _Opacity;\nuniform float _MultiplyOpacity;\nuniform float _PointSize;\nuniform vec2 _Spread;\nuniform float _RainTime;\nuniform float _NoiseFrequency;\nuniform float _Spec;\nuniform float _SpecPower;\nuniform vec3 _Color;\nuniform vec3 _CamPos;\n\nvarying vec4 vColor;\nvarying vec2 vUV;\nvarying vec2 vNoiseUV;\nvarying float vAdditive;\n\nvec2 hash23(vec3 p3)\n{\n  p3 = fract(p3 * vec3(.1031, .1030, .0973));\n  p3 += dot(p3, p3.yzx+33.33);\n  return fract((p3.xx+p3.yz)*p3.zy);\n}\n\n//TODO\nvec3 spec(vec3 p)\n{\n  vec3 rd = normalize(p - _CamPos);\n  vec3 nor = vec3(0,1,0);\n  vec3 ref = reflect( rd, nor );\n  float fre = clamp( 1.0 + dot(nor,rd), 0.0, 1.0 );\n  return 4.0*vec3(0.7,0.8,1.00)*smoothstep(0.0,0.4,ref.y)*(0.06+0.94*pow(fre,5.0));\n}\n\nconst vec3 _LightColor = vec3(1,0.8,0.6);\n//const vec3 _LightColor = vec3(.95,0.875,0.75);\n//const vec3 _SkyColor =  vec3(0.6,0.65,0.7);\n//const float _LightStrength = .15;\n//const float _AmbientStrength = 2.;\nconst vec3  _LightDir = normalize(vec3(0.1,1,-1));\n\n/*vec3 getSkyColor(in vec3 rayDir) {\n  float sunAmount = max( dot( rayDir, _LightDir ) , 0.0 );\n  vec3  fogColor  = mix( _SkyColor, _LightColor, pow(sunAmount,8.0) );\n  return (fogColor * fogColor) * min(1., 1.+.5*rayDir.y);\n}*/\n\nfloat getSpec(in vec3 rayDir) {\n  return pow( max( dot( rayDir, _LightDir ) , 0.), _SpecPower);\n}\n\nvoid main(void) {\n  float t = aRandom.x + _RainTime;\n  float phase = fract(t);\n\n  //random position after each cycle\n  vec2 p = hash23(vec3(aPos.zw, floor(t)));\n  p = (p - 0.5) * _Spread;\n\n  //fast expansion after the hit\n  float size = pow(min(1., phase * 4.), 0.25);\n\n  p += uv * (size * _PointSize * (0.5 + aRandom.y));\n\n  vec3 p3 = vec3(p.x, 0.1, p.y);\n  gl_Position = _ViewProjection * vec4(p3,  1.);\n\n  float alpha = (1. - size) *  _Opacity * _MultiplyOpacity;\n\n  vColor = vec4(_Color, alpha);\n\n//  vColor.xyz += spec(p3) * ((1. - phase) * _Spec);\n\n  vec3 rd = normalize(p3 - _CamPos);\n  vec3 n = vec3(0,1,0);\n  vec3 r = reflect( rd, n );\n//  vColor.xyz += getSkyColor(r) * (smoothstep(0.75, 0., size) * _Spec);\n  float spec = getSpec(r) * _Spec;\n  vColor.xyz += spec * _LightColor;\n\n  vAdditive = min(spec, 1.);\n\n  vUV = uv;\n  vNoiseUV = uv * _NoiseFrequency + aRandom.zw;\n}\n'
  },
  function (e, t) {
    e.exports =
      '#ifdef GL_ES\n\tprecision mediump float;\n#endif\n\nuniform float _Color;\n\nvarying vec2 vUV;\nvarying vec3 vPos;\nvarying float vOpacity;\n\nvoid main(void) {\n\tfloat f = vOpacity;\n\tf *= clamp(1.-2.*dot(vUV, vUV), 0., 1.);\n\tf = max(.01, f);\n\n\tfloat c = _Color;\n\tgl_FragColor = vec4(c, c, c ,f);\n}\n'
  },
  function (e, t) {
    e.exports =
      'attribute vec3 aPos;\nattribute vec2 aUV0;\n\nuniform float _ParticleSize;\nuniform float _Opacity;\n\nuniform vec3 _SnowOffset;\nuniform vec3 _CubeOffset;\n\nuniform float _ParticleAreaSize;\n\nuniform vec3 _OldSnowOffset;\n\nuniform mat4 _ViewProjection;\nuniform mat4 _OldViewProjection;\n\nuniform float _Particles;\nuniform float _Aspect;\nuniform vec3 _CamPos;\n\nuniform float _Time;\nuniform float _TimeFull;\nuniform float _OldTimeFull;\n\n\nvarying vec2 vUV;\nvarying vec3 vPos;\nvarying float vOpacity;\n\n\n//----------------------------------------------------------------------------------------\n///  3 out, 3 in...\n#define HASHSCALE3 vec3(.1031, .1030, .0973)\nvec3 hash33(vec3 p3) {\n\tp3 = fract(p3 * HASHSCALE3);\n    p3 += dot(p3, p3.yxz+19.19);\n    return fract((p3.xxy + p3.yxx)*p3.zyx);\n\n}\n\nmat2 rotate2d(float _angle){\n    return mat2(cos(_angle),-sin(_angle),\n                sin(_angle),cos(_angle));\n}\n\nvoid main(void) {\n\tfloat scale = 1./_ParticleAreaSize;\n\n\tvec3 gridPos = aPos.xyz + floor(_CubeOffset*scale) - floor(_SnowOffset);\n\n\tvec3 h0 = hash33(gridPos);\n\tvec3 h1 = hash33(gridPos.zyx);\n\n\tvec3 worldPos =  (aPos.xyz + floor(_CubeOffset*scale) + fract(_SnowOffset) + h0 - .5 + sin(_TimeFull*h1))*(1./scale);\n\tvec3 oldWorldPos =  (aPos.xyz + floor(_CubeOffset*scale)+ fract(_SnowOffset) + (_OldSnowOffset - _SnowOffset) + h0 - .5 + sin(_OldTimeFull*h1))*(1./scale);\n\n\tvec4 pos = _ViewProjection * vec4(worldPos, 1.);\n\tvec4 oldPos = _OldViewProjection * vec4(oldWorldPos, 1.);\n\n\tfloat vLength = min(.025,distance(pos, oldPos));\n\toldPos = pos + vLength * normalize(oldPos - pos);\n\n\tvec2 posProj = pos.xy/pos.w;\n\tvec2 oldPosProj = oldPos.xy/oldPos.w;\n\n\tvUV = aUV0 - .5;\n\tif (oldPosProj.x > posProj.x) {\n\t\tvUV.x = -vUV.x;\n\t}\n\n\tvUV *= min(1., .75+.25*sin(h0.x * 6.28318530718 + h1.y * _TimeFull * 6.28318530718));\n\n\tgl_Position = vUV.x > 0. ? pos : oldPos;\n\tgl_Position.xy +=vUV *(.003 * _ParticleSize) * vec2(1./_Aspect, 1.);\n\n\tfloat vDist = distance(_CamPos, worldPos) * (.5 * scale / _Particles);\n\tfloat motionBlurOpacity = (.1+.9*smoothstep(.05, 0.0, distance(posProj * vec2(1.,1./ _Aspect),oldPosProj * vec2(1.,1./ _Aspect))));\n\n\tvOpacity = clamp(smoothstep(1.,.9,vDist) * motionBlurOpacity * 2. * _Opacity, 0., 1.);\n\n\tif (pos.w < 0. || oldPos.w < 0. || vOpacity < 1./255. || worldPos.y < -.01) {\n\t\tgl_Position = vec4(-1000,-1000,1,1);\n\t}\n\n  vUV = normalize(vUV);\n}\n'
  },
  function (e, t) {
    e.exports =
      '#ifdef GL_ES\n\tprecision mediump float;\n#endif\n\nuniform float _Opacity;\nuniform sampler2D _GrabPass;\nuniform sampler2D _Noise;\nuniform vec2 _GrabPassSize;\nuniform float _Time;\n\nuniform highp float _LightRadius;\nuniform float _TintRadius;\nuniform float _Vignette;\n\nvarying highp vec2 vUV;\n\nvoid main(void) {\n  highp float radius = length(vUV - .5) * 2000.;\n\n  vec2 grabOffset = texture2D(_Noise, gl_FragCoord.xy / 128. + vec2(0., -.35*_Time)).rg * (2. * smoothstep( _LightRadius * .5, 0., radius) * _Opacity);\n\n  vec2 grabUV =  (gl_FragCoord.xy + grabOffset) / _GrabPassSize;\n  highp vec3 grabColor = texture2D(_GrabPass, grabUV + grabOffset / 1024.).rgb;\n\n  highp float intensity = sin(_Time * 17.) * .121 + sin(_Time * 8.) * .321 + cos(_Time * (.43 * 8.));\n  intensity = 1. + .05 * intensity;\n\n  highp float light = 1. - clamp( radius / (_LightRadius * intensity), 0., 1.);\n  light *= light;\n\n  float tinted = smoothstep(_TintRadius, 0., 1. - light);\n  grabColor *= mix(vec3(1.), (1.5 + intensity) * vec3(183./255., 116./255., 54./255.), tinted);\n  grabColor *= mix(1. - _Vignette, 1., light);\n\n \tgl_FragColor = vec4(min(vec3(1), grabColor),1) * _Opacity;\n}\n'
  },
  function (e, t) {
    e.exports =
      'attribute vec3 aPos;\nattribute vec2 aUV0;\n\nuniform mat4 _ViewProjection;\nuniform mat4 _Model;\n\nuniform float _XOffsetHeat;\nuniform float _YOffsetHeat;\nuniform float _VideoScale;\n\nvarying vec2 vUV;\n\nvoid main(void) {\n\tvUV = aUV0;\n\n  const float scale = 2000.;\n  float offsetScale = _VideoScale;\n\n\tgl_Position = _ViewProjection * _Model * vec4(vec3(-_XOffsetHeat*offsetScale, 0., -_YOffsetHeat*offsetScale) + aPos * scale, 1.0);\n}\n'
  },
  function (e, t) {
    e.exports =
      '#ifdef GL_ES\n\tprecision mediump float;\n#endif\n\nuniform float _Opacity;\nuniform sampler2D _GrabPass;\nuniform sampler2D _Noise;\nuniform vec2 _GrabPassSize;\nuniform float _Time;\nuniform float _Vignette;\n\nuniform highp float _LightRadius;\n\nvarying highp vec2 vUV;\n\nvoid main(void) {\n  highp float radius = length(vUV - .5) * 2000.;\n\n  vec2 grabOffset = texture2D(_Noise, gl_FragCoord.xy / 128. + vec2(0., -.35*_Time)).rg * (2. * smoothstep( _LightRadius * .5, 0., radius) * _Opacity);\n\n  vec2 grabUV =  (gl_FragCoord.xy + grabOffset) / _GrabPassSize;\n  highp vec3 grabColor = texture2D(_GrabPass, grabUV + grabOffset / 1024.).rgb;\n\n  highp float intensity = sin(_Time * 17.) * .121 + sin(_Time * 8.) * .321 + cos(_Time * (.43 * 8.));\n  intensity = 1. + .1 * intensity;\n\n  highp float light = 1. - clamp( radius / (_LightRadius * intensity), 0., 1.);\n  light *= light;\n\n  grabColor *= mix(vec3(1. - _Vignette), (intensity) * vec3(1.), light);\n\n  float a = atan(vUV.y - .5, vUV.x - .5);\n\n  highp float irisintensity = sin(a * 2. + .25 * _Time) + .451 * cos(a * 4. - .6 * _Time);\n  irisintensity = .5 + .5 * irisintensity;\n\n  vec2 radialUV = 10. * vec2(abs(a * 0.31830988618), length(vUV - .5)) - _Time * .1 + vec2(0., 0.1*sin(2. * _Time));\n  vec3 radialColoring = texture2D(_Noise, radialUV).rgb;\n  //greener, less contrast\n  radialColoring = mix(radialColoring, vec3(0.5, 1.5, 1), 0.5);\n  //fade out over distance\n  radialColoring *= light;\n  grabColor *= vec3(1,1,1) + (radialColoring - 0.5) * (irisintensity *radialColoring );\n\n \tgl_FragColor = vec4(min(vec3(1),grabColor),1) * _Opacity;\n}\n'
  },
  function (e, t) {
    e.exports =
      'attribute vec3 aPos;\nattribute vec2 aUV0;\n\nuniform mat4 _ViewProjection;\nuniform mat4 _Model;\n\nuniform float _XOffsetHeat;\nuniform float _YOffsetHeat;\nuniform float _VideoScale;\n\nvarying vec2 vUV;\n\nvoid main(void) {\n\tvUV = aUV0;\n\n  const float scale = 2000.;\n  float offsetScale = _VideoScale;\n\n\tgl_Position = _ViewProjection * _Model * vec4(vec3(-_XOffsetHeat*offsetScale, 0., -_YOffsetHeat*offsetScale) + aPos * scale, 1.0);\n}\n'
  },
  function (e, t) {
    e.exports =
      '#ifdef GL_ES\n\tprecision mediump float;\n#endif\n\nuniform sampler2D uTexture;\nuniform float _Opacity;\nuniform float _Additive;\n\n#include include/common.glsl\n\nvarying vec2 vUV;\nvarying vec2 vUVInkt;\n\nvoid main(void) {\n  vec3 col = texture2D(uTexture, vUV).rgb;\n  float a = texture2D(uTexture, vUV + vec2(.5, 0.)).r * getInktAlpha(vUVInkt, 0.);\n\tgl_FragColor =  vec4( min(vec3(1), col * mix(a, 1., _Additive)), a) * (_Opacity);\n}\n'
  },
  function (e, t) {
    e.exports =
      'attribute vec3 aPos;\nattribute vec2 aUV0;\n\nuniform mat4 _ViewProjection;\nuniform mat4 _Model;\n\nuniform float _VideoScale;\nuniform float _XOffset;\nuniform float _YOffset;\n\nvarying vec2 vUV;\nvarying vec2 vUVInkt;\n\nvoid main(void) {\n  vUVInkt = aUV0;\n\tvUV = aUV0  * vec2(.5, 1.);\n  vUV.y = 1.-vUV.y;\n\n\tgl_Position = _ViewProjection * _Model * vec4(vec3(aPos.x - _XOffset, 0., aPos.z - _YOffset) * _VideoScale, 1.0);\n}\n'
  },
  function (e, t) {
    e.exports =
      '#extension GL_OES_standard_derivatives : enable\n\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\n#define ALPHA .75\n#define OFFSET_SCALE .75\n#define WHITE vec3(224./255.,218./255., 207./255.)\n\nvarying highp vec2 vUV;\n\nuniform highp sampler2D _Texture;\nuniform float _LineOpacity;\nuniform highp float _ActiveId;\nuniform highp float _MouseOverId;\nuniform float _MouseOverAmount;\n\n void main(void) {\n \thighp vec2 maxGrad2 = fwidth(vUV * vec2(1024,512));\n \thighp float maxGrad = max(maxGrad2.x, maxGrad2.y);\n\n \thighp float f = texture2D(_Texture, vUV).x - .5;\n\n  float aa = maxGrad/24.;\n\n \tfloat m = smoothstep(aa + 2./255., 0./255., f);\n\n  float alpha = m * ALPHA;\n\n  vec3 col = vec3(0);\n#ifdef MOUSEOVER\n  const highp vec2 offset_selected = vec2(1.5/8192., -8./4096.) * OFFSET_SCALE;\n  highp vec2 data_selected = texture2D(_Texture, vUV+offset_selected).xy;\n  float a_selected = data_selected.y * 255.;\n\n  if (a_selected > _ActiveId - .5 && a_selected < _ActiveId + .5) {\n    float s = smoothstep(aa + 2./255., 0./255., data_selected.x - .5);\n\n    const float amount = 1.;\n\n    col = WHITE * (amount * s * _LineOpacity /  (1.+.5*maxGrad));\n    alpha = mix(alpha, max(alpha, s), amount);\n  } else {\n#ifdef MOBILE\n    highp vec2 offset_hover = offset_selected;\n    highp vec2 data_hover = data_selected;\n    float a_hover = a_selected;\n#else\n    highp vec2 offset_hover = (vec2(1.5/8192., -8./4096.) * OFFSET_SCALE) * _MouseOverAmount;\n    highp vec2 data_hover = texture2D(_Texture, vUV+offset_hover).xy;\n    float a_hover = data_hover.y * 255.;\n#endif\n\n    if ( a_hover > _MouseOverId - .5 && a_hover < _MouseOverId + .5) {\n      float s = smoothstep(aa + 2./255., 0./255., data_hover.x - .5);\n\n      float amount = _MouseOverAmount;\n\n      col = WHITE * (amount * s * _LineOpacity /  (1.+.5*maxGrad));\n      alpha = mix(alpha, max(alpha, s), amount);\n    }\n  }\n#endif\n  alpha *= _LineOpacity /  (1.+.5*maxGrad);\n\n \tgl_FragColor = vec4(col, alpha);\n }\n'
  },
  function (e, t) {
    e.exports =
      'attribute vec3 aPos;\nattribute vec2 aUV0;\n\nuniform mat4 _ViewProjection;\n\nuniform float _Height;\nuniform float _YOffset;\n\nvarying vec2 vUV;\n\nvoid main(void) {\n\tvUV = aUV0;\n\tvUV.y = 1.-vUV.y;\n\n\tgl_Position = _ViewProjection* vec4(aPos*vec3(512., 0., 256.)+vec3(0,_Height,_YOffset), 1.0);\n}'
  },
  function (e, t) {
    e.exports =
      ' #ifdef GL_ES\n \tprecision mediump float;\n #endif\n\nuniform float _Opacity;\nuniform sampler2D _GrabPass;\nuniform vec2 _GrabPassSize;\nuniform float _Time;\n\nvarying vec2 vUV;\n\nvoid main(void) {\n  float radius = min(length(vUV - .5), .5);\n\n  vec2 grabUV =  gl_FragCoord.xy / _GrabPassSize;\n\n  float a = sin(radius *40. -_Time) * .5;\n\n  grabUV += mat2(cos(a), sin(a), -sin(a), cos(a)) * (vUV-.5) * smoothstep(.5, .1, radius) * .1;\n\n  vec3 grabColor = texture2D(_GrabPass, grabUV).rgb;\n\n \tgl_FragColor = vec4(grabColor * smoothstep(0., .2, radius),1) * _Opacity;\n}\n'
  },
  function (e, t) {
    e.exports =
      'attribute vec3 aPos;\nattribute vec2 aUV0;\n\nuniform mat4 _ViewProjection;\nuniform mat4 _Model;\n\n\nvarying vec2 vUV;\n\nvoid main(void) {\n\tvUV = aUV0;\n\n\tgl_Position = _ViewProjection * _Model * vec4(aPos * 100., 1.0);\n}\n'
  },
  function (e, t, n) {
    'use strict'
    n.r(t)
    n(724)
    var i = n(42),
      a = n(267),
      r = n.n(a),
      s = n(554)
    n(725)
    n(7).default.sensibleDefaults = !1
    var o = {},
      l = { Icon: n(555).a },
      u = n(392),
      c = n(14),
      d = {},
      h = function (e, t) {
        d[e] = t
      },
      f = function (e) {
        return d[e]
      },
      p = 'raceModel',
      v = 'monsterModel',
      m = 'characterModel',
      _ = 'eventModel',
      g = 'locationModel',
      y = 'configManager',
      T = function () {
        var e = f(y),
          t = (navigator.language || navigator.userLanguage)
            .toLowerCase()
            .split('-')[0],
          n = e.getProperty(c.b.AVAILABLE_LOCALES),
          i = n.find(function (e) {
            return e.toLowerCase().split('-')[0] === t
          }),
          a = (function () {
            var e = f(y),
              t = e.getProperty(c.b.DEFAULT_LOCALE)
            return (
              window.location.host
                .split('.')
                .includes(e.getProperty(c.b.POLAND_DOMAIN)) && (t = 'pl-pl'),
              t
            )
          })()
        return 'pl-pl' === a
          ? a
          : (i ||
              (i = n.find(function (e) {
                return (
                  e.toLowerCase().split('-')[0] ===
                  a.toLowerCase().split('-')[0]
                )
              })),
            i)
      },
      E = function () {
        var e = f(y),
          t = e.getProperty(c.b.AVAILABLE_LOCALES).map(function (e) {
            return 'string' === typeof e
              ? { code: e, urlPrefix: e, translationKey: e }
              : e
          }),
          n = { persistent: !1, defaultCode: T(), languages: t }
        return {
          localeEnabled: e.getVariable(c.d.LOCALE_ENABLED),
          localeRoutingEnabled: e.getVariable(c.d.LOCALE_ROUTING_ENABLED),
          config: n,
        }
      },
      b = n(87)
    i.default.use(u.a)
    var C,
      A = null,
      I = function () {
        if (!A) {
          var e = E(),
            t = f(y),
            n =
              e.localeEnabled && e.localeRoutingEnabled
                ? Object(a.routeParser)(b.b, T())
                : b.b.concat({ path: '*', redirect: '/' })
          ;(A = new u.a({
            mode: 'history',
            routes: n,
            base: t.getVariable(c.d.PUBLIC_PATH),
          })).beforeEach(function (e, n, i) {
            var a = t.getProperty(c.b.PERSIST_QUERY_PARAMS),
              r = !1,
              s = Object.assign({}, e.query)
            a &&
              a.length > 0 &&
              a.forEach(function (e) {
                'undefined' !== typeof n.query[e] &&
                  'undefined' === typeof s[e] &&
                  ((s[e] = n.query[e]), (r = !0))
              }),
              r ? i({ path: e.path, query: s }) : i()
          })
        }
        return A
      },
      k = n(145),
      R = n(157),
      M = n.n(R),
      x = n(281),
      S = n.n(x),
      w = n(63),
      P = n.n(w),
      O = {
        install: function (e, t) {
          Object.keys(t).forEach(function (n) {
            e.prototype[n]
              ? console.error(
                  'Skipping '
                    .concat(n, '. ')
                    .concat(n, ' already exists on the Vue prototype')
                )
              : Object.defineProperty(e.prototype, n, {
                  get: function () {
                    return t[n]
                  },
                })
          })
        },
      },
      L = n(16),
      F = n.n(L),
      N = function (e) {
        var t =
            arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
          n =
            arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},
          i = F()({}, n, t)
        return e
          .replace(/:(\w+)/g, function (e, t) {
            return 'undefined' !== typeof i[t] ? i[t] || '' : e
          })
          .replace(/\/:(\w+\?+)/g, function () {
            return ''
          })
          .replace(/\?/g, function () {
            return ''
          })
          .replace(/:(\w+)/g, function (e, t) {
            throw new Error('Param "'.concat(t, '" is missing in params'), i)
          })
      },
      D = n(280),
      B = [],
      U = {
        isLoaded: function (e) {
          return B.includes(e)
        },
        setLoadCallback: function (e) {
          C = e
        },
        getTranslation: function (e) {
          var t = e.translationKey,
            i = e.code
          return n(952)('./'.concat(t, '.json')).then(function (e) {
            return (
              B.push(i),
              C &&
                setTimeout(function () {
                  C(i)
                }),
              e
            )
          })
        },
      },
      V = n(88),
      $ = n(89),
      z = n(126),
      G = n(59),
      H = n(273)
    var q,
      j,
      W,
      X = function (e) {
        return new Promise(function (t) {
          U.isLoaded(e.getters.currentLanguage.code)
            ? t()
            : U.setLoadCallback(function (n) {
                n === e.getters.currentLanguage.code && t()
              })
        })
      },
      Y = function (e) {
        !(function () {
          var e = f(y),
            t = Object.keys(V.b).reduce(function (e, t) {
              return (e[t] = V.b[t].replace(/'/g, '')), e
            }, {})
          i.default.use(O, {
            $config: e,
            $gateway: f('gateway'),
            $http: M.a,
            $versionRoot: e.getVariable(c.d.VERSIONED_STATIC_ROOT),
            $staticRoot: e.getVariable(c.d.STATIC_ROOT),
            $appPreloader: f('appPreloader'),
            URLNames: c.c,
            PropertyNames: c.b,
            VariableNames: c.d,
            RouteNames: b.a,
            Params: D.a,
            Size: G.a,
            ButtonType: z.a,
            LinkType: $.a,
            $characterModel: f(m),
            $raceModel: f(p),
            $eventModel: f(_),
            $monsterModel: f(v),
            $locationModel: f(g),
            $soundModel: f('soundModel'),
            $cardModel: f('cardModel'),
            $webgl: f('webglApplication'),
            $eventBus: new i.default(),
            createPath: N,
            $deviceStateTracker: new S.a({
              mediaQueries: t,
              deviceState: V.a,
              showStateIndicator: !1,
            }),
            DeviceState: V.a,
          })
        })(),
          P.a.register(H.a.TIMEOUT, function (e) {
            clearTimeout(e)
          })
        var t = f(y)
        return Promise.all([
          t.getVariable(c.d.LOCALE_ENABLED)
            ? X(e).then(function () {
                i.default.prototype.$isRtl =
                  'ar-ar' === Object(k.a)().getters.currentLanguage.code
              })
            : Promise.resolve(),
          Promise.resolve(),
        ])
      },
      Z = n(39),
      K = n.n(Z),
      J = n(578),
      Q = n.n(J),
      ee = n(13),
      te = n.n(ee),
      ne = {
        environments:
          ((q = {}),
          te()(q, c.a.PRODUCTION, { variables: {}, urls: {} }),
          te()(q, c.a.STAGING, {
            extends: c.a.PRODUCTION,
            variables: {},
            urls: {},
          }),
          te()(q, c.a.DEVELOPMENT, {
            extends: c.a.STAGING,
            variables: {},
            urls: {},
          }),
          te()(q, c.a.LOCAL, {
            extends: c.a.DEVELOPMENT,
            variables: {},
            urls: {},
          }),
          q),
        variables:
          ((j = {}),
          te()(j, c.d.LOCALE_ENABLED, !0),
          te()(j, c.d.LOCALE_ROUTING_ENABLED, !0),
          te()(
            j,
            c.d.VERSIONED_STATIC_ROOT,
            (window.webpackPublicPath || '/') + 'version/1581425299820/static/'
          ),
          te()(j, c.d.STATIC_ROOT, (window.webpackPublicPath || '/') + ''),
          te()(j, c.d.PUBLIC_PATH, window.webpackPublicPath || '/'),
          j),
        urls: te()({}, c.c.API, ''.concat('/', 'api/')),
        properties:
          ((W = {}),
          te()(W, c.b.DEFAULT_LOCALE, 'en-gb'),
          te()(W, c.b.AVAILABLE_LOCALES, [
            'en-gb',
            'de-de',
            'pt-br',
            'es-es',
            'es-ar',
            'it-it',
            'pl-pl',
            'ro-ro',
            'tr-tr',
            'fr-fr',
            'nl-nl',
            'ar-ar',
          ]),
          te()(W, c.b.PERSIST_QUERY_PARAMS, []),
          te()(W, c.b.POLAND_DOMAIN, 'wiedzminnetflix'),
          te()(W, c.b.GLOBAL_DOMAIN, 'witchernetflix'),
          W),
      },
      ie = c.a.PRODUCTION
    switch (document.location.host.split(':').shift()) {
      case 'localhost':
        ie = c.a.LOCAL
        break
      default:
        ie = c.a.PRODUCTION
    }
    var ae = { config: ne, environment: ie },
      re = n(0),
      se = n.n(re),
      oe = n(1),
      le = n.n(oe),
      ue = n(4),
      ce = n.n(ue),
      de = n(2),
      he = n.n(de),
      fe = n(5),
      pe = n.n(fe),
      ve = n(31),
      me = n(33),
      _e = n(10),
      ge = n.n(_e),
      ye = n(48),
      Te = n.n(ye),
      Ee = (function (e) {
        function t(e, n) {
          var i
          return (
            se()(this, t),
            ((i = ce()(this, he()(t).call(this))).options = {}),
            (i.total = 0),
            (i.options = Object.assign(i.options, n)),
            e && i.storeItems(e),
            i
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'getItems',
              value: function () {
                return this.items
              },
            },
            {
              key: 'getArrayOfItems',
              value: function () {
                return this.arrayOfItems
              },
            },
            {
              key: 'storeItems',
              value: function (e) {
                var t = this
                ;(this.arrayOfItems = e),
                  (this.items = {}),
                  (this.total = e.length),
                  e.forEach(function (e) {
                    t.items[e.id] = e
                  })
              },
            },
            {
              key: 'getItemById',
              value: function (e) {
                var t = this.items[e]
                return (
                  t ||
                    console.warn(
                      'following id does not exist ['.concat(e, ']')
                    ),
                  t
                )
              },
            },
            { key: 'dispose', value: function () {} },
          ]),
          t
        )
      })(Te.a),
      be = (function (e) {
        function t(e) {
          return se()(this, t), ce()(this, he()(t).call(this, e))
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'storeItems',
              value: function (e) {
                var n = this
                ;(this.slugIdMap = {}),
                  (this.IdSlugMap = {}),
                  e.forEach(function (e) {
                    ;(n.slugIdMap[e.slug] = e.id), (n.IdSlugMap[e.id] = e.slug)
                  }),
                  ge()(he()(t.prototype), 'storeItems', this).call(this, e)
              },
            },
            {
              key: 'getItemBySlug',
              value: function (e) {
                var t = this.items[this.getIdBySlug(e)]
                return (
                  t ||
                    console.warn(
                      'following slug does not exist ['.concat(e, ']')
                    ),
                  t
                )
              },
            },
            {
              key: 'getSlugById',
              value: function (e) {
                return this.IdSlugMap[e]
              },
            },
            {
              key: 'getIdBySlug',
              value: function (e) {
                return this.slugIdMap[e]
              },
            },
            { key: 'dispose', value: function () {} },
          ]),
          t
        )
      })(Ee),
      Ce = (function (e) {
        function t() {
          return se()(this, t), ce()(this, he()(t).apply(this, arguments))
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'getEventsWithoutMainCharacters',
              value: function () {
                var e = this,
                  t = this.getArrayOfItems().filter(function (t) {
                    return e.eventHasNoMainCharacters(t)
                  })
                return (
                  t ||
                    console.warn(
                      'it seems that there is no event that does not contain a main character'
                    ),
                  t
                )
              },
            },
            {
              key: 'getEventsByTypeAndId',
              value: function (e, t) {
                var n
                switch (e) {
                  case ve.a.race:
                    n = this.getEventsByRaceId(t)
                    break
                  case ve.a.monster:
                    n = this.getEventsByMonsterId(t)
                    break
                  case ve.a.location:
                    n = this.getEventsByLocationId(t)
                    break
                  default:
                  case ve.a.character:
                    n = this.getEventsByCharacterId(t)
                }
                return (
                  n ||
                    console.warn(
                      'following id and type do not have events ['
                        .concat(t, '] [')
                        .concat(e, ']')
                    ),
                  n
                )
              },
            },
            {
              key: 'getEventsByCharacterId',
              value: function (e) {
                var t = this.getArrayOfItems().filter(function (t) {
                  return t.characterIds && t.characterIds.includes(e)
                })
                return (
                  t ||
                    console.warn(
                      'following characterId does not have an event ['.concat(
                        e,
                        ']'
                      )
                    ),
                  t
                )
              },
            },
            {
              key: 'getEventsByRaceId',
              value: function (e) {
                var t = this.getArrayOfItems().filter(function (t) {
                  return t.raceIds && t.raceIds.includes(e)
                })
                return (
                  t ||
                    console.warn(
                      'following raceId does not have an event ['.concat(e, ']')
                    ),
                  t
                )
              },
            },
            {
              key: 'getEventsByMonsterId',
              value: function (e) {
                var t = this.getArrayOfItems().filter(function (t) {
                  return t.monsterIds && t.monsterIds.includes(e)
                })
                return (
                  t ||
                    console.warn(
                      'following monsterIds does not have an event ['.concat(
                        e,
                        ']'
                      )
                    ),
                  t
                )
              },
            },
            {
              key: 'getEventsByLocationId',
              value: function (e) {
                var t = this.getArrayOfItems().filter(function (t) {
                  return t.locationId === e
                })
                return (
                  t ||
                    console.warn(
                      'following locationId does not have an event ['.concat(
                        e,
                        ']'
                      )
                    ),
                  t
                )
              },
            },
            {
              key: 'eventHasNoMainCharacters',
              value: function (e) {
                return (
                  !e.characterIds ||
                  e.characterIds.every(function (e) {
                    return !Object.values(me.b).includes(e)
                  })
                )
              },
            },
            {
              key: 'getMainCharactersInEvent',
              value: function (e) {
                var t = null,
                  n = this.getItemById(e)
                return (
                  n.characterIds &&
                    (t = n.characterIds.filter(function (e) {
                      return Object.values(me.b).includes(e)
                    })),
                  t ||
                    console.warn(
                      'following eventId does not have main characters ['.concat(
                        e,
                        ']'
                      )
                    ),
                  t
                )
              },
            },
            { key: 'dispose', value: function () {} },
          ]),
          t
        )
      })(be),
      Ae = [
        {
          id: 'E1',
          date: 0,
          monsterIds: [
            'M1',
            'M2',
            'M3',
            'M4',
            'M5',
            'M6',
            'M7',
            'M8',
            'M9',
            'M10',
            'M11',
            'M12',
          ],
          raceIds: ['R1', 'R2', 'R3', 'R4', 'R5'],
          cardType: 'event',
          slug: 'the-conjunction-of-spheres',
          relatedIds: ['R1', 'R2', 'R3', 'R4', 'R5'],
          weather: 'fog',
        },
        {
          id: 'E2',
          date: 786,
          characterIds: ['C26'],
          cardType: 'event',
          slug: 'birth-of-stregobor',
          relatedIds: ['E3', 'E12', 'E23', 'L2', 'L3', 'C22'],
          image: 'stregobor',
          weather: 'rain',
        },
        {
          id: 'E3',
          date: 839,
          characterIds: ['C0'],
          locationId: 'L1',
          raceIds: ['R3'],
          cardType: 'event',
          slug: 'laws-of-magic',
          relatedIds: ['C5', 'C26', 'C28'],
          image: 'laws-of-magic',
          weather: 'rain',
        },
        {
          id: 'E4',
          date: 839,
          characterIds: ['C0'],
          locationId: 'L1',
          cardType: 'event',
          slug: 'the-opening-of-aretuza',
          relatedIds: ['C3', 'C28', 'C14', 'E4', 'E9', 'E34'],
          image: 'aretuza-academy',
          weather: 'rain',
        },
        {
          id: 'E5',
          date: 967,
          characterIds: ['C0'],
          locationId: 'L8',
          cardType: 'event',
          slug: 'the-creation-of-the-first-witcher',
          relatedIds: ['C1', 'L8'],
          weather: 'fog',
        },
        {
          id: 'E6',
          date: 1160,
          characterIds: ['C1', 'C35'],
          cardType: 'event',
          slug: 'birth-of-geralt',
          relatedIds: ['C2', 'C3', 'C35', 'E23', 'L8'],
          image: 'geralt-of-rivia',
          weather: 'fog',
        },
        {
          id: 'E7',
          date: 1187,
          raceIds: ['R1', 'R3'],
          cardType: 'event',
          slug: 'the-great-cleansing',
          relatedIds: ['R1', 'R3', 'C13', 'C29'],
          weather: 'ash',
        },
        {
          id: 'E8',
          date: 1192,
          characterIds: ['C3'],
          locationId: 'L19',
          cardType: 'event',
          slug: 'birth-of-yennefer',
          relatedIds: ['C1', 'C28', 'L1', 'L19'],
          image: 'yennefer-of-vengerberg',
          weather: 'clear',
        },
        {
          id: 'E9',
          date: 1206,
          characterIds: ['C3', 'C28', 'C16', 'C14', 'C24', 'C4'],
          locationId: 'L1',
          cardType: 'event',
          slug: 'attending-aretuza-academy',
          relatedIds: ['L19', 'L1', 'C3', 'C28', 'C16'],
          image: 'attending-aretuza-academy',
          weather: 'rain',
          episode: 2,
        },
        {
          id: 'E10',
          date: 1210,
          characterIds: ['C3', 'C16', 'C26', 'C14', 'C15', 'C28'],
          locationId: 'L1',
          cardType: 'event',
          slug: 'a-time-of-transformation',
          relatedIds: ['L1', 'R1', 'C15', 'C26', 'C28', 'C16'],
          image: 'a-time-of-transformation',
          weather: 'clear',
          episode: 3,
        },
        {
          id: 'E11',
          date: 1210,
          characterIds: ['C3', 'C34', 'C14', 'C28', 'C16', 'C18', 'C5', 'C34'],
          locationId: 'L1',
          cardType: 'event',
          slug: 'the-royal-ceremony',
          relatedIds: ['L1', 'L13', 'L19', 'C3', 'C34'],
          image: 'the-royal-ceremony',
          weather: 'clear',
          episode: 3,
        },
        {
          id: 'E12',
          date: 1213,
          characterIds: ['C26', 'C22'],
          cardType: 'event',
          slug: 'curse-of-the-black-sun',
          relatedIds: ['C26', 'C22', 'E23'],
          weather: 'ash',
        },
        {
          id: 'E13',
          date: 1213,
          characterIds: ['C0', 'C22', 'C39'],
          locationId: 'L21',
          cardType: 'event',
          slug: 'birth-of-renfri',
          relatedIds: ['C39', 'C26', 'C1', 'E12', 'E23'],
          image: 'renfri',
          weather: 'fog',
        },
        {
          id: 'E14',
          date: 1216,
          characterIds: ['C0', 'C8'],
          locationId: 'L7',
          cardType: 'event',
          slug: 'birth-of-calanthe',
          relatedIds: ['C2', 'C10', 'C21', 'C40', 'L7', 'E17'],
          image: 'calanthe',
          weather: 'snow',
        },
        {
          id: 'E15',
          date: 1222,
          characterIds: ['C17'],
          cardType: 'event',
          slug: 'birth-of-jaskier',
          relatedIds: ['C1', 'E26', 'E32'],
          image: 'jaskier',
          weather: 'clear',
        },
        {
          id: 'E16',
          date: 1230,
          characterIds: ['C0', 'C8'],
          locationId: 'L7',
          cardType: 'event',
          slug: 'calanthe-ascends-to-the-throne',
          relatedIds: ['C2', 'C10', 'C21', 'C40', 'L7', 'E17'],
          image: 'calanthe',
          weather: 'fog',
        },
        {
          id: 'E17',
          date: 1231,
          characterIds: ['C0', 'C8'],
          locationId: 'L24',
          cardType: 'event',
          slug: 'the-battle-of-hochebuz',
          relatedIds: ['L24', 'L7', 'L12'],
          weather: 'ash',
        },
        {
          id: 'E19',
          date: 1232,
          characterIds: ['C0', 'C8', 'C40'],
          locationId: 'L7',
          cardType: 'event',
          slug: 'calanthe-marries-roegner-of-ebbing',
          relatedIds: ['C2', 'C10', 'C21', 'C40', 'L7', 'E17'],
          image: 'calanthe',
          weather: 'rain',
        },
        {
          id: 'E20',
          date: 1233,
          characterIds: ['C0', 'C40', 'C8', 'C31'],
          locationId: 'L25',
          cardType: 'event',
          slug: 'cintras-king-is-saved',
          relatedIds: ['C40', 'C8', 'C31', 'C21', 'L25', 'E29'],
          weather: 'rain',
        },
        {
          id: 'E21',
          date: 1234,
          characterIds: ['C0', 'C21', 'C8', 'C40'],
          locationId: 'L7',
          cardType: 'event',
          slug: 'birth-of-pavetta',
          relatedIds: ['C8', 'C40', 'C31', 'L7', 'C2', 'E29'],
          image: 'pavetta',
          weather: 'clear',
        },
        {
          id: 'E22',
          date: 1229,
          characterIds: ['C0', 'C18', 'C41', 'C20'],
          locationId: 'L16',
          monsterIds: ['M9'],
          cardType: 'event',
          slug: 'a-striga-is-born',
          relatedIds: ['C18', 'C41', 'M9', 'L16', 'E28'],
          image: 'a-striga-is-born',
          weather: 'rain',
        },
        {
          id: 'E23',
          date: 1231,
          characterIds: ['C1', 'C26', 'C22', 'C23'],
          locationId: 'L3',
          monsterIds: ['M6'],
          cardType: 'event',
          slug: 'the-butcher-of-blaviken',
          relatedIds: ['C1', 'C26', 'C22', 'E12', 'M6', 'L3'],
          image: 'the-butcher-of-blaviken',
          weather: 'rain',
          episode: 1,
        },
        {
          id: 'E24',
          date: 1237,
          characterIds: ['C0', 'C18', 'C41', 'C20'],
          locationId: 'L16',
          monsterIds: ['M9'],
          cardType: 'event',
          slug: 'the-striga-attacks',
          relatedIds: ['C18', 'C41', 'M9', 'L16', 'E28'],
          image: 'the-striga-attacks',
          weather: 'snow',
          episode: 3,
        },
        {
          id: 'E25',
          date: 1239,
          characterIds: ['C0'],
          locationId: 'L13',
          cardType: 'event',
          slug: 'nilfgaard-progresses-north',
          relatedIds: ['E37', 'E25', 'C14'],
          weather: 'ash',
        },
        {
          id: 'E26',
          date: 1240,
          characterIds: ['C1', 'C17', 'C29', 'C13', 'C42', 'C23'],
          locationId: 'L18',
          monsterIds: ['M10'],
          raceIds: ['R1'],
          cardType: 'event',
          slug: 'the-edge-of-the-world',
          relatedIds: ['C1', 'C17', 'C13', 'E7', 'R1', 'L18'],
          image: 'the-edge-of-the-world',
          weather: 'clear',
          episode: 2,
          soundIds: ['S3'],
        },
        {
          id: 'E27',
          date: 1240,
          characterIds: ['C3'],
          locationId: 'L10',
          cardType: 'event',
          slug: 'escaping-the-ronin-mage',
          relatedIds: ['C3', 'L19', 'E11'],
          image: 'escaping-the-ronin-mage',
          weather: 'snow',
          episode: 4,
        },
        {
          id: 'E28',
          date: 1243,
          characterIds: ['C1', 'C30', 'C18', 'C20', 'C41'],
          locationId: 'L16',
          monsterIds: ['M9'],
          cardType: 'event',
          slug: 'the-striga-curse',
          relatedIds: ['C1', 'C30', 'C18', 'M9', 'L16', 'E24'],
          image: 'the-striga-curse',
          weather: 'snow',
          episode: 3,
        },
        {
          id: 'E29',
          date: 1249,
          characterIds: ['C1', 'C8', 'C19', 'C10', 'C17', 'C31', 'C21'],
          locationId: 'L7',
          cardType: 'event',
          slug: 'the-law-of-surprise',
          relatedIds: ['C1', 'C21', 'C31', 'C8', 'E20', 'L7'],
          image: 'the-law-of-surprise',
          weather: 'fog',
          episode: 4,
          soundIds: ['S2'],
        },
        {
          id: 'E30',
          date: 1249,
          characterIds: ['C1', 'C19', 'C17', 'C8', 'C10', 'C21', 'C31'],
          locationId: 'L7',
          cardType: 'event',
          slug: 'cintra-celebrates-a-double-wedding',
          relatedIds: ['C8', 'C10', 'C21', 'C31', 'L7'],
          image: 'cintra-celebrates-a-double-wedding',
          weather: 'fog',
          episode: 4,
        },
        {
          id: 'E31',
          date: 1250,
          characterIds: ['C2', 'C21', 'C31'],
          locationId: 'L23',
          cardType: 'event',
          slug: 'birth-of-ciri',
          relatedIds: ['C1', 'C8', 'C21', 'L7'],
          image: 'ciri',
          weather: 'clear',
        },
        {
          id: 'E32',
          date: 1256,
          characterIds: ['C1', 'C3', 'C17', 'C23'],
          locationId: 'L14',
          monsterIds: ['M11'],
          cardType: 'event',
          slug: 'the-last-wish',
          relatedIds: ['C1', 'C3', 'C17', 'M11', 'L14'],
          image: 'the-last-wish',
          weather: 'clear',
          episode: 5,
        },
        {
          id: 'E33',
          date: 1262,
          characterIds: ['C1', 'C3', 'C17', 'C36', 'C27', 'C6', 'C12', 'C23'],
          locationId: 'L6',
          monsterIds: ['M3', 'M4', 'M5'],
          cardType: 'event',
          slug: 'the-dragon-hunt',
          relatedIds: ['C1', 'C3', 'C17', 'M3'],
          image: 'the-dragon-hunt',
          weather: 'clear',
          episode: 6,
          soundIds: ['S4'],
        },
        {
          id: 'E35',
          date: 1263,
          characterIds: ['C1', 'C2', 'C8', 'C10', 'C19', 'C25'],
          locationId: 'L7',
          cardType: 'event',
          slug: 'geralt-returns-to-cintra',
          relatedIds: ['C1', 'C2', 'E29', 'L7', 'C8'],
          image: 'geralt-returns-to-cintra',
          weather: 'snow',
          episode: 7,
        },
        {
          id: 'E36',
          date: 1263,
          characterIds: ['C0', 'C8', 'C10', 'C7'],
          locationId: 'L11',
          cardType: 'event',
          slug: 'battle-of-marnadal-valley',
          relatedIds: ['C8', 'C10', 'L13', 'L11', 'L7'],
          image: 'battle-of-marnadal-valley',
          weather: 'rain',
          episode: 1,
        },
        {
          id: 'E34',
          date: 1263,
          characterIds: [
            'C3',
            'C16',
            'C33',
            'C28',
            'C26',
            'C24',
            'C14',
            'C30',
            'C5',
            'C32',
          ],
          locationId: 'L1',
          cardType: 'event',
          slug: 'a-magical-gathering',
          relatedIds: ['C3', 'C33', 'C28', 'E37', 'E41', 'L1'],
          image: 'a-magical-gathering',
          weather: 'fog',
          episode: 7,
        },
        {
          id: 'E37',
          date: 1263,
          characterIds: ['C1', 'C2', 'C8', 'C19', 'C14', 'C25', 'C7'],
          locationId: 'L7',
          cardType: 'event',
          slug: 'the-slaughter-of-cintra',
          relatedIds: ['C2', 'C8', 'L7', 'L13'],
          image: 'the-slaughter-of-cintra',
          weather: 'ash',
          episode: 1,
        },
        {
          id: 'E38',
          date: 1263,
          characterIds: ['C2', 'C9'],
          locationId: 'L27',
          raceIds: ['R1', 'R5'],
          cardType: 'event',
          slug: 'revolt-in-the-refugee-camp',
          relatedIds: ['C2', 'R5', 'L7', 'E37'],
          image: 'revolt-in-the-refugee-camp',
          weather: 'snow',
          episode: 2,
        },
        {
          id: 'E39',
          date: 1263,
          characterIds: ['C2', 'C9', 'C11'],
          locationId: 'L4',
          monsterIds: ['M12'],
          raceIds: ['R4'],
          cardType: 'event',
          slug: 'refuge-in-brokilon-forest',
          relatedIds: ['C2', 'C9', 'C11', 'L4', 'R4'],
          image: 'refuge-in-brokilon-forest',
          weather: 'clear',
          episode: 4,
        },
        {
          id: 'E40',
          date: 1263,
          characterIds: ['C2', 'C38'],
          cardType: 'event',
          slug: 'ciris-prophecy',
          relatedIds: ['C2'],
          image: 'ciris-prophecy',
          weather: 'snow',
          episode: 7,
        },
        {
          id: 'E42',
          date: 1263,
          characterIds: ['C1', 'C37', 'C23', 'C35'],
          locationId: 'L27',
          monsterIds: ['M2'],
          cardType: 'event',
          slug: 'escaping-the-ghouls',
          relatedIds: ['C1', 'C37', 'M2'],
          image: 'escaping-the-ghouls',
          weather: 'snow',
          episode: 8,
        },
        {
          id: 'E41',
          date: 1263,
          characterIds: ['C3', 'C14', 'C24', 'C30', 'C32', 'C33', 'C28', 'C18'],
          locationId: 'L15',
          cardType: 'event',
          slug: 'the-battle-of-sodden-hill',
          relatedIds: ['C3', 'C14', 'C28', 'C33', 'E34', 'L15'],
          image: 'the-battle-of-sodden-hill',
          weather: 'ash',
          episode: 8,
        },
        {
          id: 'E43',
          date: 1263,
          characterIds: ['C1', 'C2', 'C37', 'C38'],
          locationId: 'L28',
          cardType: 'event',
          slug: 'destinies-meet',
          relatedIds: ['C1', 'C2', 'C3'],
          image: 'destinies-meet',
          weather: 'snow',
          episode: 8,
        },
        {
          id: 'E44',
          date: 1600,
          cardType: 'event',
          slug: 'end-of-time',
          weather: 'ash',
        },
      ],
      Ie = (function (e) {
        function t() {
          return se()(this, t), ce()(this, he()(t).apply(this, arguments))
        }
        return (
          pe()(t, e), le()(t, [{ key: 'dispose', value: function () {} }]), t
        )
      })(be),
      ke = [
        {
          id: 'L1',
          position: [100, 100],
          cardType: 'location',
          slug: 'aretuza-academy',
          relatedIds: ['C3', 'C28', 'C14', 'E4', 'E9', 'E34'],
          image: 'aretuza-academy',
        },
        {
          id: 'L2',
          position: [100, 100],
          cardType: 'location',
          slug: 'ban-ard',
          relatedIds: ['C26', 'C16', 'L1'],
        },
        {
          id: 'L3',
          position: [100, 100],
          cardType: 'location',
          slug: 'blaviken',
          relatedIds: ['C1', 'C22', 'C26', 'E23'],
          image: 'blaviken',
        },
        {
          id: 'L4',
          position: [100, 100],
          cardType: 'location',
          slug: 'brokilon-forest',
          relatedIds: ['C11', 'R4', 'E39'],
          image: 'brokilon-forest',
        },
        {
          id: 'L5',
          position: [100, 100],
          cardType: 'location',
          slug: 'brugge',
          relatedIds: ['L7'],
        },
        {
          id: 'L6',
          position: [100, 100],
          cardType: 'location',
          slug: 'caingorn-mountains',
          relatedIds: ['M4', 'E33'],
          image: 'caingorn-mountains',
        },
        {
          id: 'L7',
          position: [100, 100],
          cardType: 'location',
          slug: 'cintra',
          relatedIds: ['C2', 'C8', 'E37'],
          image: 'cintra',
        },
        {
          id: 'L8',
          position: [100, 100],
          cardType: 'location',
          slug: 'kaer-morhen',
          relatedIds: ['C1', 'E5'],
        },
        {
          id: 'L9',
          position: [100, 100],
          cardType: 'location',
          slug: 'korath-desert',
          relatedIds: ['L13'],
          image: 'korath-desert',
        },
        {
          id: 'L10',
          position: [100, 100],
          cardType: 'location',
          slug: 'lyria',
          relatedIds: ['L15', 'L19', 'E27'],
        },
        {
          id: 'L11',
          position: [100, 100],
          cardType: 'location',
          slug: 'marnadal-valley',
          relatedIds: ['E36', 'C8', 'C10'],
          image: 'marnadal-valley',
        },
        {
          id: 'L12',
          position: [100, 100],
          cardType: 'location',
          slug: 'nazair',
          relatedIds: ['E17', 'L13', 'L7'],
          image: 'nazair',
        },
        {
          id: 'L13',
          position: [100, 100],
          cardType: 'location',
          slug: 'nilfgaard',
          relatedIds: ['E37', 'E25', 'C14', 'C7'],
        },
        {
          id: 'L14',
          position: [100, 100],
          cardType: 'location',
          slug: 'rinde',
          relatedIds: ['E32'],
          image: 'rinde',
        },
        {
          id: 'L15',
          position: [100, 100],
          cardType: 'location',
          slug: 'sodden-hill',
          relatedIds: ['E41'],
          image: 'sodden-hill',
        },
        {
          id: 'L16',
          position: [100, 100],
          cardType: 'location',
          slug: 'temeria',
          relatedIds: ['C18', 'E28', 'M9'],
          image: 'temeria',
        },
        {
          id: 'L17',
          position: [100, 100],
          cardType: 'location',
          slug: 'tower-of-the-gull',
          relatedIds: ['L1'],
          image: 'tower-of-the-gull',
        },
        {
          id: 'L18',
          position: [100, 100],
          cardType: 'location',
          slug: 'posada',
          relatedIds: ['E26', 'M10'],
          image: 'posada',
        },
        {
          id: 'L19',
          position: [100, 100],
          cardType: 'location',
          slug: 'aedirn',
          relatedIds: ['C3', 'C34'],
        },
        {
          id: 'L20',
          position: [100, 100],
          cardType: 'location',
          slug: 'monoliths',
          relatedIds: ['L7', 'L12'],
          image: 'monoliths',
        },
        {
          id: 'L21',
          position: [100, 100],
          cardType: 'location',
          slug: 'creyden',
          relatedIds: ['C39', 'C22'],
        },
        {
          id: 'L22',
          position: [100, 100],
          cardType: 'location',
          slug: 'redenia',
          relatedIds: ['L26', 'L3'],
        },
        {
          id: 'L23',
          position: [100, 100],
          cardType: 'location',
          slug: 'skellige-islands',
          relatedIds: ['C10', 'E30'],
        },
        {
          id: 'L24',
          position: [100, 100],
          cardType: 'location',
          slug: 'hochebuz',
          relatedIds: ['E17', 'L7', 'L12', 'C8'],
        },
        {
          id: 'L25',
          position: [100, 100],
          cardType: 'location',
          slug: 'erlenwald',
          relatedIds: ['C31', 'C40', 'E20'],
        },
        {
          id: 'L26',
          position: [100, 100],
          cardType: 'location',
          slug: 'oxenfurt-academy',
          relatedIds: ['L22'],
        },
        {
          id: 'L27',
          position: [100, 100],
          cardType: 'location',
          slug: 'cintran-refugee-camp',
          image: 'refugee-camp',
          relatedIds: ['E38', 'L4', 'E38', 'M2'],
        },
        {
          id: 'L28',
          position: [100, 100],
          cardType: 'location',
          slug: 'riverdell',
          image: 'riverdell',
          relatedIds: ['C37', 'C38', 'E41', 'E43'],
        },
      ],
      Re = [
        {
          id: 'M1',
          image: 'basilisk',
          cardType: 'monster',
          slug: 'basilisk',
          relatedIds: ['C1'],
        },
        {
          id: 'M2',
          image: 'ghoul',
          cardType: 'monster',
          slug: 'ghoul',
          relatedIds: ['C1', 'C37', 'E42'],
        },
        {
          id: 'M3',
          image: 'gold-dragon',
          cardType: 'monster',
          slug: 'gold-dragon',
          relatedIds: ['C6', 'C1', 'C3', 'L6', 'M4'],
        },
        {
          id: 'M4',
          image: 'green-dragon',
          cardType: 'monster',
          slug: 'green-dragon',
          relatedIds: ['C6', 'C1', 'C3', 'L6', 'M3'],
        },
        {
          id: 'M5',
          image: 'hirikka',
          cardType: 'monster',
          slug: 'hirikka',
          relatedIds: ['C1', 'C17', 'C12', 'L6'],
        },
        {
          id: 'M6',
          image: 'kikimora',
          cardType: 'monster',
          slug: 'kikimora',
          relatedIds: ['C1', 'L3'],
        },
        { id: 'M7', cardType: 'monster', slug: 'polevik', relatedIds: ['R2'] },
        {
          id: 'M8',
          cardType: 'monster',
          slug: 'selkiemore',
          relatedIds: ['C1'],
        },
        {
          id: 'M9',
          image: 'striga',
          cardType: 'monster',
          slug: 'striga',
          relatedIds: ['C18', 'C1', 'C41', 'L16', 'E28', 'E24'],
        },
        {
          id: 'M10',
          image: 'sylvan',
          cardType: 'monster',
          slug: 'sylvan',
          relatedIds: ['C13', 'E26'],
        },
        {
          id: 'M11',
          image: 'djinn',
          cardType: 'monster',
          slug: 'djinn',
          relatedIds: ['C1', 'C3', 'C17', 'E32'],
        },
        {
          id: 'M12',
          image: 'doppler',
          cardType: 'monster',
          slug: 'doppler',
          relatedIds: ['C2', 'C19'],
        },
      ],
      Me = [
        {
          id: 'R1',
          image: 'elves',
          cardType: 'race',
          slug: 'elves',
          relatedIds: ['C13', 'C29', 'C9', 'E7'],
        },
        {
          id: 'R2',
          image: 'dwarves',
          cardType: 'race',
          slug: 'dwarves',
          relatedIds: ['C36', 'R5'],
        },
        {
          id: 'R3',
          image: 'humans',
          cardType: 'race',
          slug: 'humans',
          relatedIds: ['E1'],
        },
        {
          id: 'R4',
          image: 'dryads',
          cardType: 'race',
          slug: 'dryads',
          relatedIds: ['C11', 'L4'],
        },
        {
          id: 'R5',
          image: 'halflings',
          cardType: 'race',
          slug: 'halflings',
          relatedIds: ['E38', 'R2'],
        },
      ],
      xe = [
        { id: 'C0', image: 'ciri', cardType: 'character', slug: 'ciri-0' },
        {
          id: 'C1',
          image: 'geralt-of-rivia',
          cardType: 'character',
          slug: 'geralt-of-rivia',
          relatedIds: ['C2', 'C3', 'C35', 'C23', 'E23', 'L8'],
        },
        {
          id: 'C2',
          image: 'ciri',
          cardType: 'character',
          slug: 'ciri',
          relatedIds: ['C1', 'C8', 'C21', 'L7'],
        },
        {
          id: 'C3',
          image: 'yennefer-of-vengerberg',
          cardType: 'character',
          slug: 'yennefer-of-vengerberg',
          relatedIds: ['C1', 'C28', 'L1', 'L19'],
        },
        {
          id: 'C4',
          image: 'anica',
          cardType: 'character',
          slug: 'anica',
          relatedIds: ['C3', 'L1', 'L17'],
        },
        {
          id: 'C5',
          image: 'artorius-vigo',
          cardType: 'character',
          slug: 'artorius-vigo',
          relatedIds: ['C26', 'C28', 'C14', 'L13', 'E3'],
        },
        {
          id: 'C6',
          image: 'borch-three-jackdaws',
          cardType: 'character',
          slug: 'borch-three-jackdaws',
          relatedIds: ['C27', 'M3', 'E33'],
        },
        {
          id: 'C7',
          image: 'cahir',
          cardType: 'character',
          slug: 'cahir',
          relatedIds: ['C2', 'L13', 'E37', 'E36'],
        },
        {
          id: 'C8',
          image: 'calanthe',
          cardType: 'character',
          slug: 'calanthe',
          relatedIds: ['C2', 'C10', 'C21', 'C40', 'L7', 'E17'],
        },
        {
          id: 'C9',
          image: 'dara',
          cardType: 'character',
          slug: 'dara',
          relatedIds: ['R1', 'C2', 'E38', 'E39'],
        },
        {
          id: 'C10',
          image: 'eist-tuirseach',
          cardType: 'character',
          slug: 'eist-tuirseach',
          relatedIds: ['C8', 'C21', 'C2', 'L7', 'E30', 'E36'],
        },
        {
          id: 'C11',
          image: 'eithne',
          cardType: 'character',
          slug: 'eithne',
          relatedIds: ['R4', 'L4', 'E39'],
        },
        {
          id: 'C12',
          image: 'eyck-of-denesle',
          cardType: 'character',
          slug: 'eyck-of-denesle',
          relatedIds: ['C3', 'E33'],
        },
        {
          id: 'C13',
          image: 'filavandrel',
          cardType: 'character',
          slug: 'filavandrel',
          relatedIds: ['R1', 'E7', 'E26'],
        },
        {
          id: 'C14',
          image: 'fringilla-vigo',
          cardType: 'character',
          slug: 'fringilla-vigo',
          relatedIds: ['C3', 'C5', 'L1', 'L13', 'E41'],
        },
        {
          id: 'C15',
          image: 'giltine',
          cardType: 'character',
          slug: 'giltine',
          relatedIds: ['C3', 'C28', 'L1', 'E10'],
        },
        {
          id: 'C16',
          image: 'istredd',
          cardType: 'character',
          slug: 'istredd',
          relatedIds: ['C3', 'C26', 'L1', 'L17', 'L2'],
        },
        {
          id: 'C17',
          image: 'jaskier',
          cardType: 'character',
          slug: 'jaskier',
          relatedIds: ['C1', 'E26', 'E32'],
          soundIds: ['S2', 'S3', 'S4'],
        },
        {
          id: 'C18',
          image: 'king-foltest',
          cardType: 'character',
          slug: 'king-foltest',
          relatedIds: ['C41', 'M9', 'E28', 'E41'],
        },
        {
          id: 'C19',
          image: 'mousesack',
          cardType: 'character',
          slug: 'mousesack',
          relatedIds: ['C2', 'C8', 'C10', 'L23', 'L7', 'M12'],
        },
        {
          id: 'C20',
          image: 'ostrit',
          cardType: 'character',
          slug: 'ostrit',
          relatedIds: ['C1', 'C18', 'L16', 'E28', 'M9'],
        },
        {
          id: 'C21',
          image: 'pavetta',
          cardType: 'character',
          slug: 'pavetta',
          relatedIds: ['C8', 'C40', 'C31', 'L7', 'C2', 'E29'],
        },
        {
          id: 'C22',
          image: 'renfri',
          cardType: 'character',
          slug: 'renfri',
          relatedIds: ['C39', 'C26', 'C1', 'E12', 'E23'],
        },
        {
          id: 'C23',
          image: 'roach',
          cardType: 'character',
          slug: 'roach',
          relatedIds: ['C1'],
        },
        {
          id: 'C24',
          image: 'sabrina',
          cardType: 'character',
          slug: 'sabrina',
          relatedIds: ['C3', 'C14', 'L1', 'E3', 'E41'],
        },
        {
          id: 'C25',
          image: 'sir-lazlo',
          cardType: 'character',
          slug: 'sir-lazlo',
          relatedIds: ['C2', 'C8', 'C7', 'L7', 'E37'],
        },
        {
          id: 'C26',
          image: 'stregobor',
          cardType: 'character',
          slug: 'stregobor',
          relatedIds: ['E3', 'E12', 'E23', 'L2', 'L3', 'C22'],
        },
        {
          id: 'C27',
          image: 'tea-and-vea',
          cardType: 'character',
          slug: 'tea-and-vea',
          relatedIds: ['C6', 'C1', 'C3', 'C36', 'E33', 'L6'],
        },
        {
          id: 'C28',
          image: 'tissaia-de-vries',
          cardType: 'character',
          slug: 'tissaia-de-vries',
          relatedIds: ['L1', 'C3', 'E3', 'E9', 'E10', 'E41'],
        },
        {
          id: 'C29',
          image: 'toruviel',
          cardType: 'character',
          slug: 'toruviel',
          relatedIds: ['C13', 'C1', 'C17', 'L18', 'R1'],
        },
        {
          id: 'C30',
          image: 'triss-merigold',
          cardType: 'character',
          slug: 'triss-merigold',
          relatedIds: ['C1', 'C3', 'L1', 'L16', 'E41', 'E28'],
        },
        {
          id: 'C31',
          image: 'urcheon-of-erlenwald',
          cardType: 'character',
          slug: 'urcheon-of-erlenwald',
          relatedIds: ['C21', 'C40', 'L7', 'L25', 'E20', 'E29'],
        },
        {
          id: 'C32',
          image: 'vanielle-of-brugge',
          cardType: 'character',
          slug: 'vanielle-of-brugge',
          relatedIds: ['C3', 'C28', 'L1', 'E3', 'E10', 'E41'],
        },
        {
          id: 'C33',
          image: 'vilgefortz-de-roggeveen',
          cardType: 'character',
          slug: 'vilgefortz-de-roggeveen',
          relatedIds: ['C3', 'E41', 'E34', 'L1', 'L12', 'L13'],
        },
        {
          id: 'C34',
          image: 'king-virfuril',
          cardType: 'character',
          slug: 'king-virfuril',
          relatedIds: ['L19', 'L1', 'C3', 'C14', 'E11'],
        },
        {
          id: 'C35',
          image: 'visenna',
          cardType: 'character',
          slug: 'visenna',
          relatedIds: ['C1', 'L8'],
        },
        {
          id: 'C36',
          image: 'yarpen-zigrin',
          cardType: 'character',
          slug: 'yarpen-zigrin',
          relatedIds: ['C1', 'C3', 'E33', 'L6', 'M4', 'R2'],
        },
        {
          id: 'C37',
          image: 'yurga',
          cardType: 'character',
          slug: 'yurga',
          relatedIds: ['C1', 'C2', 'C38', 'L28', 'E43'],
        },
        {
          id: 'C38',
          image: 'zola',
          cardType: 'character',
          slug: 'zola',
          relatedIds: ['C1', 'C2', 'C37', 'L28', 'E43'],
        },
        {
          id: 'C39',
          cardType: 'character',
          slug: 'king-fredefalk',
          relatedIds: ['C26', 'C22', 'L21'],
        },
        {
          id: 'C40',
          cardType: 'character',
          slug: 'roegner-of-ebbing',
          relatedIds: ['C8', 'C21', 'C31', 'L7', 'E20', 'E29'],
        },
        {
          id: 'C41',
          image: 'princess-adelaide',
          cardType: 'character',
          slug: 'princess-adelaide',
          relatedIds: ['C18', 'C1', 'L16', 'E28', 'E24', 'M9'],
        },
        {
          id: 'C42',
          image: 'torque',
          cardType: 'character',
          slug: 'torque',
          relatedIds: ['L18', 'C13', 'C29', 'C1', 'C17', 'E26'],
        },
      ],
      Se = [
        {
          id: 'S1',
          file: 'https://open.spotify.com/embed/track/4n3axXPWHMpFBMGZ4GMhgM',
          duration: '1:22',
        },
        {
          id: 'S2',
          file: 'https://open.spotify.com/embed/track/4n3axXPWHMpFBMGZ4GMhgM',
          duration: '1:33',
        },
        {
          id: 'S3',
          file: 'https://open.spotify.com/embed/track/2KMLGJ1mPfRE4GNdL92rl3',
          duration: '2:04',
        },
        {
          id: 'S4',
          file: 'https://open.spotify.com/embed/track/5ifi01PWSK7Nx1FbIZ0jT8',
          duration: '3:35',
        },
      ],
      we = (function (e) {
        function t() {
          return se()(this, t), ce()(this, he()(t).apply(this, arguments))
        }
        return (
          pe()(t, e), le()(t, [{ key: 'dispose', value: function () {} }]), t
        )
      })(be),
      Pe = (function (e) {
        function t() {
          return se()(this, t), ce()(this, he()(t).apply(this, arguments))
        }
        return (
          pe()(t, e), le()(t, [{ key: 'dispose', value: function () {} }]), t
        )
      })(be),
      Oe = (function (e) {
        function t() {
          return se()(this, t), ce()(this, he()(t).apply(this, arguments))
        }
        return (
          pe()(t, e), le()(t, [{ key: 'dispose', value: function () {} }]), t
        )
      })(be),
      Le = (function (e) {
        function t() {
          var e, n
          return (
            se()(this, t),
            ((n = ce()(this, he()(t).apply(this, arguments))).models =
              ((e = {}),
              te()(e, ve.a.event, f(_)),
              te()(e, ve.a.race, f(p)),
              te()(e, ve.a.location, f(g)),
              te()(e, ve.a.character, f(m)),
              te()(e, ve.a.monster, f(v)),
              e)),
            n
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'getDataForTypeAndId',
              value: function (e, t) {
                var n = null
                return (
                  this.models[e]
                    ? (n = this.models[e].getItemById(t)) ||
                      console.warn(
                        'no data found for type:['
                          .concat(e, '] and id: [')
                          .concat(t, ']')
                      )
                    : console.warn('no model for type:['.concat(e, ']')),
                  n
                )
              },
            },
            {
              key: 'getRelatedItemsById',
              value: function (e) {
                var t = this,
                  n = this.getItemById(e),
                  i = null
                return (
                  n.relatedIds &&
                    (i = n.relatedIds.map(function (e) {
                      return t.getItemById(e)
                    })),
                  i
                )
              },
            },
            { key: 'dispose', value: function () {} },
          ]),
          t
        )
      })(be),
      Fe = n(29),
      Ne = n.n(Fe),
      De = n(156),
      Be = n.n(De),
      Ue = n(362),
      Ve = (function (e) {
        function t(e) {
          var n
          return (
            se()(this, t), ((n = ce()(this, he()(t).call(this))).parent = e), n
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'dispose',
              value: function () {
                ge()(he()(t.prototype), 'dispose', this).call(this)
              },
            },
          ]),
          t
        )
      })(n.n(Ue).a),
      $e = n(55),
      ze = n.n($e),
      Ge = (function () {
        function e() {
          se()(this, e), (this.isDestructed = !1)
        }
        return (
          le()(e, [
            {
              key: 'destruct',
              value: function () {
                this.isDestructed
                  ? console.error('Cannot destruct twice')
                  : (this.isDestructed = !0)
              },
            },
          ]),
          e
        )
      })(),
      He = n(8),
      qe = (function () {
        function e() {
          var t =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : 0,
            n =
              arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
          se()(this, e), (this.v = He.d.fromValues(t, n))
        }
        return (
          le()(
            e,
            [
              {
                key: 'clone',
                value: function () {
                  return new e(this.x, this.y)
                },
              },
              {
                key: 'copy',
                value: function (e) {
                  return He.d.copy(this.v, e.v), this
                },
              },
              {
                key: 'setValues',
                value: function (e, t) {
                  return He.d.set(this.v, e, t), this
                },
              },
              {
                key: 'length',
                value: function () {
                  return He.d.length(this.v)
                },
              },
              {
                key: 'toString',
                value: function () {
                  return this.x + ',' + this.y
                },
              },
              {
                key: 'equals',
                value: function (e) {
                  return e.x === this.x && e.y === this.y
                },
              },
              {
                key: 'normalize',
                value: function () {
                  return He.d.normalize(this.v, this.v), this
                },
              },
              {
                key: 'negate',
                value: function () {
                  return He.d.negate(this.v, this.v), this
                },
              },
              {
                key: 'multiplyScalar',
                value: function (e) {
                  return He.d.scale(this.v, this.v, e), this
                },
              },
              {
                key: 'multiply',
                value: function (e) {
                  return He.d.multiply(this.v, this.v, e.v), this
                },
              },
              {
                key: 'add',
                value: function (e) {
                  return He.d.add(this.v, this.v, e.v), this
                },
              },
              {
                key: 'subtract',
                value: function (e) {
                  return He.d.subtract(this.v, this.v, e.v), this
                },
              },
              {
                key: 'subtractScalar',
                value: function (e) {
                  return (this.x -= e), (this.y -= e), this
                },
              },
              {
                key: 'rotate',
                value: function (e, t) {
                  var n = Math.sin(t),
                    i = Math.cos(t)
                  ;(this.x -= e.x), (this.y -= e.y)
                  var a = this.x * i - this.y * n,
                    r = this.x * n + this.y * i
                  return (this.x = a + e.x), (this.y = r + e.y), this
                },
              },
              {
                key: 'x',
                get: function () {
                  return this.v[0]
                },
                set: function (e) {
                  this.v[0] = e
                },
              },
              {
                key: 'y',
                get: function () {
                  return this.v[1]
                },
                set: function (e) {
                  this.v[1] = e
                },
              },
            ],
            [
              {
                key: 'dot',
                value: function (e, t) {
                  return He.d.dot(e.v, t.v)
                },
              },
              {
                key: 'distance',
                value: function (e, t) {
                  return He.d.distance(e.v, t.v)
                },
              },
              {
                key: 'multiplyScalar',
                value: function (e, t, n) {
                  return (e.x = t.x * n), (e.y = t.y * n), e
                },
              },
              {
                key: 'cross',
                value: function (e, t, n) {
                  return He.d.cross(e.v, t.v, n.v), e
                },
              },
              {
                key: 'add',
                value: function (e, t, n) {
                  return He.d.add(e.v, t.v, n.v), e
                },
              },
              {
                key: 'subtract',
                value: function (e, t, n) {
                  return He.d.subtract(e.v, t.v, n.v), e
                },
              },
              {
                key: 'lerp',
                value: function (e, t, n, i) {
                  return He.d.lerp(e.v, t.v, n.v, i), e
                },
              },
              {
                key: 'fract',
                value: function (t, n) {
                  return e.subtract(n, e.floor(t, n), t), t
                },
              },
              {
                key: 'floor',
                value: function (e, t) {
                  return (e.x = Math.floor(t.x)), (e.y = Math.floor(t.y)), e
                },
              },
            ]
          ),
          e
        )
      })()
    qe.ZERO = new qe(0, 0)
    var je = qe,
      We = (function (e) {
        function t(e) {
          var n,
            i =
              !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]
          return (
            se()(this, t),
            ((n = ce()(this, he()(t).call(this)))._pixelRatio = 1),
            (n._needsResize = !1),
            (n._resizeInterval = 30),
            (n._resizeWait = 0),
            (n._canvasParent = e),
            (n._autoResize = i),
            e || (n._autoResize = !1),
            (n._manualResizeUpdate = !1),
            (n.canvas = n.prepareCanvas(e)),
            window.devicePixelRatio
              ? (n._pixelRatio = window.devicePixelRatio)
              : (n._pixelRatio = 1),
            n._autoResize &&
              (n.handleResize(),
              setTimeout(function () {
                return n.handleResize()
              }, 100)),
            n
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'getCanvas',
              value: function () {
                return this.canvas
              },
            },
            {
              key: 'prepareCanvas',
              value: function (e) {
                var t = document.createElement('canvas')
                return (
                  t.setAttribute('id', 'canvas'),
                  (t.style.position = 'absolute'),
                  (t.style.left = '0px'),
                  (t.style.top = '0px'),
                  (t.style.zIndex = '1'),
                  this._canvasParent &&
                    ((t.style.width = this._canvasParent.offsetWidth + 'px'),
                    (t.style.height = this._canvasParent.offsetHeight + 'px')),
                  e && e.appendChild(t),
                  this._autoResize &&
                    ((this._resizeHandler = this.handleResize.bind(this)),
                    (this._debouncedResize = ze()(this._resizeHandler, 150)),
                    window.addEventListener('resize', this._debouncedResize)),
                  t
                )
              },
            },
            {
              key: 'setSize',
              value: function (e, t) {
                ;(this._goalWidth == e && this._goalHeight == t) ||
                  (this._autoResize &&
                    (this._debouncedResize &&
                      window.removeEventListener(
                        'resize',
                        this._debouncedResize
                      ),
                    (this._autoResize = !1))),
                  (this._goalWidth = e),
                  (this._goalHeight = t),
                  this.delayedResize()
              },
            },
            {
              key: 'setMaxResolution',
              value: function (e) {
                ;(this._maxResolution = new je().copy(e)), this.delayedResize()
              },
            },
            {
              key: 'setPixelRatio',
              value: function (e) {
                ;(this._pixelRatio = e), this.delayedResize()
              },
            },
            {
              key: 'setAutoResize',
              value: function (e) {
                ;(this._autoResize = e),
                  this._debouncedResize &&
                    (this._autoResize
                      ? (window.addEventListener(
                          'resize',
                          this._debouncedResize
                        ),
                        this.handleResize())
                      : window.removeEventListener(
                          'resize',
                          this._debouncedResize
                        ))
              },
            },
            {
              key: 'getPixelRatio',
              value: function () {
                return this._pixelRatio
              },
            },
            {
              key: 'getParentHeight',
              value: function () {
                return null === this._canvasParent
                  ? null
                  : this._canvasParent.offsetHeight
              },
            },
            {
              key: 'getAspectRatio',
              value: function () {
                return this.canvas.width / this.canvas.height
              },
            },
            {
              key: 'handleResize',
              value: function () {
                var e = this
                if (this._canvasParent) {
                  var t = this._canvasParent.offsetWidth,
                    n = this._canvasParent.offsetHeight
                  ;(this._goalWidth !== t ||
                    this._goalHeight !== n ||
                    this._needsResize) &&
                    ((this._goalWidth = t),
                    (this._goalHeight = n),
                    this._manualResizeUpdate ||
                      (clearTimeout(this._resizeTimeOut),
                      (this._resizeTimeOut = setTimeout(function () {
                        return e.delayedResize()
                      }, 100))))
                }
              },
            },
            {
              key: 'updateResize',
              value: function () {
                ;(this._manualResizeUpdate = !0),
                  this.handleResize(),
                  this.delayedResize()
              },
            },
            {
              key: 'delayedResize',
              value: function () {
                if (!this.isDestructed) {
                  if (
                    ((this._needsResize = !1),
                    void 0 === this._goalWidth || void 0 === this._goalHeight)
                  )
                    throw new ReferenceError('canvas size not yet set')
                  if (this._maxResolution) {
                    var e = window.devicePixelRatio
                        ? window.devicePixelRatio
                        : 1,
                      t = Math.min(
                        this._maxResolution.x / this._goalWidth,
                        this._maxResolution.y / this._goalHeight
                      )
                    this._pixelRatio = t < e ? t / e : e
                  }
                  ;(this.canvas.width = this._goalWidth * this._pixelRatio),
                    (this.canvas.height = this._goalHeight * this._pixelRatio),
                    this._autoResize && this._canvasParent
                      ? ((this.canvas.style.width =
                          this._canvasParent.offsetWidth + 'px'),
                        (this.canvas.style.height =
                          this._canvasParent.offsetHeight + 'px'))
                      : ((this.canvas.style.width = this._goalWidth + 'px'),
                        (this.canvas.style.height = this._goalHeight + 'px'))
                  var n = document.createEvent('Event')
                  n.initEvent('resize', !1, !0), this.canvas.dispatchEvent(n)
                }
              },
            },
            {
              key: 'forceResize',
              value: function () {
                if (!this._canvasParent)
                  throw new ReferenceError('canvas has no parent')
                if ((this._resizeWait--, this._resizeWait <= 0)) {
                  this._resizeWait = this._resizeInterval
                  var e = this._canvasParent.offsetWidth,
                    t = this._canvasParent.offsetHeight
                  if (
                    this.canvas.width != e * this._pixelRatio ||
                    this.canvas.height != t * this._pixelRatio
                  ) {
                    ;(this.canvas.width = e * this._pixelRatio),
                      (this.canvas.height = t * this._pixelRatio)
                    var n = document.createEvent('Event')
                    n.initEvent('resize', !1, !0), this.canvas.dispatchEvent(n)
                  }
                  ;(this.canvas.style.width == e + 'px' &&
                    this.canvas.style.height == t + 'px') ||
                    ((this.canvas.style.width = e + 'px'),
                    (this.canvas.style.height = t + 'px'))
                }
              },
            },
            {
              key: 'destruct',
              value: function () {
                this._debouncedResize &&
                  window.removeEventListener('resize', this._debouncedResize),
                  (this.canvas.width = 1),
                  (this.canvas.height = 1),
                  this._canvasParent &&
                    this._canvasParent.removeChild(this.canvas),
                  ge()(he()(t.prototype), 'destruct', this).call(this)
              },
            },
            {
              key: 'canvasParent',
              get: function () {
                return this._canvasParent
              },
            },
          ]),
          t
        )
      })(Ge),
      Xe = (function () {
        function e() {
          se()(this, e)
        }
        return (
          le()(e, null, [
            {
              key: 'log',
              value: function () {
                if (e.ENABLED) {
                  for (
                    var t = arguments.length, n = new Array(t), i = 0;
                    i < t;
                    i++
                  )
                    n[i] = arguments[i]
                  console.log(n)
                }
              },
            },
            {
              key: 'error',
              value: function () {
                if (e.ENABLED) {
                  for (
                    var t = arguments.length, n = new Array(t), i = 0;
                    i < t;
                    i++
                  )
                    n[i] = arguments[i]
                  console.error(n)
                }
              },
            },
            {
              key: 'getScreenLogDiv',
              value: function () {
                return (
                  e._screenLogDiv || (e._screenLogDiv = e.createDebugDiv()),
                  e._screenLogDiv
                )
              },
            },
            {
              key: 'logToScreen',
              value: function (t) {
                e.ENABLED &&
                  (e._screenLogDiv || (e._screenLogDiv = e.createDebugDiv()),
                  (e._screenLogDiv.innerHTML = t))
              },
            },
            {
              key: 'logAppendToScreen',
              value: function (t) {
                e.ENABLED &&
                  (e._screenLogDiv || (e._screenLogDiv = e.createDebugDiv()),
                  (e._screenLogDiv.innerHTML += t))
              },
            },
            {
              key: 'logArray',
              value: function (t) {
                if (e.ENABLED) {
                  for (var n = t.length, i = '', a = 0; a < n; a++)
                    (i += t[a]), (i += ',')
                  ;(i = i.substring(0, i.length - 1)), console.log(i)
                }
              },
            },
            {
              key: 'log2dArray',
              value: function (t) {
                if (e.ENABLED) {
                  for (var n = t.length, i = '', a = 0; a < n; a++)
                    for (var r = 0; r < t[a].length; r++)
                      (i += t[a][r]), (i += ',')
                  ;(i = i.substring(0, i.length - 1)), console.log(i)
                }
              },
            },
            {
              key: 'createDebugDiv',
              value: function () {
                var e = document.createElement('div')
                return (
                  document.body.appendChild(e),
                  (e.style.position = 'absolute'),
                  (e.style.left = '160px'),
                  (e.style.top = '0px'),
                  (e.style.color = '#fff'),
                  (e.style.backgroundColor = '#000'),
                  (e.style.display = 'block'),
                  (e.style.width = '158px'),
                  (e.style.height = '94px'),
                  (e.style.padding = '1px'),
                  (e.style.font = '10px Helvetica,Arial,sans-serif'),
                  (e.style.lineHeight = '14px'),
                  (e.style.zIndex = '1000'),
                  e
                )
              },
            },
          ]),
          e
        )
      })()
    Xe.ENABLED = !0
    var Ye = Xe,
      Ze = function e(t) {
        se()(this, e),
          (this.MAX_VERTEX_ATTRIBS = t.getParameter(t.MAX_VERTEX_ATTRIBS)),
          (this.MAX_VARYING_VECTORS = t.getParameter(t.MAX_VARYING_VECTORS)),
          (this.MAX_VERTEX_UNIFORM_VECTORS = t.getParameter(
            t.MAX_VERTEX_UNIFORM_VECTORS
          )),
          (this.MAX_FRAGMENT_UNIFORM_VECTORS = t.getParameter(
            t.MAX_FRAGMENT_UNIFORM_VECTORS
          )),
          (this.MAX_TEXTURE_IMAGE_UNITS = t.getParameter(
            t.MAX_TEXTURE_IMAGE_UNITS
          )),
          (this.MAX_VERTEX_TEXTURE_IMAGE_UNITS = t.getParameter(
            t.MAX_VERTEX_TEXTURE_IMAGE_UNITS
          )),
          (this.MAX_TEXTURE_SIZE = t.getParameter(t.MAX_TEXTURE_SIZE)),
          (this.MAX_CUBE_MAP_TEXTURE_SIZE = t.getParameter(
            t.MAX_CUBE_MAP_TEXTURE_SIZE
          )),
          (this.MAX_VIEWPORT_DIMS = t.getParameter(t.MAX_VIEWPORT_DIMS)),
          (this.MAX_RENDERBUFFER_SIZE = t.getParameter(
            t.MAX_RENDERBUFFER_SIZE
          )),
          (this.MAX_COMBINED_TEXTURE_IMAGE_UNITS = t.getParameter(
            t.MAX_COMBINED_TEXTURE_IMAGE_UNITS
          ))
        var n = t.getExtension('WEBGL_debug_renderer_info')
        for (var i in ((this.UNMASKED_RENDERER =
          n && t.getParameter(n.UNMASKED_RENDERER_WEBGL)),
        (this.UNMASKED_VENDOR = n && t.getParameter(n.UNMASKED_VENDOR_WEBGL)),
        this))
          this.hasOwnProperty(i) && Ye.log(i, this[i])
      },
      Ke = (function () {
        function e() {
          var t =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : 0,
            n =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : 0,
            i =
              arguments.length > 2 && void 0 !== arguments[2]
                ? arguments[2]
                : 0,
            a =
              arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1
          se()(this, e), (this.v = He.f.fromValues(t, n, i, a))
        }
        return (
          le()(
            e,
            [
              {
                key: 'clone',
                value: function () {
                  return new e(this.x, this.y, this.z, this.w)
                },
              },
              {
                key: 'copy',
                value: function (e) {
                  return He.f.set(this.v, e.x, e.y, e.z, e.w), this
                },
              },
              {
                key: 'setValues',
                value: function (e, t, n, i) {
                  return He.f.set(this.v, e, t, n, i), this
                },
              },
              {
                key: 'dot',
                value: function (e) {
                  return He.f.dot(this.v, e.v)
                },
              },
              {
                key: 'transform',
                value: function (e) {
                  return He.f.transformMat4(this.v, this.v, e), this
                },
              },
              {
                key: 'x',
                get: function () {
                  return this.v[0]
                },
                set: function (e) {
                  this.v[0] = e
                },
              },
              {
                key: 'y',
                get: function () {
                  return this.v[1]
                },
                set: function (e) {
                  this.v[1] = e
                },
              },
              {
                key: 'z',
                get: function () {
                  return this.v[2]
                },
                set: function (e) {
                  this.v[2] = e
                },
              },
              {
                key: 'w',
                get: function () {
                  return this.v[3]
                },
                set: function (e) {
                  this.v[3] = e
                },
              },
            ],
            [
              {
                key: 'dot',
                value: function (e, t) {
                  return He.f.dot(e.v, t.v)
                },
              },
              {
                key: 'transform',
                value: function (e, t, n) {
                  return He.f.transformMat4(e.v, t.v, n), e
                },
              },
            ]
          ),
          e
        )
      })()
    Ke.ZERO = new Ke()
    var Je = Ke,
      Qe = (function (e) {
        function t() {
          var e =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : 1,
            n =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : 1,
            i =
              arguments.length > 2 && void 0 !== arguments[2]
                ? arguments[2]
                : 1,
            a =
              arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1
          return se()(this, t), ce()(this, he()(t).call(this, e, n, i, a))
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'r',
              get: function () {
                return this.v[0]
              },
              set: function (e) {
                this.v[0] = e
              },
            },
            {
              key: 'g',
              get: function () {
                return this.v[1]
              },
              set: function (e) {
                this.v[1] = e
              },
            },
            {
              key: 'b',
              get: function () {
                return this.v[2]
              },
              set: function (e) {
                this.v[2] = e
              },
            },
            {
              key: 'a',
              get: function () {
                return this.v[3]
              },
              set: function (e) {
                this.v[3] = e
              },
            },
          ]),
          le()(
            t,
            [
              {
                key: 'isEqualTo',
                value: function (e) {
                  return (
                    this.r == e.r &&
                    this.g == e.g &&
                    this.b == e.b &&
                    this.a == e.a
                  )
                },
              },
              {
                key: 'clampCeil',
                value: function (e) {
                  this.r > e && (this.r = e),
                    this.g > e && (this.g = e),
                    this.b > e && (this.b = e),
                    this.a > e && (this.a = e)
                },
              },
              {
                key: 'toRGBString',
                value: function () {
                  return (
                    'rgb(' +
                    Math.round(255 * this.r) +
                    ',' +
                    Math.round(255 * this.g) +
                    ',' +
                    Math.round(255 * this.b) +
                    ')'
                  )
                },
              },
              {
                key: 'getHex',
                value: function () {
                  return (
                    '#' +
                    t.componentToHex(this.r) +
                    t.componentToHex(this.g) +
                    t.componentToHex(this.b)
                  )
                },
              },
              {
                key: 'setRGBA255',
                value: function (e) {
                  ;(this.r = e[0] / 255),
                    (this.g = e[1] / 255),
                    (this.b = e[2] / 255),
                    (this.a = e[3]),
                    console.log(
                      'setRGBA255: ',
                      e,
                      this.r,
                      this.g,
                      this.b,
                      this.a
                    )
                },
              },
              {
                key: 'getRGBA255',
                value: function () {
                  return [
                    Math.round(255 * this.r),
                    Math.round(255 * this.g),
                    Math.round(255 * this.b),
                    this.a,
                  ]
                },
              },
              {
                key: 'setFromHex',
                value: function (e) {
                  e = e.replace(/[^0-9A-F]/gi, '')
                  var t = parseInt(e, 16)
                  ;(this.r = ((t >> 16) & 255) / 255),
                    (this.g = ((t >> 8) & 255) / 255),
                    (this.b = (255 & t) / 255),
                    (this.a = 1)
                },
              },
              {
                key: 'setFromHSV',
                value: function (e, t, n) {
                  var i = 0,
                    a = 0,
                    r = 0,
                    s = Math.floor(6 * e),
                    o = 6 * e - s,
                    l = n * (1 - t),
                    u = n * (1 - o * t),
                    c = n * (1 - (1 - o) * t)
                  switch (s % 6) {
                    case 0:
                      ;(i = n), (a = c), (r = l)
                      break
                    case 1:
                      ;(i = u), (a = n), (r = l)
                      break
                    case 2:
                      ;(i = l), (a = n), (r = c)
                      break
                    case 3:
                      ;(i = l), (a = u), (r = n)
                      break
                    case 4:
                      ;(i = c), (a = l), (r = n)
                      break
                    case 5:
                      ;(i = n), (a = l), (r = u)
                  }
                  ;(this.r = i), (this.g = a), (this.b = r)
                },
              },
              {
                key: 'getRgbaString',
                value: function () {
                  return (
                    'rgba(' +
                    Math.round(255 * this.r) +
                    ', ' +
                    Math.round(255 * this.g) +
                    ', ' +
                    Math.round(255 * this.b) +
                    ', ' +
                    this.a +
                    ')'
                  )
                },
              },
            ],
            [
              {
                key: 'componentToHex',
                value: function (e) {
                  var t = (e *= 255).toString(16)
                  return 1 === t.length ? '0' + t : t
                },
              },
              {
                key: 'fromHex',
                value: function (e) {
                  var n = new t()
                  return n.setFromHex(e), n
                },
              },
              {
                key: 'fromRGB255',
                value: function (e) {
                  var n = new t()
                  return n.setRGBA255(e), n
                },
              },
              {
                key: 'getRandom',
                value: function () {
                  return new t(Math.random(), Math.random(), Math.random())
                },
              },
              {
                key: 'colorFromString',
                value: function (e) {
                  var n = [],
                    i = []
                  ;(i[0] = e.substr(0, Math.floor(e.length / 3))),
                    (i[1] = e.substr(
                      Math.floor(e.length / 3),
                      Math.floor((2 * e.length) / 3)
                    )),
                    (i[2] = e.substr(Math.floor((2 * e.length) / 3), e.length))
                  for (var a = 0; a < i.length; a++)
                    for (var r = 0; r < i[a].length; r++)
                      a in n || (n[a] = 0), (n[a] += i[a].charCodeAt(r))
                  return new t(
                    (n[0] / 128) % 1,
                    (n[1] / 128) % 1,
                    (n[2] / 128) % 1,
                    1
                  )
                },
              },
              {
                key: 'fromHSV',
                value: function (e, n, i) {
                  var a = new t()
                  return a.setFromHSV(e, n, i), a
                },
              },
            ]
          ),
          t
        )
      })(Je),
      et = function e() {
        se()(this, e)
      }
    ;(et.ACTIVE_ATTRIBUTES = 35721),
      (et.ACTIVE_ATTRIBUTE_MAX_LENGTH = 35722),
      (et.ACTIVE_TEXTURE = 34016),
      (et.ACTIVE_UNIFORMS = 35718),
      (et.ACTIVE_UNIFORM_MAX_LENGTH = 35719),
      (et.ALIASED_LINE_WIDTH_RANGE = 33902),
      (et.ALIASED_POINT_SIZE_RANGE = 33901),
      (et.ALPHA = 6406),
      (et.ALPHA_BITS = 3413),
      (et.ALWAYS = 519),
      (et.ARRAY_BUFFER = 34962),
      (et.ARRAY_BUFFER_BINDING = 34964),
      (et.ATTACHED_SHADERS = 35717),
      (et.BACK = 1029),
      (et.BLEND = 3042),
      (et.BLEND_COLOR = 32773),
      (et.BLEND_DST_ALPHA = 32970),
      (et.BLEND_DST_RGB = 32968),
      (et.BLEND_EQUATION = 32777),
      (et.BLEND_EQUATION_ALPHA = 34877),
      (et.BLEND_EQUATION_RGB = 32777),
      (et.BLEND_SRC_ALPHA = 32971),
      (et.BLEND_SRC_RGB = 32969),
      (et.BLUE_BITS = 3412),
      (et.BOOL = 35670),
      (et.BOOL_VEC2 = 35671),
      (et.BOOL_VEC3 = 35672),
      (et.BOOL_VEC4 = 35673),
      (et.BROWSER_DEFAULT_WEBGL = 37444),
      (et.BUFFER_SIZE = 34660),
      (et.BUFFER_USAGE = 34661),
      (et.BYTE = 5120),
      (et.CCW = 2305),
      (et.CLAMP_TO_EDGE = 33071),
      (et.COLOR_ATTACHMENT0 = 36064),
      (et.COLOR_BUFFER_BIT = 16384),
      (et.COLOR_CLEAR_VALUE = 3106),
      (et.COLOR_WRITEMASK = 3107),
      (et.COMPILE_STATUS = 35713),
      (et.COMPRESSED_TEXTURE_FORMATS = 34467),
      (et.CONSTANT_ALPHA = 32771),
      (et.CONSTANT_COLOR = 32769),
      (et.CONTEXT_LOST_WEBGL = 37442),
      (et.CULL_FACE = 2884),
      (et.CULL_FACE_MODE = 2885),
      (et.CURRENT_PROGRAM = 35725),
      (et.CURRENT_VERTEX_ATTRIB = 34342),
      (et.CW = 2304),
      (et.DECR = 7683),
      (et.DECR_WRAP = 34056),
      (et.DELETE_STATUS = 35712),
      (et.DEPTH_ATTACHMENT = 36096),
      (et.DEPTH_BITS = 3414),
      (et.DEPTH_BUFFER_BIT = 256),
      (et.DEPTH_CLEAR_VALUE = 2931),
      (et.DEPTH_COMPONENT = 6402),
      (et.DEPTH_COMPONENT16 = 33189),
      (et.DEPTH_FUNC = 2932),
      (et.DEPTH_RANGE = 2928),
      (et.DEPTH_STENCIL = 34041),
      (et.DEPTH_STENCIL_ATTACHMENT = 33306),
      (et.DEPTH_TEST = 2929),
      (et.DEPTH_WRITEMASK = 2930),
      (et.DITHER = 3024),
      (et.DONT_CARE = 4352),
      (et.DST_ALPHA = 772),
      (et.DST_COLOR = 774),
      (et.DYNAMIC_DRAW = 35048),
      (et.ELEMENT_ARRAY_BUFFER = 34963),
      (et.ELEMENT_ARRAY_BUFFER_BINDING = 34965),
      (et.EQUAL = 514),
      (et.FASTEST = 4353),
      (et.FLOAT = 5126),
      (et.FLOAT_MAT2 = 35674),
      (et.FLOAT_MAT3 = 35675),
      (et.FLOAT_MAT4 = 35676),
      (et.FLOAT_VEC2 = 35664),
      (et.FLOAT_VEC3 = 35665),
      (et.FLOAT_VEC4 = 35666),
      (et.FRAGMENT_SHADER = 35632),
      (et.FRAMEBUFFER = 36160),
      (et.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME = 36049),
      (et.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE = 36048),
      (et.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE = 36051),
      (et.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL = 36050),
      (et.FRAMEBUFFER_BINDING = 36006),
      (et.FRAMEBUFFER_COMPLETE = 36053),
      (et.FRAMEBUFFER_INCOMPLETE_ATTACHMENT = 36054),
      (et.FRAMEBUFFER_INCOMPLETE_DIMENSIONS = 36057),
      (et.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT = 36055),
      (et.FRAMEBUFFER_UNSUPPORTED = 36061),
      (et.FRONT = 1028),
      (et.FRONT_AND_BACK = 1032),
      (et.FRONT_FACE = 2886),
      (et.FUNC_ADD = 32774),
      (et.FUNC_REVERSE_SUBTRACT = 32779),
      (et.FUNC_SUBTRACT = 32778),
      (et.GENERATE_MIPMAP_HINT = 33170),
      (et.GEQUAL = 518),
      (et.GREATER = 516),
      (et.GREEN_BITS = 3411),
      (et.HIGH_FLOAT = 36338),
      (et.HIGH_INT = 36341),
      (et.INCR = 7682),
      (et.INCR_WRAP = 34055),
      (et.INFO_LOG_LENGTH = 35716),
      (et.INT = 5124),
      (et.INT_VEC2 = 35667),
      (et.INT_VEC3 = 35668),
      (et.INT_VEC4 = 35669),
      (et.INVALID_ENUM = 1280),
      (et.INVALID_FRAMEBUFFER_OPERATION = 1286),
      (et.INVALID_OPERATION = 1282),
      (et.INVALID_VALUE = 1281),
      (et.INVERT = 5386),
      (et.KEEP = 7680),
      (et.LEQUAL = 515),
      (et.LESS = 513),
      (et.LINEAR = 9729),
      (et.LINEAR_MIPMAP_LINEAR = 9987),
      (et.LINEAR_MIPMAP_NEAREST = 9985),
      (et.LINES = 1),
      (et.LINE_LOOP = 2),
      (et.LINE_STRIP = 3),
      (et.LINE_WIDTH = 2849),
      (et.LINK_STATUS = 35714),
      (et.LOW_FLOAT = 36336),
      (et.LOW_INT = 36339),
      (et.LUMINANCE = 6409),
      (et.LUMINANCE_ALPHA = 6410),
      (et.MAX_COMBINED_TEXTURE_IMAGE_UNITS = 35661),
      (et.MAX_CUBE_MAP_TEXTURE_SIZE = 34076),
      (et.MAX_FRAGMENT_UNIFORM_VECTORS = 36349),
      (et.MAX_RENDERBUFFER_SIZE = 34024),
      (et.MAX_TEXTURE_IMAGE_UNITS = 34930),
      (et.MAX_TEXTURE_SIZE = 3379),
      (et.MAX_VARYING_VECTORS = 36348),
      (et.MAX_VERTEX_ATTRIBS = 34921),
      (et.MAX_VERTEX_TEXTURE_IMAGE_UNITS = 35660),
      (et.MAX_VERTEX_UNIFORM_VECTORS = 36347),
      (et.MAX_VIEWPORT_DIMS = 3386),
      (et.MEDIUM_FLOAT = 36337),
      (et.MEDIUM_INT = 36340),
      (et.MIRRORED_REPEAT = 33648),
      (et.NEAREST = 9728),
      (et.NEAREST_MIPMAP_LINEAR = 9986),
      (et.NEAREST_MIPMAP_NEAREST = 9984),
      (et.NEVER = 512),
      (et.NICEST = 4354),
      (et.NONE = 0),
      (et.NOTEQUAL = 517),
      (et.NO_ERROR = 0),
      (et.NUM_COMPRESSED_TEXTURE_FORMATS = 34466),
      (et.ONE = 1),
      (et.ONE_MINUS_CONSTANT_ALPHA = 32772),
      (et.ONE_MINUS_CONSTANT_COLOR = 32770),
      (et.ONE_MINUS_DST_ALPHA = 773),
      (et.ONE_MINUS_DST_COLOR = 775),
      (et.ONE_MINUS_SRC_ALPHA = 771),
      (et.ONE_MINUS_SRC_COLOR = 769),
      (et.OUT_OF_MEMORY = 1285),
      (et.PACK_ALIGNMENT = 3333),
      (et.POINTS = 0),
      (et.POLYGON_OFFSET_FACTOR = 32824),
      (et.POLYGON_OFFSET_FILL = 32823),
      (et.POLYGON_OFFSET_UNITS = 10752),
      (et.RED_BITS = 3410),
      (et.RENDERBUFFER = 36161),
      (et.RENDERBUFFER_ALPHA_SIZE = 36179),
      (et.RENDERBUFFER_BINDING = 36007),
      (et.RENDERBUFFER_BLUE_SIZE = 36178),
      (et.RENDERBUFFER_DEPTH_SIZE = 36180),
      (et.RENDERBUFFER_GREEN_SIZE = 36177),
      (et.RENDERBUFFER_HEIGHT = 36163),
      (et.RENDERBUFFER_INTERNAL_FORMAT = 36164),
      (et.RENDERBUFFER_RED_SIZE = 36176),
      (et.RENDERBUFFER_STENCIL_SIZE = 36181),
      (et.RENDERBUFFER_WIDTH = 36162),
      (et.RENDERER = 7937),
      (et.REPEAT = 10497),
      (et.REPLACE = 7681),
      (et.RGB = 6407),
      (et.RGB5_A1 = 32855),
      (et.RGB565 = 36194),
      (et.RGBA = 6408),
      (et.RGBA4 = 32854),
      (et.SAMPLER_2D = 35678),
      (et.SAMPLER_CUBE = 35680),
      (et.SAMPLES = 32937),
      (et.SAMPLE_ALPHA_TO_COVERAGE = 32926),
      (et.SAMPLE_BUFFERS = 32936),
      (et.SAMPLE_COVERAGE = 32928),
      (et.SAMPLE_COVERAGE_INVERT = 32939),
      (et.SAMPLE_COVERAGE_VALUE = 32938),
      (et.SCISSOR_BOX = 3088),
      (et.SCISSOR_TEST = 3089),
      (et.SHADER_COMPILER = 36346),
      (et.SHADER_SOURCE_LENGTH = 35720),
      (et.SHADER_TYPE = 35663),
      (et.SHADING_LANGUAGE_VERSION = 35724),
      (et.SHORT = 5122),
      (et.SRC_ALPHA = 770),
      (et.SRC_ALPHA_SATURATE = 776),
      (et.SRC_COLOR = 768),
      (et.STATIC_DRAW = 35044),
      (et.STENCIL_ATTACHMENT = 36128),
      (et.STENCIL_BACK_FAIL = 34817),
      (et.STENCIL_BACK_FUNC = 34816),
      (et.STENCIL_BACK_PASS_DEPTH_FAIL = 34818),
      (et.STENCIL_BACK_PASS_DEPTH_PASS = 34819),
      (et.STENCIL_BACK_REF = 36003),
      (et.STENCIL_BACK_VALUE_MASK = 36004),
      (et.STENCIL_BACK_WRITEMASK = 36005),
      (et.STENCIL_BITS = 3415),
      (et.STENCIL_BUFFER_BIT = 1024),
      (et.STENCIL_CLEAR_VALUE = 2961),
      (et.STENCIL_FAIL = 2964),
      (et.STENCIL_FUNC = 2962),
      (et.STENCIL_INDEX = 6401),
      (et.STENCIL_INDEX8 = 36168),
      (et.STENCIL_PASS_DEPTH_FAIL = 2965),
      (et.STENCIL_PASS_DEPTH_PASS = 2966),
      (et.STENCIL_REF = 2967),
      (et.STENCIL_TEST = 2960),
      (et.STENCIL_VALUE_MASK = 2963),
      (et.STENCIL_WRITEMASK = 2968),
      (et.STREAM_DRAW = 35040),
      (et.SUBPIXEL_BITS = 3408),
      (et.TEXTURE = 5890),
      (et.TEXTURE0 = 33984),
      (et.TEXTURE1 = 33985),
      (et.TEXTURE2 = 33986),
      (et.TEXTURE3 = 33987),
      (et.TEXTURE4 = 33988),
      (et.TEXTURE5 = 33989),
      (et.TEXTURE6 = 33990),
      (et.TEXTURE7 = 33991),
      (et.TEXTURE8 = 33992),
      (et.TEXTURE9 = 33993),
      (et.TEXTURE10 = 33994),
      (et.TEXTURE11 = 33995),
      (et.TEXTURE12 = 33996),
      (et.TEXTURE13 = 33997),
      (et.TEXTURE14 = 33998),
      (et.TEXTURE15 = 33999),
      (et.TEXTURE16 = 34e3),
      (et.TEXTURE17 = 34001),
      (et.TEXTURE18 = 34002),
      (et.TEXTURE19 = 34003),
      (et.TEXTURE20 = 34004),
      (et.TEXTURE21 = 34005),
      (et.TEXTURE22 = 34006),
      (et.TEXTURE23 = 34007),
      (et.TEXTURE24 = 34008),
      (et.TEXTURE25 = 34009),
      (et.TEXTURE26 = 34010),
      (et.TEXTURE27 = 34011),
      (et.TEXTURE28 = 34012),
      (et.TEXTURE29 = 34013),
      (et.TEXTURE30 = 34014),
      (et.TEXTURE31 = 34015),
      (et.TEXTURE_2D = 3553),
      (et.TEXTURE_BINDING_2D = 32873),
      (et.TEXTURE_BINDING_CUBE_MAP = 34068),
      (et.TEXTURE_CUBE_MAP = 34067),
      (et.TEXTURE_CUBE_MAP_NEGATIVE_X = 34070),
      (et.TEXTURE_CUBE_MAP_NEGATIVE_Y = 34072),
      (et.TEXTURE_CUBE_MAP_NEGATIVE_Z = 34074),
      (et.TEXTURE_CUBE_MAP_POSITIVE_X = 34069),
      (et.TEXTURE_CUBE_MAP_POSITIVE_Y = 34071),
      (et.TEXTURE_CUBE_MAP_POSITIVE_Z = 34073),
      (et.TEXTURE_MAG_FILTER = 10240),
      (et.TEXTURE_MIN_FILTER = 10241),
      (et.TEXTURE_WRAP_S = 10242),
      (et.TEXTURE_WRAP_T = 10243),
      (et.TRIANGLES = 4),
      (et.TRIANGLE_FAN = 6),
      (et.TRIANGLE_STRIP = 5),
      (et.UNPACK_ALIGNMENT = 3317),
      (et.UNPACK_COLORSPACE_CONVERSION_WEBGL = 37443),
      (et.UNPACK_FLIP_Y_WEBGL = 37440),
      (et.UNPACK_PREMULTIPLY_ALPHA_WEBGL = 37441),
      (et.UNSIGNED_BYTE = 5121),
      (et.UNSIGNED_INT = 5125),
      (et.UNSIGNED_SHORT = 5123),
      (et.UNSIGNED_SHORT_4_4_4_4 = 32819),
      (et.UNSIGNED_SHORT_5_5_5_1 = 32820),
      (et.UNSIGNED_SHORT_5_6_5 = 33635),
      (et.VALIDATE_STATUS = 35715),
      (et.VENDOR = 7936),
      (et.VERSION = 7938),
      (et.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING = 34975),
      (et.VERTEX_ATTRIB_ARRAY_ENABLED = 34338),
      (et.VERTEX_ATTRIB_ARRAY_NORMALIZED = 34922),
      (et.VERTEX_ATTRIB_ARRAY_POINTER = 34373),
      (et.VERTEX_ATTRIB_ARRAY_SIZE = 34339),
      (et.VERTEX_ATTRIB_ARRAY_STRIDE = 34340),
      (et.VERTEX_ATTRIB_ARRAY_TYPE = 34341),
      (et.VERTEX_SHADER = 35633),
      (et.VIEWPORT = 2978),
      (et.ZERO = 0)
    var tt = et,
      nt = (function () {
        function e() {
          var t =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : 0,
            n =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : 0,
            i =
              arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
          se()(this, e), (this.v = He.e.fromValues(t, n, i))
        }
        return (
          le()(
            e,
            [
              {
                key: 'clone',
                value: function () {
                  return new e(this.x, this.y, this.z)
                },
              },
              {
                key: 'copy',
                value: function (e) {
                  return He.e.copy(this.v, e.v), this
                },
              },
              {
                key: 'setValues',
                value: function (e, t, n) {
                  return He.e.set(this.v, e, t, n), this
                },
              },
              {
                key: 'length',
                value: function () {
                  return He.e.length(this.v)
                },
              },
              {
                key: 'toString',
                value: function () {
                  return '(' + this.x + ', ' + this.y + ', ' + this.z + ')'
                },
              },
              {
                key: 'equals',
                value: function (e) {
                  return e.x === this.x && e.y === this.y && e.z === this.z
                },
              },
              {
                key: 'normalize',
                value: function () {
                  return He.e.normalize(this.v, this.v), this
                },
              },
              {
                key: 'negate',
                value: function () {
                  return He.e.negate(this.v, this.v), this
                },
              },
              {
                key: 'multiplyScalar',
                value: function (e) {
                  return He.e.scale(this.v, this.v, e), this
                },
              },
              {
                key: 'multiply',
                value: function (e) {
                  return He.e.multiply(this.v, this.v, e.v), this
                },
              },
              {
                key: 'divide',
                value: function (e) {
                  return He.e.divide(this.v, this.v, e.v), this
                },
              },
              {
                key: 'add',
                value: function (e) {
                  return He.e.add(this.v, this.v, e.v), this
                },
              },
              {
                key: 'subtract',
                value: function (e) {
                  return He.e.subtract(this.v, this.v, e.v), this
                },
              },
              {
                key: 'subtractScalar',
                value: function (e) {
                  return (this.x -= e), (this.y -= e), (this.z -= e), this
                },
              },
              {
                key: 'rotateX',
                value: function (e, t) {
                  return He.e.rotateX(this.v, this.v, e.v, t), this
                },
              },
              {
                key: 'rotateY',
                value: function (e, t) {
                  return He.e.rotateY(this.v, this.v, e.v, t), this
                },
              },
              {
                key: 'transform',
                value: function (e) {
                  return He.e.transformMat4(this.v, this.v, e), this
                },
              },
              {
                key: 'transformMat3',
                value: function (e) {
                  return He.e.transformMat3(this.v, this.v, e), this
                },
              },
              {
                key: 'randomize',
                value: function () {
                  return (
                    (this.x = 2 * Math.random() - 1),
                    (this.y = 2 * Math.random() - 1),
                    (this.z = 2 * Math.random() - 1),
                    this
                  )
                },
              },
              {
                key: 'randomize01',
                value: function () {
                  return (
                    (this.x = Math.random()),
                    (this.y = Math.random()),
                    (this.z = Math.random()),
                    this
                  )
                },
              },
              {
                key: 'randomizeSphere',
                value: function () {
                  do {
                    this.randomize()
                  } while (this.length() > 1)
                  return this
                },
              },
              {
                key: 'smoothstep',
                value: function () {
                  return (
                    (this.x = e.smoothstep1(this.x)),
                    (this.y = e.smoothstep1(this.y)),
                    (this.z = e.smoothstep1(this.z)),
                    this
                  )
                },
              },
              {
                key: 'min',
                value: function (e) {
                  ;(this.x = Math.min(this.x, e.x)),
                    (this.y = Math.min(this.y, e.y)),
                    (this.z = Math.min(this.z, e.z))
                },
              },
              {
                key: 'max',
                value: function (e) {
                  ;(this.x = Math.max(this.x, e.x)),
                    (this.y = Math.max(this.y, e.y)),
                    (this.z = Math.max(this.z, e.z))
                },
              },
              {
                key: 'x',
                get: function () {
                  return this.v[0]
                },
                set: function (e) {
                  this.v[0] = e
                },
              },
              {
                key: 'y',
                get: function () {
                  return this.v[1]
                },
                set: function (e) {
                  this.v[1] = e
                },
              },
              {
                key: 'z',
                get: function () {
                  return this.v[2]
                },
                set: function (e) {
                  this.v[2] = e
                },
              },
            ],
            [
              {
                key: 'smoothstep1',
                value: function (e) {
                  return e * e * (3 - 2 * e)
                },
              },
              {
                key: 'dot',
                value: function (e, t) {
                  return He.e.dot(e.v, t.v)
                },
              },
              {
                key: 'distance',
                value: function (e, t) {
                  return He.e.distance(e.v, t.v)
                },
              },
              {
                key: 'multiplyScalar',
                value: function (e, t, n) {
                  return (e.x = t.x * n), (e.y = t.y * n), (e.z = t.z * n), e
                },
              },
              {
                key: 'cross',
                value: function (e, t, n) {
                  return He.e.cross(e.v, t.v, n.v), e
                },
              },
              {
                key: 'add',
                value: function (e, t, n) {
                  return He.e.add(e.v, t.v, n.v), e
                },
              },
              {
                key: 'subtract',
                value: function (e, t, n) {
                  return He.e.subtract(e.v, t.v, n.v), e
                },
              },
              {
                key: 'lerp',
                value: function (e, t, n, i) {
                  return He.e.lerp(e.v, t.v, n.v, i), e
                },
              },
              {
                key: 'fract',
                value: function (e, t) {
                  return (
                    (e.x = t.x - Math.floor(t.x)),
                    (e.y = t.y - Math.floor(t.y)),
                    (e.x = t.z - Math.floor(t.z)),
                    e
                  )
                },
              },
              {
                key: 'floor',
                value: function (e, t) {
                  return He.e.floor(e.v, t.v), e
                },
              },
              {
                key: 'bezier',
                value: function (e, t, n, i, a, r) {
                  He.e.bezier(e.v, t.v, n.v, i.v, a.v, r)
                },
              },
            ]
          ),
          e
        )
      })()
    ;(nt.ZERO = new nt()),
      (nt.RIGHT = new nt(1, 0, 0)),
      (nt.UP = new nt(0, 1, 0)),
      (nt.FORWARD = new nt(0, 0, 1)),
      (nt.ONE = new nt(1, 1, 1))
    var it = nt,
      at = (function (e) {
        function t(e, n) {
          var i,
            a =
              arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
          if (
            (se()(this, t),
            ((i = ce()(this, he()(t).call(this)))._loc =
              e.shader.uniformLocations[n]),
            i._loc ||
              Ye.log(
                'FloatUniform: uniform does not exist on shader: ',
                e.name,
                n
              ),
            !e.shader.program)
          )
            throw new ReferenceError(
              'Cannot construct FloatUniform from material: material shader is not yet initialized.'
            )
          return (
            (i._renderer = e.renderer),
            (i._program = e.shader.program),
            i.set(a),
            i
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'set',
              value: function (e) {
                e != this._value &&
                  ((this._value = e),
                  this._renderer.renderState.setProgram(this._program),
                  this._renderer.context.uniform1f(this._loc, this._value))
              },
            },
            {
              key: 'getValue',
              value: function () {
                return this._value
              },
            },
            {
              key: 'destruct',
              value: function () {
                ge()(he()(t.prototype), 'destruct', this).call(this)
              },
            },
          ]),
          t
        )
      })(Ge),
      rt = (function () {
        function e(t, n) {
          var i =
            arguments.length > 2 && void 0 !== arguments[2]
              ? arguments[2]
              : new je()
          if (
            (se()(this, e),
            (this._value = i),
            (this._loc = t.shader.uniformLocations[n]),
            this._loc ||
              Ye.log('FloatUniform: uniform does not exist on shader: ', n),
            !t.shader.program)
          )
            throw new ReferenceError(
              'Cannot construct Vector2Uniform from material: material shader is not yet initialized.'
            )
          ;(this._renderer = t.renderer), (this._program = t.shader.program)
        }
        return (
          le()(e, [
            {
              key: 'set',
              value: function (e) {
                ;(e.x == this._value.x && e.y == this._value.y) ||
                  ((this._value = e),
                  this._renderer.renderState.setProgram(this._program),
                  this._renderer.context.uniform2fv(this._loc, this._value.v))
              },
            },
            {
              key: 'getValue',
              value: function () {
                return this._value
              },
            },
          ]),
          e
        )
      })(),
      st = (function () {
        function e(t, n) {
          arguments.length > 2 && void 0 !== arguments[2]
            ? arguments[2]
            : new it()
          if (
            (se()(this, e),
            (this._value = new it()),
            (this._loc = t.shader.uniformLocations[n]),
            this._loc ||
              Ye.log('FloatUniform: uniform does not exist on shader: ', n),
            !t.shader.program)
          )
            throw new ReferenceError(
              'Cannot construct Vector3Uniform from material: material shader is not yet initialized.'
            )
          ;(this._renderer = t.renderer), (this._program = t.shader.program)
        }
        return (
          le()(e, [
            {
              key: 'set',
              value: function (e) {
                ;(e.x == this._value.x &&
                  e.y == this._value.y &&
                  e.z == this._value.z) ||
                  (this._value.copy(e),
                  this._renderer.renderState.setProgram(this._program),
                  this._renderer.context.uniform3fv(this._loc, this._value.v))
              },
            },
            {
              key: 'getValue',
              value: function () {
                return this._value
              },
            },
          ]),
          e
        )
      })(),
      ot = (function (e) {
        function t(e, n, i) {
          var a
          return (
            se()(this, t),
            ((a = ce()(this, he()(t).call(this)))._shaderDefines = {}),
            (a.drawType = tt.TRIANGLES),
            (a.depthTest = !0),
            (a.depthWrite = !0),
            (a.blend = !1),
            (a.culling = tt.BACK),
            (a.blendFuncSeparate = !1),
            (a.renderer = e),
            (a.name = n),
            (a.shader = i),
            (a.id = t.staticId++),
            a.setDefaultBlending(),
            a
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'setActive',
              value: function () {
                if (
                  void 0 === this.shader.program ||
                  void 0 === this.shader.textureUniforms
                )
                  throw new Error(
                    'Trying to activate material but the associated shader is not yet initialized'
                  )
                this.renderer.renderState.setProgram(this.shader.program)
                for (var e = 0; e < this.shader.textureUniforms.length; e++)
                  this.shader.textureUniforms[e].bind()
                if (
                  this.renderer.renderState.material != this &&
                  ((this.renderer.renderState.material = this),
                  this.renderer.renderState.setDepthTest(this.depthTest),
                  this.renderer.renderState.setDepthMask(this.depthWrite),
                  this.depthFunc &&
                    this.renderer.renderState.setDepthFunc(this.depthFunc),
                  this.renderer.renderState.setCulling(this.culling),
                  this.renderer.renderState.setBlendEnabled(this.blend),
                  this.blend)
                )
                  if (
                    (this.renderer.renderState.setBlendEquation(
                      this.blendEquation
                    ),
                    this.blendFuncSeparate)
                  ) {
                    if (
                      void 0 === this.sourceBlendRGB ||
                      void 0 === this.destinationBlendRGB ||
                      void 0 === this.sourceBlendAlpha ||
                      void 0 === this.destinationBlendAlpha
                    )
                      throw new ReferenceError(
                        'expected blend properties to be set'
                      )
                    this.renderer.renderState.setBlendFuncSeparate(
                      this.sourceBlendRGB,
                      this.destinationBlendRGB,
                      this.sourceBlendAlpha,
                      this.destinationBlendAlpha
                    )
                  } else
                    this.renderer.renderState.setBlendFunc(
                      this.sourceBlend,
                      this.destinationBlend
                    )
              },
            },
            {
              key: 'setDefaultBlending',
              value: function () {
                ;(this.depthTest = !0),
                  (this.depthWrite = !0),
                  (this.blend = !1),
                  (this.blendEquation = tt.FUNC_ADD),
                  (this.sourceBlend = tt.ZERO),
                  (this.destinationBlend = tt.ONE)
              },
            },
            {
              key: 'setAlphaBlending',
              value: function () {
                ;(this.depthWrite = !1),
                  (this.depthTest = !0),
                  (this.blend = !0),
                  (this.blendEquation = tt.FUNC_ADD),
                  this.setBlendUnified(tt.SRC_ALPHA, tt.ONE_MINUS_SRC_ALPHA)
              },
            },
            {
              key: 'setPreMultipliedAlphaBlending',
              value: function () {
                ;(this.depthWrite = !1),
                  (this.depthTest = !0),
                  (this.blend = !0),
                  (this.blendEquation = tt.FUNC_ADD),
                  this.setBlendUnified(tt.ONE, tt.ONE_MINUS_SRC_ALPHA)
              },
            },
            {
              key: 'setMaxBlending',
              value: function () {
                ;(this.depthWrite = !1),
                  (this.depthTest = !1),
                  (this.blend = !0),
                  (this.blendEquation = 32776),
                  (this.sourceBlend = tt.ONE),
                  (this.destinationBlend = tt.ONE),
                  this.setBlendUnified(tt.ONE, tt.ONE)
              },
            },
            {
              key: 'setAdditiveBlending',
              value: function () {
                ;(this.depthWrite = !1),
                  (this.depthTest = !0),
                  (this.blend = !0),
                  (this.blendEquation = tt.FUNC_ADD),
                  this.setBlendUnified(tt.ONE, tt.ONE)
              },
            },
            {
              key: 'setMultiplyBlending',
              value: function () {
                ;(this.depthWrite = !1),
                  (this.depthTest = !0),
                  (this.blend = !0),
                  (this.blendEquation = tt.FUNC_ADD),
                  this.setBlendUnified(tt.ZERO, tt.SRC_COLOR)
              },
            },
            {
              key: 'setSubtractiveBlending',
              value: function () {
                ;(this.depthWrite = !1),
                  (this.depthTest = !1),
                  (this.blend = !0),
                  (this.blendEquation = tt.FUNC_SUBTRACT),
                  this.setBlendUnified(tt.ONE, tt.ONE_MINUS_SRC_ALPHA)
              },
            },
            {
              key: 'setBlendUnified',
              value: function (e, t) {
                ;(this.blendFuncSeparate = !1),
                  (this.sourceBlend = e),
                  (this.destinationBlend = t)
              },
            },
            {
              key: 'setBlendSeparate',
              value: function (e, t, n, i) {
                ;(this.blendFuncSeparate = !0),
                  (this.sourceBlendRGB = e),
                  (this.sourceBlendAlpha = n),
                  (this.destinationBlendRGB = t),
                  (this.destinationBlendAlpha = i)
              },
            },
            {
              key: 'setCullingBackFace',
              value: function () {
                this.culling = tt.BACK
              },
            },
            {
              key: 'setCullingFrontFace',
              value: function () {
                this.culling = tt.FRONT
              },
            },
            {
              key: 'setCullingDisabled',
              value: function () {
                this.culling = tt.NONE
              },
            },
            {
              key: 'setDrawTypePoints',
              value: function () {
                this.drawType = tt.POINTS
              },
            },
            {
              key: 'setDrawTypeLines',
              value: function () {
                this.drawType = tt.LINES
              },
            },
            {
              key: 'setDrawTypeLineStrip',
              value: function () {
                this.drawType = tt.LINE_STRIP
              },
            },
            {
              key: 'setDrawTypeTriangles',
              value: function () {
                this.drawType = tt.TRIANGLES
              },
            },
            {
              key: 'setDrawTypeTriangleFan',
              value: function () {
                this.drawType = tt.TRIANGLE_FAN
              },
            },
            {
              key: 'setDrawTypeTriangleStrip',
              value: function () {
                this.drawType = tt.TRIANGLE_STRIP
              },
            },
            {
              key: 'setFloat',
              value: function (e, t) {
                var n = this.getLoc(e)
                n &&
                  (this.renderer.renderState.setProgram(this.shader.program),
                  this.renderer.context.uniform1f(n, t))
              },
            },
            {
              key: 'setInt',
              value: function (e, t) {
                var n = this.getLoc(e)
                n &&
                  (this.renderer.renderState.setProgram(this.shader.program),
                  this.renderer.context.uniform1i(n, t))
              },
            },
            {
              key: 'setFloats',
              value: function (e) {
                var t =
                    arguments.length > 1 && void 0 !== arguments[1]
                      ? arguments[1]
                      : 0,
                  n =
                    arguments.length > 2 && void 0 !== arguments[2]
                      ? arguments[2]
                      : 0,
                  i =
                    arguments.length > 3 && void 0 !== arguments[3]
                      ? arguments[3]
                      : 0,
                  a =
                    arguments.length > 4 && void 0 !== arguments[4]
                      ? arguments[4]
                      : 0,
                  r = this.getLoc(e)
                r &&
                  (this.renderer.renderState.setProgram(this.shader.program),
                  this.renderer.context.uniform4f(r, t, n, i, a))
              },
            },
            {
              key: 'setShaderVector',
              value: function (e, t) {
                var n = this.renderer.context,
                  i = this.getLoc(e)
                if (i)
                  switch (
                    (this.renderer.renderState.setProgram(this.shader.program),
                    t.length)
                  ) {
                    case 1:
                      n.uniform1f(i, t[0])
                      break
                    case 2:
                      n.uniform2f(i, t[0], t[1])
                      break
                    case 3:
                      n.uniform3f(i, t[0], t[1], t[2])
                      break
                    case 4:
                      n.uniform4f(i, t[0], t[1], t[2], t[3])
                  }
              },
            },
            {
              key: 'setMatrix',
              value: function (e, t) {
                var n = this.getLoc(e)
                n &&
                  (this.renderer.renderState.setProgram(this.shader.program),
                  this.renderer.context.uniformMatrix4fv(n, !1, t))
              },
            },
            {
              key: 'setMatrix3x3',
              value: function (e, t) {
                var n = this.getLoc(e)
                n &&
                  (this.renderer.renderState.setProgram(this.shader.program),
                  this.renderer.context.uniformMatrix3fv(n, !1, t))
              },
            },
            {
              key: 'setMatrix2x2',
              value: function (e, t) {
                var n = this.getLoc(e)
                n &&
                  (this.renderer.renderState.setProgram(this.shader.program),
                  this.renderer.context.uniformMatrix2fv(n, !1, t))
              },
            },
            {
              key: 'setMatrixArray',
              value: function (e, t) {
                for (var n = 0; n < t.length; n++) {
                  var i = e + '[' + n + ']'
                  this.setMatrix(i, t[n])
                }
              },
            },
            {
              key: 'setMatrixArray2',
              value: function (e, t) {
                var n = this.getLoc(e)
                n &&
                  (this.renderer.renderState.setProgram(this.shader.program),
                  this.renderer.context.uniformMatrix4fv(n, !1, t))
              },
            },
            {
              key: 'setMatrixFloatArray',
              value: function (e, t) {
                var n = this.getLoc(e)
                n &&
                  (this.renderer.renderState.setProgram(this.shader.program),
                  this.renderer.context.uniformMatrix4fv(n, !1, t))
              },
            },
            {
              key: 'setTexture',
              value: function (e, t) {
                if (!this.shader)
                  throw new ReferenceError('Material has no Shader')
                var n = this.shader.getTextureUniformByName(e)
                n && n.set(t)
              },
            },
            {
              key: 'setFloat32Array',
              value: function (e, t) {
                var n = this.getLoc(e)
                n &&
                  (this.renderer.renderState.setProgram(this.shader.program),
                  this.renderer.context.uniform1fv(n, t))
              },
            },
            {
              key: 'setInt32Array',
              value: function (e, t) {
                var n = this.getLoc(e)
                n &&
                  (this.renderer.renderState.setProgram(this.shader.program),
                  this.renderer.context.uniform1iv(n, t))
              },
            },
            {
              key: 'setColor',
              value: function (e, t) {
                var n = this.getLoc(e)
                n &&
                  (this.renderer.renderState.setProgram(this.shader.program),
                  this.renderer.context.uniform4f(n, t.r, t.g, t.b, t.a))
              },
            },
            {
              key: 'setVector3',
              value: function (e, t) {
                var n = this.getLoc(e)
                n &&
                  (this.renderer.renderState.setProgram(this.shader.program),
                  this.renderer.context.uniform3fv(n, t.v))
              },
            },
            {
              key: 'setVector3Array',
              value: function (e, t) {
                var n = this.getLoc(e)
                n &&
                  (this.renderer.renderState.setProgram(this.shader.program),
                  this.renderer.context.uniform3fv(n, t))
              },
            },
            {
              key: 'setVector2',
              value: function (e, t) {
                var n = this.getLoc(e)
                n &&
                  (this.renderer.renderState.setProgram(this.shader.program),
                  this.renderer.context.uniform2fv(n, t.v))
              },
            },
            {
              key: 'setVector2Array',
              value: function (e, t) {
                var n = this.getLoc(e)
                n &&
                  (this.renderer.renderState.setProgram(this.shader.program),
                  this.renderer.context.uniform2fv(n, t))
              },
            },
            {
              key: 'setVector4',
              value: function (e, t) {
                var n = this.getLoc(e)
                n &&
                  (this.renderer.renderState.setProgram(this.shader.program),
                  this.renderer.context.uniform4fv(n, t.v))
              },
            },
            {
              key: 'setVector4Array',
              value: function (e, t) {
                var n = this.getLoc(e)
                n &&
                  (this.renderer.renderState.setProgram(this.shader.program),
                  this.renderer.context.uniform4fv(n, t))
              },
            },
            {
              key: 'getLoc',
              value: function (e) {
                var t = this.shader.uniformLocations[e]
                if (!1 !== t && !t) {
                  if (!this.shader)
                    throw new ReferenceError('Material has no Shader')
                  if (!this.shader.program)
                    throw new ReferenceError(
                      'Material shader has not yet been initialized'
                    )
                  if (
                    (this.renderer.renderState.setProgram(this.shader.program),
                    (t = this.renderer.context.getUniformLocation(
                      this.shader.program,
                      e
                    )))
                  )
                    return (this.shader.uniformLocations[e] = t), t
                  ;(this.shader.uniformLocations[e] = !1),
                    Ye.log('uniform not present in shader: ', this.name, e)
                }
                return t
              },
            },
            {
              key: 'hasUniform',
              value: function (e) {
                if (!this.shader)
                  throw new ReferenceError('Material has no Shader')
                return !!this.shader.uniformLocations[e]
              },
            },
            {
              key: 'addFloatUniform',
              value: function (e) {
                var t =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : 0
                return new at(this, e, t)
              },
            },
            {
              key: 'addVector2Uniform',
              value: function (e) {
                var t =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : new je()
                return new rt(this, e, t)
              },
            },
            {
              key: 'addVector3Uniform',
              value: function (e) {
                var t =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : new it()
                return new st(this, e, t)
              },
            },
            {
              key: 'addShaderDefines',
              value: function () {
                for (
                  var e = arguments.length, t = new Array(e), n = 0;
                  n < e;
                  n++
                )
                  t[n] = arguments[n]
                for (var i = 0; i < t.length; i++) {
                  var a = t[i] instanceof Array ? t[i][0] : t[i],
                    r = t[i] instanceof Array ? t[i][1] : 1
                  void 0 == this._shaderDefines[a] &&
                    (this._shaderDefines[a] = r)
                }
              },
            },
            {
              key: 'getShaderDefines',
              value: function () {
                return this._shaderDefines
              },
            },
            {
              key: 'clearShaderDefines',
              value: function () {
                this._shaderDefines = []
              },
            },
            {
              key: 'destruct',
              value: function () {
                this.isDestructed || this.shader.destruct(),
                  ge()(he()(t.prototype), 'destruct', this).call(this)
              },
            },
          ]),
          t
        )
      })(Ge)
    ot.staticId = 0
    var lt = ot,
      ut = function e(t, n, i) {
        se()(this, e), (this.name = t), (this.stride = n), (this.loc = i)
      },
      ct = (function () {
        function e(t, n, i, a) {
          if (
            (se()(this, e),
            (this.name = n),
            (this._samplerIndex = a),
            !t.program)
          )
            throw new ReferenceError(
              'Cannot construct TextureUniform from shader: shader is not yet initialized.'
            )
          t.renderer.renderState.setProgram(t.program),
            t.renderer.context.uniform1i(i, a)
        }
        return (
          le()(e, [
            {
              key: 'set',
              value: function (e) {
                this._texture = e
              },
            },
            {
              key: 'bind',
              value: function () {
                this._texture && this._texture.bindToSlot(this._samplerIndex)
              },
            },
          ]),
          e
        )
      })(),
      dt = function e() {
        se()(this, e)
      }
    ;(dt.READ_BUFFER = 3074),
      (dt.UNPACK_ROW_LENGTH = 3314),
      (dt.UNPACK_SKIP_ROWS = 3315),
      (dt.UNPACK_SKIP_PIXELS = 3316),
      (dt.PACK_ROW_LENGTH = 3330),
      (dt.PACK_SKIP_ROWS = 3331),
      (dt.PACK_SKIP_PIXELS = 3332),
      (dt.COLOR = 6144),
      (dt.DEPTH = 6145),
      (dt.STENCIL = 6146),
      (dt.RED = 6403),
      (dt.RGB8 = 32849),
      (dt.RGBA8 = 32856),
      (dt.RGB10_A2 = 32857),
      (dt.TEXTURE_BINDING_3D = 32874),
      (dt.UNPACK_SKIP_IMAGES = 32877),
      (dt.UNPACK_IMAGE_HEIGHT = 32878),
      (dt.TEXTURE_3D = 32879),
      (dt.TEXTURE_WRAP_R = 32882),
      (dt.MAX_3D_TEXTURE_SIZE = 32883),
      (dt.UNSIGNED_INT_2_10_10_10_REV = 33640),
      (dt.MAX_ELEMENTS_VERTICES = 33e3),
      (dt.MAX_ELEMENTS_INDICES = 33001),
      (dt.TEXTURE_MIN_LOD = 33082),
      (dt.TEXTURE_MAX_LOD = 33083),
      (dt.TEXTURE_BASE_LEVEL = 33084),
      (dt.TEXTURE_MAX_LEVEL = 33085),
      (dt.MIN = 32775),
      (dt.MAX = 32776),
      (dt.DEPTH_COMPONENT24 = 33190),
      (dt.MAX_TEXTURE_LOD_BIAS = 34045),
      (dt.TEXTURE_COMPARE_MODE = 34892),
      (dt.TEXTURE_COMPARE_FUNC = 34893),
      (dt.CURRENT_QUERY = 34917),
      (dt.QUERY_RESULT = 34918),
      (dt.QUERY_RESULT_AVAILABLE = 34919),
      (dt.STREAM_READ = 35041),
      (dt.STREAM_COPY = 35042),
      (dt.STATIC_READ = 35045),
      (dt.STATIC_COPY = 35046),
      (dt.DYNAMIC_READ = 35049),
      (dt.DYNAMIC_COPY = 35050),
      (dt.MAX_DRAW_BUFFERS = 34852),
      (dt.DRAW_BUFFER0 = 34853),
      (dt.DRAW_BUFFER1 = 34854),
      (dt.DRAW_BUFFER2 = 34855),
      (dt.DRAW_BUFFER3 = 34856),
      (dt.DRAW_BUFFER4 = 34857),
      (dt.DRAW_BUFFER5 = 34858),
      (dt.DRAW_BUFFER6 = 34859),
      (dt.DRAW_BUFFER7 = 34860),
      (dt.DRAW_BUFFER8 = 34861),
      (dt.DRAW_BUFFER9 = 34862),
      (dt.DRAW_BUFFER10 = 34863),
      (dt.DRAW_BUFFER11 = 34864),
      (dt.DRAW_BUFFER12 = 34865),
      (dt.DRAW_BUFFER13 = 34866),
      (dt.DRAW_BUFFER14 = 34867),
      (dt.DRAW_BUFFER15 = 34868),
      (dt.MAX_FRAGMENT_UNIFORM_COMPONENTS = 35657),
      (dt.MAX_VERTEX_UNIFORM_COMPONENTS = 35658),
      (dt.SAMPLER_3D = 35679),
      (dt.SAMPLER_2D_SHADOW = 35682),
      (dt.FRAGMENT_SHADER_DERIVATIVE_HINT = 35723),
      (dt.PIXEL_PACK_BUFFER = 35051),
      (dt.PIXEL_UNPACK_BUFFER = 35052),
      (dt.PIXEL_PACK_BUFFER_BINDING = 35053),
      (dt.PIXEL_UNPACK_BUFFER_BINDING = 35055),
      (dt.FLOAT_MAT2x3 = 35685),
      (dt.FLOAT_MAT2x4 = 35686),
      (dt.FLOAT_MAT3x2 = 35687),
      (dt.FLOAT_MAT3x4 = 35688),
      (dt.FLOAT_MAT4x2 = 35689),
      (dt.FLOAT_MAT4x3 = 35690),
      (dt.SRGB = 35904),
      (dt.SRGB8 = 35905),
      (dt.SRGB8_ALPHA8 = 35907),
      (dt.COMPARE_REF_TO_TEXTURE = 34894),
      (dt.RGBA32F = 34836),
      (dt.RGB32F = 34837),
      (dt.RGBA16F = 34842),
      (dt.RGB16F = 34843),
      (dt.VERTEX_ATTRIB_ARRAY_INTEGER = 35069),
      (dt.MAX_ARRAY_TEXTURE_LAYERS = 35071),
      (dt.MIN_PROGRAM_TEXEL_OFFSET = 35076),
      (dt.MAX_PROGRAM_TEXEL_OFFSET = 35077),
      (dt.MAX_VARYING_COMPONENTS = 35659),
      (dt.TEXTURE_2D_ARRAY = 35866),
      (dt.TEXTURE_BINDING_2D_ARRAY = 35869),
      (dt.R11F_G11F_B10F = 35898),
      (dt.UNSIGNED_INT_10F_11F_11F_REV = 35899),
      (dt.RGB9_E5 = 35901),
      (dt.UNSIGNED_INT_5_9_9_9_REV = 35902),
      (dt.TRANSFORM_FEEDBACK_BUFFER_MODE = 35967),
      (dt.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS = 35968),
      (dt.TRANSFORM_FEEDBACK_VARYINGS = 35971),
      (dt.TRANSFORM_FEEDBACK_BUFFER_START = 35972),
      (dt.TRANSFORM_FEEDBACK_BUFFER_SIZE = 35973),
      (dt.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN = 35976),
      (dt.RASTERIZER_DISCARD = 35977),
      (dt.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS = 35978),
      (dt.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS = 35979),
      (dt.INTERLEAVED_ATTRIBS = 35980),
      (dt.SEPARATE_ATTRIBS = 35981),
      (dt.TRANSFORM_FEEDBACK_BUFFER = 35982),
      (dt.TRANSFORM_FEEDBACK_BUFFER_BINDING = 35983),
      (dt.RGBA32UI = 36208),
      (dt.RGB32UI = 36209),
      (dt.RGBA16UI = 36214),
      (dt.RGB16UI = 36215),
      (dt.RGBA8UI = 36220),
      (dt.RGB8UI = 36221),
      (dt.RGBA32I = 36226),
      (dt.RGB32I = 36227),
      (dt.RGBA16I = 36232),
      (dt.RGB16I = 36233),
      (dt.RGBA8I = 36238),
      (dt.RGB8I = 36239),
      (dt.RED_INTEGER = 36244),
      (dt.RGB_INTEGER = 36248),
      (dt.RGBA_INTEGER = 36249),
      (dt.SAMPLER_2D_ARRAY = 36289),
      (dt.SAMPLER_2D_ARRAY_SHADOW = 36292),
      (dt.SAMPLER_CUBE_SHADOW = 36293),
      (dt.UNSIGNED_INT_VEC2 = 36294),
      (dt.UNSIGNED_INT_VEC3 = 36295),
      (dt.UNSIGNED_INT_VEC4 = 36296),
      (dt.INT_SAMPLER_2D = 36298),
      (dt.INT_SAMPLER_3D = 36299),
      (dt.INT_SAMPLER_CUBE = 36300),
      (dt.INT_SAMPLER_2D_ARRAY = 36303),
      (dt.UNSIGNED_INT_SAMPLER_2D = 36306),
      (dt.UNSIGNED_INT_SAMPLER_3D = 36307),
      (dt.UNSIGNED_INT_SAMPLER_CUBE = 36308),
      (dt.UNSIGNED_INT_SAMPLER_2D_ARRAY = 36311),
      (dt.DEPTH_COMPONENT32F = 36012),
      (dt.DEPTH32F_STENCIL8 = 36013),
      (dt.FLOAT_32_UNSIGNED_INT_24_8_REV = 36269),
      (dt.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING = 33296),
      (dt.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE = 33297),
      (dt.FRAMEBUFFER_ATTACHMENT_RED_SIZE = 33298),
      (dt.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE = 33299),
      (dt.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE = 33300),
      (dt.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE = 33301),
      (dt.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE = 33302),
      (dt.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE = 33303),
      (dt.FRAMEBUFFER_DEFAULT = 33304),
      (dt.DEPTH_STENCIL_ATTACHMENT = 33306),
      (dt.DEPTH_STENCIL = 34041),
      (dt.UNSIGNED_INT_24_8 = 34042),
      (dt.DEPTH24_STENCIL8 = 35056),
      (dt.UNSIGNED_NORMALIZED = 35863),
      (dt.DRAW_FRAMEBUFFER_BINDING = 36006),
      (dt.READ_FRAMEBUFFER = 36008),
      (dt.DRAW_FRAMEBUFFER = 36009),
      (dt.READ_FRAMEBUFFER_BINDING = 36010),
      (dt.RENDERBUFFER_SAMPLES = 36011),
      (dt.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER = 36052),
      (dt.MAX_COLOR_ATTACHMENTS = 36063),
      (dt.COLOR_ATTACHMENT1 = 36065),
      (dt.COLOR_ATTACHMENT2 = 36066),
      (dt.COLOR_ATTACHMENT3 = 36067),
      (dt.COLOR_ATTACHMENT4 = 36068),
      (dt.COLOR_ATTACHMENT5 = 36069),
      (dt.COLOR_ATTACHMENT6 = 36070),
      (dt.COLOR_ATTACHMENT7 = 36071),
      (dt.COLOR_ATTACHMENT8 = 36072),
      (dt.COLOR_ATTACHMENT9 = 36073),
      (dt.COLOR_ATTACHMENT10 = 36074),
      (dt.COLOR_ATTACHMENT11 = 36075),
      (dt.COLOR_ATTACHMENT12 = 36076),
      (dt.COLOR_ATTACHMENT13 = 36077),
      (dt.COLOR_ATTACHMENT14 = 36078),
      (dt.COLOR_ATTACHMENT15 = 36079),
      (dt.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE = 36182),
      (dt.MAX_SAMPLES = 36183),
      (dt.HALF_FLOAT = 5131),
      (dt.RG = 33319),
      (dt.RG_INTEGER = 33320),
      (dt.R8 = 33321),
      (dt.RG8 = 33323),
      (dt.R16F = 33325),
      (dt.R32F = 33326),
      (dt.RG16F = 33327),
      (dt.RG32F = 33328),
      (dt.R8I = 33329),
      (dt.R8UI = 33330),
      (dt.R16I = 33331),
      (dt.R16UI = 33332),
      (dt.R32I = 33333),
      (dt.R32UI = 33334),
      (dt.RG8I = 33335),
      (dt.RG8UI = 33336),
      (dt.RG16I = 33337),
      (dt.RG16UI = 33338),
      (dt.RG32I = 33339),
      (dt.RG32UI = 33340),
      (dt.VERTEX_ARRAY_BINDING = 34229),
      (dt.R8_SNORM = 36756),
      (dt.RG8_SNORM = 36757),
      (dt.RGB8_SNORM = 36758),
      (dt.RGBA8_SNORM = 36759),
      (dt.SIGNED_NORMALIZED = 36764),
      (dt.COPY_READ_BUFFER = 36662),
      (dt.COPY_WRITE_BUFFER = 36663),
      (dt.COPY_READ_BUFFER_BINDING = 36662),
      (dt.COPY_WRITE_BUFFER_BINDING = 36663),
      (dt.UNIFORM_BUFFER = 35345),
      (dt.UNIFORM_BUFFER_BINDING = 35368),
      (dt.UNIFORM_BUFFER_START = 35369),
      (dt.UNIFORM_BUFFER_SIZE = 35370),
      (dt.MAX_VERTEX_UNIFORM_BLOCKS = 35371),
      (dt.MAX_FRAGMENT_UNIFORM_BLOCKS = 35373),
      (dt.MAX_COMBINED_UNIFORM_BLOCKS = 35374),
      (dt.MAX_UNIFORM_BUFFER_BINDINGS = 35375),
      (dt.MAX_UNIFORM_BLOCK_SIZE = 35376),
      (dt.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS = 35377),
      (dt.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS = 35379),
      (dt.UNIFORM_BUFFER_OFFSET_ALIGNMENT = 35380),
      (dt.ACTIVE_UNIFORM_BLOCKS = 35382),
      (dt.UNIFORM_TYPE = 35383),
      (dt.UNIFORM_SIZE = 35384),
      (dt.UNIFORM_BLOCK_INDEX = 35386),
      (dt.UNIFORM_OFFSET = 35387),
      (dt.UNIFORM_ARRAY_STRIDE = 35388),
      (dt.UNIFORM_MATRIX_STRIDE = 35389),
      (dt.UNIFORM_IS_ROW_MAJOR = 35390),
      (dt.UNIFORM_BLOCK_BINDING = 35391),
      (dt.UNIFORM_BLOCK_DATA_SIZE = 35392),
      (dt.UNIFORM_BLOCK_ACTIVE_UNIFORMS = 35394),
      (dt.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES = 35395),
      (dt.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER = 35396),
      (dt.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER = 35398),
      (dt.INVALID_INDEX = 4294967295),
      (dt.MAX_VERTEX_OUTPUT_COMPONENTS = 37154),
      (dt.MAX_FRAGMENT_INPUT_COMPONENTS = 37157),
      (dt.MAX_SERVER_WAIT_TIMEOUT = 37137),
      (dt.OBJECT_TYPE = 37138),
      (dt.SYNC_CONDITION = 37139),
      (dt.SYNC_STATUS = 37140),
      (dt.SYNC_FLAGS = 37141),
      (dt.SYNC_FENCE = 37142),
      (dt.SYNC_GPU_COMMANDS_COMPLETE = 37143),
      (dt.UNSIGNALED = 37144),
      (dt.SIGNALED = 37145),
      (dt.ALREADY_SIGNALED = 37146),
      (dt.TIMEOUT_EXPIRED = 37147),
      (dt.CONDITION_SATISFIED = 37148),
      (dt.WAIT_FAILED = 37149),
      (dt.SYNC_FLUSH_COMMANDS_BIT = 1),
      (dt.VERTEX_ATTRIB_ARRAY_DIVISOR = 35070),
      (dt.ANY_SAMPLES_PASSED = 35887),
      (dt.ANY_SAMPLES_PASSED_CONSERVATIVE = 36202),
      (dt.SAMPLER_BINDING = 35097),
      (dt.RGB10_A2UI = 36975),
      (dt.INT_2_10_10_10_REV = 36255),
      (dt.TRANSFORM_FEEDBACK = 36386),
      (dt.TRANSFORM_FEEDBACK_PAUSED = 36387),
      (dt.TRANSFORM_FEEDBACK_ACTIVE = 36388),
      (dt.TRANSFORM_FEEDBACK_BINDING = 36389),
      (dt.TEXTURE_IMMUTABLE_FORMAT = 37167),
      (dt.MAX_ELEMENT_INDEX = 36203),
      (dt.TEXTURE_IMMUTABLE_LEVELS = 33503)
    var ht = dt,
      ft = (function (e) {
        function t(e) {
          var n,
            i =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : {}
          return (
            se()(this, t),
            ((n = ce()(this, he()(t).call(this))).uniformLocations = {}),
            (n.id = t.staticId),
            t.staticId++,
            (n.renderer = e),
            (n.shaderDefines = i),
            n
          )
        }
        return (
          pe()(t, e),
          le()(
            t,
            [
              {
                key: 'load',
                value: function (e, t, n) {
                  var i = this
                  Promise.all([
                    t.loadAssetByName(''.concat(e, '.vs.glsl')),
                    t.loadAssetByName(''.concat(e, '.fs.glsl')),
                  ]).then(function (a) {
                    i.loadIncludes(a, t, function (t) {
                      i.init(e, t[0], t[1], n)
                    })
                  })
                },
              },
              {
                key: 'loadIncludes',
                value: function (e, t, n) {
                  for (
                    var i = this, a = /^#include\s+(\S+)/, r = [], s = 0;
                    s < e.length;
                    s++
                  )
                    for (var o = e[s].split('\n'), l = 0; l < o.length; l++) {
                      var u = o[l]
                      u = u.trim()
                      var c
                      null !== (c = a.exec(u)) && r.push([c[1], c])
                    }
                  if (r.length) {
                    for (var d = [], h = 0; h < r.length; h++) d[h] = r[h][0]
                    Promise.all(
                      d.map(function (e) {
                        return t.loadAssetByPath(e)
                      })
                    ).then(function (a) {
                      for (var s = 0; s < e.length; s++)
                        for (var o = 0; o < r.length; o++)
                          e[s] = e[s].replace(
                            r[o][1][0],
                            '\n\n///// Start ' +
                              d[o] +
                              '\n\n' +
                              a[o] +
                              '\n\n///// End ' +
                              d[o] +
                              '\n\n'
                          )
                      i.loadIncludes(e, t, n)
                    })
                  } else n.call(this, e)
                },
              },
              {
                key: 'init',
                value: function (e, n, i) {
                  var a =
                    arguments.length > 3 && void 0 !== arguments[3]
                      ? arguments[3]
                      : null
                  if (((this.name = e), this.shaderDefines)) {
                    var r = ''
                    for (var s in this.shaderDefines)
                      r += '#define ' + s + ' ' + this.shaderDefines[s] + '\n'
                    Ye.log('adding defines: ', this.name, r),
                      (n = r + n),
                      (i = r + i)
                  }
                  ;(n = t.stripUniformDuplicates(n)),
                    (i = t.stripUniformDuplicates(i)),
                    (n = this.renderer.preprocessShaderString(n)),
                    (i = this.renderer.preprocessShaderString(i))
                  var o = this.renderer.context,
                    l = this.compileShader(o, n, o.VERTEX_SHADER),
                    u = this.compileShader(o, i, o.FRAGMENT_SHADER)
                  return (
                    (this.program = this.LinkProgram(o, l, u)),
                    this.getUniforms(o, this.program),
                    this.getAttributes(o, this.program),
                    a && a.call(this),
                    this
                  )
                },
              },
              {
                key: 'compileShader',
                value: function (e, t, n) {
                  var i = e.createShader(n)
                  if (
                    (e.shaderSource(i, t),
                    e.compileShader(i),
                    e.getShaderParameter(i, e.COMPILE_STATUS))
                  )
                    return i
                  var a = e.getShaderInfoLog(i)
                  if (a) {
                    Ye.error(
                      'compileShader: error: ' + this.name,
                      (n === tt.VERTEX_SHADER ? 'vs' : 'fs') + ' \n' + a
                    ),
                      console.log(
                        '%c compileShader: ' +
                          this.name +
                          (n === tt.VERTEX_SHADER ? ' vs' : ' fs'),
                        'background: #fff0f0; color: red'
                      ),
                      console.log(a)
                    for (
                      var r = /ERROR: (\d+):(\d+):/,
                        s = a.split('\n'),
                        o = [],
                        l = 0;
                      l < s.length;
                      l++
                    ) {
                      var u,
                        c = s[l]
                      null !== (u = r.exec(c)) &&
                        (o[parseInt(u[2], 10) - 1] = c)
                    }
                    s = t.split('\n')
                    var d = []
                    d[0] = ''
                    for (var h = 0; h < s.length; h++)
                      (d[0] += '%c' + s[h] + '\n'),
                        (d[h + 1] = o[h]
                          ? 'background: #fff0f0; color: red'
                          : 'background: white; color: black'),
                        o[h] && (d[0] += ' --\x3e ' + o[h] + '\n')
                    console.log.apply(console, d),
                      console.log(
                        '%c compileShader: ' +
                          this.name +
                          (n === tt.VERTEX_SHADER ? ' vs' : ' fs'),
                        'background: #fff0f0; color: red'
                      )
                  }
                  throw new Error('unable to compile shader')
                },
              },
              {
                key: 'LinkProgram',
                value: function (e, t, n) {
                  var i = e.createProgram()
                  if (
                    (e.attachShader(i, t),
                    e.attachShader(i, n),
                    e.linkProgram(i),
                    e.getProgramParameter(i, e.LINK_STATUS))
                  )
                    return i
                  throw (
                    (console.log('LinkProgram', this.name),
                    new Error('Program link error:\n' + e.getProgramInfoLog(i)))
                  )
                },
              },
              {
                key: 'getUniforms',
                value: function (e, t) {
                  var n = e.getProgramParameter(t, e.ACTIVE_UNIFORMS)
                  ;(this.textureUniforms = []), (this.uniformLocations = {})
                  for (var i = 0, a = 0; a < n; a++) {
                    var r = e.getActiveUniform(t, a),
                      s = e.getUniformLocation(this.program, r.name)
                    ;(this.uniformLocations[r.name] = s),
                      (r.type !== tt.SAMPLER_2D &&
                        r.type !== tt.SAMPLER_CUBE &&
                        r.type !== ht.SAMPLER_3D) ||
                        (this.textureUniforms.push(new ct(this, r.name, s, i)),
                        i++)
                  }
                },
              },
              {
                key: 'getAttributes',
                value: function (e, n) {
                  var i = e.getProgramParameter(n, e.ACTIVE_ATTRIBUTES)
                  this.attributes = []
                  for (var a = 0; a < i; a++) {
                    var r = e.getActiveAttrib(n, a),
                      s = e.getAttribLocation(this.program, r.name),
                      o = t.getStride(r.type)
                    this.attributes.push(new ut(r.name, o, s))
                  }
                },
              },
              {
                key: 'getAttributeByName',
                value: function (e) {
                  if (this.attributes)
                    for (var t = 0; t < this.attributes.length; t++)
                      if (this.attributes[t].name === e)
                        return this.attributes[t]
                  return null
                },
              },
              {
                key: 'getTextureUniformByName',
                value: function (e) {
                  if (this.textureUniforms)
                    for (var t = 0; t < this.textureUniforms.length; t++)
                      if (this.textureUniforms[t].name === e)
                        return this.textureUniforms[t]
                  return null
                },
              },
              {
                key: 'destruct',
                value: function () {
                  ge()(he()(t.prototype), 'destruct', this).call(this)
                },
              },
            ],
            [
              {
                key: 'stripUniformDuplicates',
                value: function (e) {
                  for (
                    var t = '',
                      n = {},
                      i = /^uniform\s+(\S*)\s+(\S*);/,
                      a = e.split('\n'),
                      r = 0;
                    r < a.length;
                    r++
                  ) {
                    var s = a[r]
                    s = s.trim()
                    var o
                    if (null !== (o = i.exec(s))) {
                      var l = o[2]
                      n[l] && (s = '// ' + s), (n[l] = !0)
                    }
                    t += s + '\n'
                  }
                  return t
                },
              },
              {
                key: 'getStride',
                value: function (e) {
                  switch (e) {
                    case tt.FLOAT:
                      return 1
                    case tt.FLOAT_VEC2:
                      return 2
                    case tt.FLOAT_VEC3:
                      return 3
                    case tt.FLOAT_VEC4:
                      return 4
                    default:
                      return Ye.error('attribute type not handled: ' + e), -1
                  }
                },
              },
            ]
          ),
          t
        )
      })(Ge)
    ft.staticId = 0
    var pt = ft,
      vt = (function (e) {
        function t(e, n, i) {
          var a
          return (
            se()(this, t),
            ((a = ce()(this, he()(t).call(this, e, i, new pt(e)))).shaderIndex =
              e.shaderIndex),
            (a.shaderName = i),
            n.add(Ne()(a)),
            a
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'load',
              value: function (e) {
                var t = this
                ;(this.shader.shaderDefines = this.getShaderDefines()),
                  this.shader.load(
                    this.shaderName,
                    this.shaderIndex,
                    function () {
                      e.call(t)
                    }
                  )
              },
            },
          ]),
          t
        )
      })(lt),
      mt = (function (e) {
        function t(e) {
          var n
          return (
            se()(this, t),
            ((n = ce()(this, he()(t).call(this)))._depthMask = !0),
            (n._depthTest = !0),
            (n._depthFunc = -1),
            (n._culling = -1),
            (n._cullingEnabled = !0),
            (n._blendEquation = -1),
            (n._blendEnabled = !0),
            (n._sourceBlend = -1),
            (n._destinationBlend = -1),
            (n._renderer = e),
            n.setBlendEnabled(!n._blendEnabled),
            n.setCullingEnabled(!n._cullingEnabled),
            n.setDepthMask(!n._depthMask),
            n.setDepthTest(!n._depthTest),
            (n.enabledAttribArrays = []),
            (n._textureSlots = []),
            n
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'bindTextureToSlot',
              value: function (e) {
                var t =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : 0
                this._textureSlots[t] != e &&
                  (this._renderer.context.activeTexture(tt.TEXTURE0 + t),
                  this._renderer.context.bindTexture(tt.TEXTURE_2D, e),
                  (this._textureSlots[t] = e))
              },
            },
            {
              key: 'bindTexture3DToSlot',
              value: function (e) {
                var t =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : 0
                this._textureSlots[t] != e &&
                  (this._renderer.context.activeTexture(tt.TEXTURE0 + t),
                  this._renderer.context.bindTexture(ht.TEXTURE_3D, e),
                  (this._textureSlots[t] = e))
              },
            },
            {
              key: 'bindCubeTextureToSlot',
              value: function (e) {
                var t =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : 0
                this._textureSlots[t] != e &&
                  (this._renderer.context.activeTexture(tt.TEXTURE0 + t),
                  this._renderer.context.bindTexture(tt.TEXTURE_CUBE_MAP, e),
                  (this._textureSlots[t] = e))
              },
            },
            {
              key: 'setProgram',
              value: function (e) {
                return (
                  e != this._program &&
                  ((this._program = e),
                  this._renderer.context.useProgram(this._program),
                  !0)
                )
              },
            },
            {
              key: 'setDepthMask',
              value: function (e) {
                e != this._depthMask &&
                  (this._renderer.context.depthMask(e), (this._depthMask = e))
              },
            },
            {
              key: 'getDepthMask',
              value: function () {
                return this._depthMask
              },
            },
            {
              key: 'setDepthTest',
              value: function (e) {
                e != this._depthTest &&
                  (e
                    ? this._renderer.context.enable(tt.DEPTH_TEST)
                    : this._renderer.context.disable(tt.DEPTH_TEST),
                  (this._depthTest = e))
              },
            },
            {
              key: 'setDepthFunc',
              value: function (e) {
                e != this._depthFunc &&
                  (e
                    ? this._renderer.context.depthFunc(e)
                    : this._renderer.context.depthFunc(
                        this._renderer.context.LESS
                      ),
                  (this._depthFunc = e))
              },
            },
            {
              key: 'setCullingEnabled',
              value: function (e) {
                e != this._cullingEnabled &&
                  (e
                    ? this._renderer.context.enable(tt.CULL_FACE)
                    : this._renderer.context.disable(tt.CULL_FACE),
                  (this._cullingEnabled = e))
              },
            },
            {
              key: 'setCulling',
              value: function (e) {
                e != this._culling &&
                  (e == tt.NONE
                    ? this.setCullingEnabled(!1)
                    : (this.setCullingEnabled(!0),
                      this._renderer.context.cullFace(e)),
                  (this._culling = e))
              },
            },
            {
              key: 'setBlendEquation',
              value: function (e) {
                e != this._blendEquation &&
                  (this._renderer.context.blendEquation(e),
                  (this._blendEquation = e))
              },
            },
            {
              key: 'setBlendEnabled',
              value: function (e) {
                e != this._blendEnabled &&
                  (e
                    ? this._renderer.context.enable(tt.BLEND)
                    : this._renderer.context.disable(tt.BLEND),
                  (this._blendEnabled = e))
              },
            },
            {
              key: 'setBlendFunc',
              value: function (e, t) {
                ;(e == this._sourceBlend && t == this._destinationBlend) ||
                  (this._renderer.context.blendFunc(e, t),
                  (this._sourceBlend = e),
                  (this._destinationBlend = t))
              },
            },
            {
              key: 'setBlendFuncSeparate',
              value: function (e, t, n, i) {
                this._renderer.context.blendFuncSeparate(e, t, n, i),
                  (this._sourceBlend = -1)
              },
            },
          ]),
          t
        )
      })(Ge),
      _t = (function () {
        function e() {
          se()(this, e), (this.maxAnisotropy = 0)
        }
        return (
          le()(
            e,
            [
              {
                key: 'enableExtensions',
                value: function (t) {
                  ;(this.color_buffer_float =
                    e.enableExtension(t, 'WEBGL_color_buffer_float') ||
                    e.enableExtension(t, 'EXT_color_buffer_float')),
                    (this.color_buffer_half_float = e.enableExtension(
                      t,
                      'EXT_color_buffer_half_float'
                    )),
                    (this.texture_float = e.enableExtension(
                      t,
                      'OES_texture_float'
                    )),
                    (this.texture_float_linear = e.enableExtension(
                      t,
                      'OES_texture_float_linear'
                    )),
                    (this.texture_half_float = e.enableExtension(
                      t,
                      'OES_texture_half_float'
                    )),
                    (this.texture_half_float_linear = e.enableExtension(
                      t,
                      'OES_texture_half_float_linear'
                    )),
                    (this.shader_texture_lod = e.enableExtension(
                      t,
                      'EXT_shader_texture_lod'
                    )),
                    (this.standard_derivatives = e.enableExtension(
                      t,
                      'OES_standard_derivatives'
                    )),
                    (this.blend_minmax = e.enableExtension(
                      t,
                      'EXT_blend_minmax'
                    )),
                    (this.seamless_cube_map = e.enableExtension(
                      t,
                      'OES_seamless_cube_map'
                    )),
                    (this.vertex_array_object = e.enableExtension(
                      t,
                      'OES_vertex_array_object'
                    )),
                    (this.filter_anisotropic = e.enableExtension(
                      t,
                      'texture_filter_anisotropic'
                    )),
                    this.filter_anisotropic ||
                      (this.filter_anisotropic = e.enableExtension(
                        t,
                        'MOZ_EXT_texture_filter_anisotropic'
                      )),
                    this.filter_anisotropic ||
                      (this.filter_anisotropic = e.enableExtension(
                        t,
                        'WEBKIT_EXT_texture_filter_anisotropic'
                      )),
                    this.filter_anisotropic &&
                      ((this.maxAnisotropy = t.getParameter(
                        this.filter_anisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT
                      )),
                      Ye.log(
                        'MAX_TEXTURE_MAX_ANISOTROPY_EXT: ',
                        this.maxAnisotropy
                      )),
                    (this.frag_depth = e.enableExtension(t, 'EXT_frag_depth')),
                    (this.depth_texture = e.enableExtension(
                      t,
                      'WEBGL_depth_texture'
                    )),
                    (this.element_index_uint = e.enableExtension(
                      t,
                      'OES_element_index_uint'
                    )),
                    this.enableTextureCompression(t)
                },
              },
              {
                key: 'enableTextureCompression',
                value: function (t) {
                  var n = e.enableExtension(
                    t,
                    'WEBKIT_WEBGL_compressed_texture_s3tc'
                  )
                  if (n) {
                    var i = t.getParameter(t.COMPRESSED_TEXTURE_FORMATS)
                    if (i.length > 0)
                      for (var a in i)
                        i[a] === n.COMPRESSED_RGB_S3TC_DXT1_EXT &&
                          Ye.log(
                            'support found for texture compression: RGB_S3TC_DXT1'
                          ),
                          i[a] === n.COMPRESSED_RGBA_S3TC_DXT1_EXT &&
                            Ye.log(
                              'support found for texture compression: RGBA_S3TC_DXT1'
                            ),
                          i[a] === n.COMPRESSED_RGBA_S3TC_DXT3_EXT &&
                            Ye.log(
                              'support found for texture compression: RGBA_S3TC_DXT3'
                            ),
                          i[a] === n.COMPRESSED_RGBA_S3TC_DXT5_EXT &&
                            Ye.log(
                              'support found for texture compression: RGBA_S3TC_DXT5'
                            )
                    else Ye.log('no support found for texture compression ')
                  }
                },
              },
              {
                key: 'getMinMaxSupported',
                value: function () {
                  return null !== this.blend_minmax
                },
              },
            ],
            [
              {
                key: 'enableExtension',
                value: function (e, t) {
                  var n = e.getExtension(t)
                  return (
                    n
                      ? Ye.log('enabled extension ' + t)
                      : Ye.log('extension ' + t + ' is not supported'),
                    n
                  )
                },
              },
            ]
          ),
          e
        )
      })(),
      gt = (function () {
        function e() {
          se()(this, e)
        }
        return (
          le()(e, null, [
            {
              key: 'cacheIsPathRequested',
              value: function (t) {
                return e._clientCache[t]
              },
            },
            {
              key: 'cacheRegisterRequested',
              value: function (t, n) {
                e._clientCache[t] = n
              },
            },
            {
              key: 'cacheRegisterCallback',
              value: function (t, n) {
                e._clientCacheCallbacks[t] || (e._clientCacheCallbacks[t] = []),
                  e._clientCacheCallbacks[t].push(n)
              },
            },
            {
              key: 'cacheRequestDone',
              value: function (t, n) {
                var i = e._clientCacheCallbacks[t]
                if (i) for (var a = 0; a < i.length; a++) i[a](n)
                ;(e._clientCacheCallbacks[t] = null), (e._clientCache[t] = !1)
              },
            },
            {
              key: 'cacheRequestError',
              value: function (t) {
                var n = e._clientCacheCallbacks[t]
                if (n) for (var i = 0; i < n.length; i++) n[i](null)
                ;(e._clientCacheCallbacks[t] = null), (e._clientCache[t] = !1)
              },
            },
            {
              key: 'loadText',
              value: function (t, n) {
                if (
                  (e.cacheRegisterCallback(t, n), !e.cacheIsPathRequested(t))
                ) {
                  var i = new XMLHttpRequest()
                  e.cacheRegisterRequested(t, i),
                    (i.onreadystatechange = function (n) {
                      4 === i.readyState &&
                        (200 === i.status
                          ? e.cacheRequestDone(t, i.responseText)
                          : e.cacheRequestError(t))
                    }),
                    i.open('GET', t, !0),
                    i.send()
                }
              },
            },
            {
              key: 'loadArrayBuffer',
              value: function (t, n) {
                if (
                  (e.cacheRegisterCallback(t, n), !e.cacheIsPathRequested(t))
                ) {
                  var i = new XMLHttpRequest()
                  e.cacheRegisterRequested(t, i),
                    i.open('GET', t, !0),
                    (i.responseType = 'arraybuffer'),
                    i.send(),
                    (i.onreadystatechange = function (n) {
                      4 === i.readyState && e.cacheRequestDone(t, i.response)
                    })
                }
              },
            },
            {
              key: 'loadImage',
              value: function (t, n) {
                if ((e.cacheRegisterCallback(t, n), e.cacheIsPathRequested(t)))
                  return e.cacheIsPathRequested(t)
                var i = new Image()
                return (
                  e.cacheRegisterRequested(t, i),
                  (i.crossOrigin = 'Anonymous'),
                  (i.onload = function () {
                    e.cacheRequestDone(t, i)
                  }),
                  (i.onerror = function () {
                    console.log('TextureLoader: could not load image', t),
                      e.cacheRequestDone(t, i)
                  }),
                  (i.src = t),
                  i
                )
              },
            },
            {
              key: 'loadMultipleImages',
              value: function (t, n) {
                for (
                  var i = this,
                    a = t.length,
                    r = [],
                    s = function (e) {
                      return function (t) {
                        a--, (r[e] = t), 0 === a && n.call(i, r)
                      }
                    },
                    o = 0;
                  o < t.length;
                  ++o
                )
                  e.loadImage(t[o], s(o))
              },
            },
            {
              key: 'loadSingleFromRequireContext',
              value: function (e, t) {
                return new Promise(function (n, i) {
                  var a
                  try {
                    a = e('./'.concat(t.replace(/^\.\//, '')))
                  } catch (r) {
                    i(r)
                  }
                  'function' === typeof a ? a(n) : n(a)
                })
              },
            },
            {
              key: 'loadFromRequireContext',
              value: function (t, n, i) {
                Promise.all(
                  n.map(function (n) {
                    return e.loadSingleFromRequireContext(t, n)
                  })
                ).then(function (e) {
                  return i(e)
                })
              },
            },
            {
              key: 'loadMultipleTexts',
              value: function (t, n) {
                for (
                  var i = this,
                    a = t.length,
                    r = [],
                    s = function (e) {
                      return function (t) {
                        a--, (r[e] = t), 0 === a && n.apply(i, r)
                      }
                    },
                    o = 0;
                  o < t.length;
                  ++o
                )
                  e.loadText(t[o], s(o))
              },
            },
          ]),
          e
        )
      })()
    ;(gt._clientCache = {}), (gt._clientCacheCallbacks = {})
    var yt = (function () {
        function e() {
          se()(this, e),
            (this.webpackContexts = []),
            (this.assetNameMap = {}),
            (this.assetPathMap = {})
        }
        return (
          le()(e, [
            {
              key: 'loadAssetByPath',
              value: function (e) {
                var t = this.getAssetByPath(e)
                return gt.loadSingleFromRequireContext(t.webpackContext, t.path)
              },
            },
            {
              key: 'getAssetByPath',
              value: function (e) {
                var t = './'.concat(e.replace(/^\.\//, ''))
                if ('undefined' === typeof this.assetPathMap[t])
                  throw new ReferenceError(
                    'Could not find asset with path '
                      .concat(e, '. Available paths: \n')
                      .concat(Object.keys(this.assetPathMap).join('\n'))
                  )
                return {
                  webpackContext: this.webpackContexts[this.assetPathMap[t]],
                  path: t,
                }
              },
            },
            {
              key: 'loadAssetByName',
              value: function (e) {
                var t = this.getAssetByName(e)
                return gt.loadSingleFromRequireContext(t.webpackContext, t.path)
              },
            },
            {
              key: 'getAssetByName',
              value: function (e) {
                if ('undefined' === typeof this.assetNameMap[e])
                  throw new ReferenceError(
                    'Could not find asset with name "'
                      .concat(e, '". Available assets: \n')
                      .concat(Object.keys(this.assetNameMap.vs).join(', '))
                  )
                return {
                  webpackContext: this.webpackContexts[
                    this.assetNameMap[e].contextIndex
                  ],
                  path: this.assetNameMap[e].path,
                }
              },
            },
            {
              key: 'addContext',
              value: function (e) {
                var t = this
                if (!(this.webpackContexts.indexOf(e) >= 0)) {
                  var n = this.webpackContexts.length
                  this.webpackContexts.push(e),
                    e.keys().forEach(function (e) {
                      var i = e.match(/([^\\\/]+)$/)
                      if (i) {
                        if (t.assetNameMap[i[1]]) {
                          var a = t.webpackContexts[
                            t.assetNameMap[i[1]].contextIndex
                          ].resolve(t.assetNameMap[i[1]].path)
                          console.warn(
                            'WARNING: found asset "'
                              .concat(e, '" but another asset with the name "')
                              .concat(i[1], '" was already found at "')
                              .concat(a, '"')
                          )
                        }
                        t.assetNameMap[i[1]] = { contextIndex: n, path: e }
                      }
                      t.assetPathMap[e] = n
                    })
                }
              },
            },
          ]),
          e
        )
      })(),
      Tt = (function (e) {
        function t(e, n, i, a, r, s) {
          var o
          return (
            se()(this, t),
            ((o = ce()(this, he()(t).call(this))).data = null),
            (o.vertexCount = -1),
            (o._renderer = e),
            (o.stride = a),
            (o.name = n),
            (o.storeData = r),
            (o.vertexCount = i.length / a),
            s
              ? ((o.buffer = o._renderer.context.createBuffer()),
                o.setData(i, r))
              : (o.data = i),
            o
          )
        }
        return (
          pe()(t, e),
          le()(
            t,
            [
              {
                key: 'setData',
                value: function (e, t) {
                  if (
                    (t || !this.buffer ? (this.data = e) : (this.data = null),
                    0 === e.length)
                  )
                    throw 'VertexAttribute: no data: probably a mesh file could not be loaded'
                  if (this.buffer) {
                    var n = this._renderer.context
                    n.bindBuffer(tt.ARRAY_BUFFER, this.buffer),
                      n.bufferData(
                        tt.ARRAY_BUFFER,
                        e.byteLength,
                        tt.STATIC_DRAW
                      ),
                      n.bufferSubData(tt.ARRAY_BUFFER, 0, e)
                  }
                },
              },
              {
                key: 'getBufferLength',
                value: function () {
                  if (this.data) return this.data.length
                  if (!this.buffer)
                    throw new ReferenceError(
                      'Cannot get buffer length: no buffer set on VertextAttribute'
                    )
                  var e = this._renderer.context
                  return (
                    e.bindBuffer(tt.ARRAY_BUFFER, this.buffer),
                    e.getBufferParameter(tt.ARRAY_BUFFER, tt.BUFFER_SIZE) / 4
                  )
                },
              },
              {
                key: 'destruct',
                value: function () {
                  if (!this.isDestructed) {
                    var e = this._renderer.context
                    this.buffer && e.deleteBuffer(this.buffer),
                      (this.data = null),
                      ge()(he()(t.prototype), 'destruct', this).call(this)
                  }
                },
              },
            ],
            [
              {
                key: 'serialize',
                value: function (e) {
                  return null === e.data
                    ? (console.error(
                        'Trying to serialize vertex attribute ' +
                          e.name +
                          ' without saved data'
                      ),
                      {})
                    : {
                        name: e.name,
                        data: e.data,
                        stride: e.stride,
                        storeData: e.storeData,
                      }
                },
              },
              {
                key: 'deserialize',
                value: function (e) {
                  return {
                    name: e.name,
                    data: e.data,
                    stride: e.stride,
                    storeData: e.storeData,
                  }
                },
              },
            ]
          ),
          t
        )
      })(Ge),
      Et = function e(t, n) {
        se()(this, e), (this.name = t), (this.stride = n)
      }
    ;(Et.POSITION = new Et('aPos', 3)),
      (Et.TEXCOORD0 = new Et('aUV0', 2)),
      (Et.TEXCOORD1 = new Et('aUV1', 2)),
      (Et.NORMAL = new Et('aNormal', 3)),
      (Et.COLOR0 = new Et('aColor0', 3)),
      (Et.COLOR1 = new Et('aColor1', 3)),
      (Et.TANGENT = new Et('aTangent', 4))
    var bt = Et,
      Ct = (function (e) {
        function t(e) {
          var n,
            i =
              !(arguments.length > 1 && void 0 !== arguments[1]) ||
              arguments[1],
            a = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]
          return (
            se()(this, t),
            ((n = ce()(this, he()(t).call(this)))._vertexCount = 0),
            (n._isInterleavedBufferDirty = !0),
            (n._attributeNames = {}),
            (n.renderer = e),
            (n.attributes = []),
            (n._vertexCount = 0),
            (n.id = t.id++),
            (n.interleaved = i),
            (n.isDynamic = a),
            n
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'setJSONData',
              value: function (e) {
                var t =
                  arguments.length > 1 &&
                  void 0 !== arguments[1] &&
                  arguments[1]
                ;(this.animatorId = e.animatorId),
                  (this.isDynamic = e.isDynamic || !1),
                  e.indices &&
                    e.indices.length > 0 &&
                    (e.use32BitIndices
                      ? this.setIndices32(new Uint32Array(e.indices))
                      : this.setIndices(new Uint16Array(e.indices)))
                for (var n = 0; n < e.attributes.length; n++) {
                  var i = e.attributes[n]
                  this.setAttribute(
                    i.name,
                    i.stride,
                    new Float32Array(i.data),
                    t
                  )
                }
              },
            },
            {
              key: 'clone',
              value: function () {
                for (
                  var e = new t(
                      this.renderer,
                      this.interleaved,
                      this.isDynamic
                    ),
                    n = 0;
                  n < this.attributes.length;
                  n++
                )
                  e.attributes.push(this.attributes[n])
                return (e._vertexCount = this._vertexCount), e
              },
            },
            {
              key: 'interleaveData',
              value: function () {
                if (this._isInterleavedBufferDirty && this.interleaved) {
                  this.interleavedStrideSum = 0
                  for (var e = 0; e < this.attributes.length; e++)
                    this.interleavedStrideSum += this.attributes[e].stride
                  for (
                    var t = new Float32Array(
                        this.interleavedStrideSum * this._vertexCount
                      ),
                      n = 0,
                      i = 0;
                    i < this._vertexCount;
                    i++
                  )
                    for (var a = 0; a < this.attributes.length; a++)
                      for (var r = this.attributes[a], s = 0; s < r.stride; s++)
                        t[n++] = r.data[i * r.stride + s]
                  for (var o = 0; o < this.attributes.length; o++)
                    this.attributes[o].storeData ||
                      (this.attributes[o].data = null)
                  this.interleavedBuffer = this.renderer.context.createBuffer()
                  var l = this.renderer.context
                  l.bindBuffer(tt.ARRAY_BUFFER, this.interleavedBuffer),
                    l.bufferData(tt.ARRAY_BUFFER, t, l.STATIC_DRAW),
                    (this._isInterleavedBufferDirty = !1),
                    Ye.log('Mesh: finalize', this.attributes.length)
                }
              },
            },
            {
              key: 'isInterleaved',
              value: function () {
                return this.interleaved
              },
            },
            {
              key: 'hasIndices',
              value: function () {
                return !!this.indices
              },
            },
            {
              key: 'setAttribute',
              value: function (e, t, n) {
                var i =
                  arguments.length > 3 &&
                  void 0 !== arguments[3] &&
                  arguments[3]
                this.setData(n, e, t, i)
              },
            },
            {
              key: 'setPositions',
              value: function (e) {
                var t =
                    arguments.length > 1 &&
                    void 0 !== arguments[1] &&
                    arguments[1],
                  n = bt.POSITION
                this.setData(e, n.name, n.stride, t)
              },
            },
            {
              key: 'getPositions',
              value: function () {
                return this.getData(bt.POSITION.name)
              },
            },
            {
              key: 'setNormals',
              value: function (e) {
                var t =
                    arguments.length > 1 &&
                    void 0 !== arguments[1] &&
                    arguments[1],
                  n = bt.NORMAL
                this.setData(e, n.name, n.stride, t)
              },
            },
            {
              key: 'getNormals',
              value: function () {
                return this.getData(bt.NORMAL.name)
              },
            },
            {
              key: 'setColors',
              value: function (e) {
                var t = bt.COLOR0
                this.setData(e, t.name, t.stride)
              },
            },
            {
              key: 'getColors',
              value: function () {
                return this.getData(bt.COLOR0.name)
              },
            },
            {
              key: 'setColors1',
              value: function (e) {
                var t = bt.COLOR1
                this.setData(e, t.name, t.stride)
              },
            },
            {
              key: 'getColors1',
              value: function () {
                return this.getData(bt.COLOR1.name)
              },
            },
            {
              key: 'setUV0',
              value: function (e) {
                var t =
                    arguments.length > 1 &&
                    void 0 !== arguments[1] &&
                    arguments[1],
                  n = bt.TEXCOORD0
                this.setData(e, n.name, n.stride, t)
              },
            },
            {
              key: 'getUV0',
              value: function () {
                return this.getData(bt.TEXCOORD0.name)
              },
            },
            {
              key: 'setUV1',
              value: function (e) {
                var t =
                    arguments.length > 1 &&
                    void 0 !== arguments[1] &&
                    arguments[1],
                  n = bt.TEXCOORD1
                this.setData(e, n.name, n.stride, t)
              },
            },
            {
              key: 'getUV1',
              value: function () {
                return this.getData(bt.TEXCOORD1.name)
              },
            },
            {
              key: 'setTangents',
              value: function (e) {
                var t =
                    arguments.length > 1 &&
                    void 0 !== arguments[1] &&
                    arguments[1],
                  n = bt.TANGENT
                this.setData(e, n.name, n.stride, t)
              },
            },
            {
              key: 'getTangents',
              value: function () {
                return this.getData(bt.TANGENT.name)
              },
            },
            {
              key: 'setData',
              value: function (e, t, n) {
                var i =
                  arguments.length > 3 &&
                  void 0 !== arguments[3] &&
                  arguments[3]
                this._attributeNames = {}
                var a = this.getAttributeIndex(t),
                  r = e.length / n
                a < 0
                  ? this.attributes.push(
                      new Tt(this.renderer, t, e, n, i, !this.interleaved)
                    )
                  : this.attributes[a].vertexCount == r
                  ? this.attributes[a].setData(e, i)
                  : (this.attributes[a].destruct(),
                    (this.attributes[a] = new Tt(
                      this.renderer,
                      t,
                      e,
                      n,
                      i,
                      !this.interleaved
                    ))),
                  (this._vertexCount = r),
                  this.interleaved && (this._isInterleavedBufferDirty = !0)
              },
            },
            {
              key: 'deleteAttribute',
              value: function (e) {
                var t = this.getAttributeIndex(e)
                t >= 0 && this.attributes.splice(t, 1),
                  (this._isInterleavedBufferDirty = !0),
                  (this._attributeNames = {})
              },
            },
            {
              key: 'hasAttribute',
              value: function (e) {
                var t = this._attributeNames[e]
                if (!0 === t || !1 === t) return t
                var n = this.getAttributeIndex(e)
                return (
                  (this._attributeNames[e] = n >= 0), this._attributeNames[e]
                )
              },
            },
            {
              key: 'getAttribute',
              value: function (e) {
                var t = this.getAttributeIndex(e)
                return t >= 0 ? this.attributes[t] : null
              },
            },
            {
              key: 'getAttributeIndex',
              value: function (e) {
                for (var t = 0; t < this.attributes.length; t++)
                  if (this.attributes[t].name === e) return t
                return -1
              },
            },
            {
              key: 'getData',
              value: function (e) {
                var t = this.getAttribute(e)
                return t && t.data
                  ? t.data
                  : (Ye.log('Mesh: getData', e, 'no data'), null)
              },
            },
            {
              key: 'setIndices',
              value: function (e) {
                if (!(e instanceof Uint16Array))
                  throw 'Indices need to be of type Uint16Array'
                ;(this.indexType = tt.UNSIGNED_SHORT), (this.indices = e)
                var t = this.renderer.context
                this.indexBuffer || (this.indexBuffer = t.createBuffer()),
                  t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, this.indexBuffer),
                  t.bufferData(
                    t.ELEMENT_ARRAY_BUFFER,
                    this.indices,
                    t.STATIC_DRAW
                  )
              },
            },
            {
              key: 'setIndices32',
              value: function (e) {
                if (!(e instanceof Uint32Array))
                  throw 'Indices need to be of type Uint32Array'
                if (
                  this.renderer.extensionManager.element_index_uint ||
                  this.renderer.context instanceof WebGL2RenderingContext
                ) {
                  ;(this.indexType = tt.UNSIGNED_INT), (this.indices = e)
                  var t = this.renderer.context
                  this.indexBuffer || (this.indexBuffer = t.createBuffer()),
                    t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, this.indexBuffer),
                    t.bufferData(
                      t.ELEMENT_ARRAY_BUFFER,
                      this.indices,
                      t.STATIC_DRAW
                    )
                } else
                  Ye.log(
                    'mesh: setIndices32: extension not supported: element_index_uint: using 16 bits indices'
                  ),
                    this.setIndices(new Uint16Array(e))
              },
            },
            {
              key: 'getNumVertices',
              value: function () {
                return this._vertexCount
              },
            },
            {
              key: 'isSkinned',
              value: function () {
                return this.hasAttribute('aSkinIndex')
              },
            },
            {
              key: 'destruct',
              value: function () {
                if (!this.isDestructed) {
                  this.renderer.destructVAO(this)
                  var e = this.renderer.context
                  if (
                    (this.interleavedBuffer &&
                      e.deleteBuffer(this.interleavedBuffer),
                    this.indexBuffer && e.deleteBuffer(this.indexBuffer),
                    this.attributes)
                  )
                    for (var n = 0; n < this.attributes.length; n++)
                      this.attributes[n].destruct()
                  ge()(he()(t.prototype), 'destruct', this).call(this)
                }
              },
            },
          ]),
          t
        )
      })(Ge)
    Ct.id = 0
    var At = Ct,
      It = (function () {
        function e() {
          se()(this, e)
        }
        return (
          le()(e, null, [
            {
              key: 'posMod',
              value: function (e, t) {
                return ((e % t) + t) % t
              },
            },
            {
              key: 'fract',
              value: function (e) {
                return e - Math.floor(e)
              },
            },
            {
              key: 'lerp',
              value: function (e, t, n) {
                return (1 - n) * e + n * t
              },
            },
            {
              key: 'map',
              value: function (t, n, i) {
                return e.clamp01((i - t) / (n - t))
              },
            },
            {
              key: 'inverseLerp',
              value: function (t, n, i) {
                return e.map(t, n, i)
              },
            },
            {
              key: 'clamp01',
              value: function (e) {
                return e < 0 ? 0 : e > 1 ? 1 : e
              },
            },
            {
              key: 'gain01',
              value: function (e, t) {
                return e > 0.5
                  ? 1 - 0.5 * Math.pow(2 - 2 * e, t)
                  : 0.5 * Math.pow(2 * e, t)
              },
            },
            {
              key: 'smootherStep01',
              value: function (e) {
                return e * e * e * (e * (6 * e - 15) + 10)
              },
            },
            {
              key: 'smoothStep01',
              value: function (t) {
                return (t = e.clamp(t, 0, 1)) * t * (3 - 2 * t)
              },
            },
            {
              key: 'invSmoothStep01',
              value: function (e) {
                return e + (e - e * e * (3 - 2 * e))
              },
            },
            {
              key: 'smoothStep',
              value: function (t, n, i) {
                return (i = e.clamp((i - t) / (n - t), 0, 1)) * i * (3 - 2 * i)
              },
            },
            {
              key: 'step',
              value: function (t, n, i) {
                return e.clamp01((i - t) / (n - t))
              },
            },
            {
              key: 'nearestPowerOfTwo',
              value: function (e) {
                return Math.pow(2, Math.round(Math.log(e) / Math.log(2)))
              },
            },
            {
              key: 'smallerPowerOfTwo',
              value: function (e) {
                return Math.pow(2, Math.floor(Math.log(e) / Math.log(2)))
              },
            },
            {
              key: 'clamp',
              value: function (e, t, n) {
                return Math.min(Math.max(e, t), n)
              },
            },
            {
              key: 'degToRad',
              value: function (e) {
                return e * (Math.PI / 180)
              },
            },
            {
              key: 'radToDeg',
              value: function (e) {
                return e * (180 / Math.PI)
              },
            },
            {
              key: 'latLongToCartesian',
              value: function (e, t, n, i) {
                var a = this.degToRad(t),
                  r = this.degToRad(n) + Math.PI
                return (
                  (e.z = i * Math.cos(a) * Math.cos(r)),
                  (e.x = i * Math.cos(a) * Math.sin(r)),
                  (e.y = i * Math.sin(a)),
                  e
                )
              },
            },
          ]),
          e
        )
      })(),
      kt = (function () {
        function e() {
          se()(this, e),
            (this.averageFps = 60),
            (this._manualUpdate = !1),
            e._instance &&
              alert('do not create additional instances of the time class'),
            (this.fps = 60),
            (this.deltaTime = 1 / this.fps),
            (this.time = 0),
            this.update()
        }
        return (
          le()(
            e,
            [
              {
                key: 'updateManual',
                value: function () {
                  ;(this._manualUpdate = !0), this.updateDeltaTime()
                },
              },
              {
                key: 'update',
                value: function () {
                  var e = this
                  this._manualUpdate ||
                    (this.updateDeltaTime(),
                    window.requestAnimationFrame(function (t) {
                      return e.update()
                    }))
                },
              },
              {
                key: 'updateDeltaTime',
                value: function () {
                  var e = performance.now()
                  ;(this.deltaTime = 0.001 * e - this.time),
                    this.deltaTime > 0.05 && (this.deltaTime = 0.05),
                    0 === this.deltaTime && (this.deltaTime = 1 / 60),
                    (this.time = 0.001 * e),
                    (this.fps = 1 / this.deltaTime),
                    this.averageFps > 0
                      ? (this.averageFps = It.lerp(
                          this.fps,
                          this.averageFps,
                          0.95
                        ))
                      : (this.averageFps = 1 / 60)
                },
              },
              {
                key: 'testPerformance',
                value: function (e) {
                  console.time('timer0'),
                    e.call(this),
                    console.timeEnd('timer0')
                },
              },
            ],
            [
              {
                key: 'getInstance',
                value: function () {
                  return e._instance || (e._instance = new e()), e._instance
                },
              },
            ]
          ),
          e
        )
      })(),
      Rt = function e() {
        se()(this, e),
          (this.down = !1),
          (this.downThisFrame = !1),
          (this.upThisFrame = !1),
          (this.downByTouch = !1),
          (this.clickCanceled = !1),
          (this.downTime = 0)
      },
      Mt = (function (e) {
        function t(e) {
          var n
          se()(this, t),
            ((n = ce()(this, he()(t).call(this)))._mousePos = new je()),
            (n._previousMousePos = new je()),
            (n._mouseVelocity = new je()),
            (n._normalized = new je()),
            (n._screen = new je()),
            (n._wheelCallbacks = []),
            (n._mouseClickCallbacks = []),
            (n._mouseDownCallbacks = []),
            (n._mouseEndCallbacks = []),
            (n._mouseActiveCallbacks = []),
            (n._buttons = []),
            (n._manualUpdate = !1),
            (n._resetSpeed = !1),
            (n._preventDefault = !1),
            (n._mouseActive = !0),
            (n._touchStartListener = function (e) {
              n._preventDefault && e.preventDefault(),
                (n._resetSpeed = !0),
                n.mouseDown(0),
                (n._buttons[0].downByTouch = !0),
                n.setMousePosition(e.targetTouches[0])
              for (var t = 0; t < n._mouseDownCallbacks.length; t++)
                n._mouseDownCallbacks[t].call(Ne()(n))
            }),
            (n._touchMoveListener = function (e) {
              n.setMousePosition(e.targetTouches[0]),
                n._preventDefault && e.preventDefault()
              for (var t = 0; t < 3; t++)
                n._buttons[t].downTime > 0.25 &&
                  (n._buttons[t].clickCanceled = !0)
            }),
            (n._activeListener = function () {
              for (var e = 0; e < n._mouseActiveCallbacks.length; e++)
                n._mouseActiveCallbacks[e].call(Ne()(n))
            }),
            (n._endListener = function () {
              for (var e = 0; e < n._buttons.length; e++)
                (n._buttons[e].down = !1),
                  (n._buttons[e].downThisFrame = !1),
                  (n._buttons[e].downByTouch = !1)
              for (var t = 0; t < n._mouseEndCallbacks.length; t++)
                n._mouseEndCallbacks[t].call(Ne()(n))
            }),
            (n._mouseDownListener = function (e) {
              n._preventDefault && e.preventDefault(),
                n.mouseDown(e.which - 1),
                n.setMousePosition(e)
              for (var t = 0; t < n._mouseDownCallbacks.length; t++)
                n._mouseDownCallbacks[t].call(Ne()(n))
            }),
            (n._mouseMoveListener = function (e) {
              n.setMousePosition(e), n._preventDefault && e.preventDefault()
              for (var t = 0; t < 3; t++)
                n._buttons[t].downTime > 0.25 &&
                  (n._buttons[t].clickCanceled = !0)
            }),
            (n._mouseWheelListener = function (e) {
              for (var t = 0; t < n._wheelCallbacks.length; t++)
                n._wheelCallbacks[t].call(Ne()(n), Math.sign(-e.deltaY))
            }),
            (n._upListener = function () {
              if (((n._resetSpeed = !0), !n._buttons[0].clickCanceled))
                for (var e = 0; e < n._mouseClickCallbacks.length; e++)
                  n._mouseClickCallbacks[e].call(Ne()(n))
              for (var t = 0; t < n._buttons.length; t++)
                (n._buttons[t].down = !1),
                  (n._buttons[t].downThisFrame = !1),
                  (n._buttons[t].downByTouch = !1)
            }),
            (n._canvas = e)
          for (var i = 0; i < 3; i++) n._buttons.push(new Rt())
          return (
            n._canvas.addEventListener('touchstart', n._touchStartListener, !1),
            n._canvas.addEventListener('touchmove', n._touchMoveListener, {
              passive: !1,
            }),
            n._canvas.addEventListener('touchend', n._upListener, !1),
            n._canvas.addEventListener('touchcancel', n._endListener, !1),
            n._canvas.addEventListener('mousedown', n._mouseDownListener, !1),
            n._canvas.addEventListener('mousemove', n._mouseMoveListener, !1),
            n._canvas.addEventListener('mouseup', n._upListener, !1),
            n._canvas.addEventListener('mousecancel', n._endListener, !1),
            n._canvas.addEventListener('mouseout', n._endListener, !1),
            n._canvas.addEventListener('wheel', n._mouseWheelListener, !1),
            n.addMouseEndEvent(function () {
              n._mouseActive = !1
            }),
            n.addMouseActiveEvent(function () {
              n._mouseActive = !0
            }),
            n.updateLoop(),
            n
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'isActive',
              value: function () {
                return this._mouseActive
              },
            },
            {
              key: 'setPreventDefault',
              value: function (e) {
                this._preventDefault = e
              },
            },
            {
              key: 'mouseDown',
              value: function (e) {
                ;(this._resetSpeed = !0),
                  (this._buttons[e].down = !0),
                  (this._buttons[e].downThisFrame = !0),
                  (this._buttons[e].clickCanceled = !1),
                  (this._buttons[e].downByTouch = !1),
                  (this._buttons[e].downTime = 0)
              },
            },
            {
              key: 'addWheelEvent',
              value: function (e) {
                this._wheelCallbacks.push(e)
              },
            },
            {
              key: 'addMouseClickEvent',
              value: function (e) {
                this._mouseClickCallbacks.push(e)
              },
            },
            {
              key: 'addMouseDownEvent',
              value: function (e) {
                this._mouseDownCallbacks.push(e)
              },
            },
            {
              key: 'addMouseEndEvent',
              value: function (e) {
                this._mouseEndCallbacks.push(e)
              },
            },
            {
              key: 'addMouseActiveEvent',
              value: function (e) {
                this._mouseActiveCallbacks.push(e)
              },
            },
            {
              key: 'setMousePosition',
              value: function (e) {
                ;(this._mousePos.x = e.pageX),
                  (this._mousePos.y = e.pageY),
                  this._activeListener()
              },
            },
            {
              key: 'getPixelPos',
              value: function () {
                return this._mousePos
              },
            },
            {
              key: 'getNormalizedPos',
              value: function () {
                return this._normalized
              },
            },
            {
              key: 'getScreenPos',
              value: function () {
                return this._screen
              },
            },
            {
              key: 'getNormalizedVelocity',
              value: function () {
                return this._mouseVelocity
              },
            },
            {
              key: 'getButton',
              value: function (e) {
                return this._buttons[e]
              },
            },
            {
              key: 'getMouseDown',
              value: function () {
                return this._buttons[0].down
              },
            },
            {
              key: 'getMouseDownThisFrame',
              value: function () {
                return this._buttons[0].downThisFrame
              },
            },
            {
              key: 'getMouseUpThisFrame',
              value: function () {
                return this._buttons[0].upThisFrame
              },
            },
            {
              key: 'getMouseDownRight',
              value: function () {
                return this._buttons[2].down
              },
            },
            {
              key: 'getMouseDownThisFrameRight',
              value: function () {
                return this._buttons[2].downThisFrame
              },
            },
            {
              key: 'updateManual',
              value: function () {
                ;(this._manualUpdate = !0), this.update()
              },
            },
            {
              key: 'updateLoop',
              value: function () {
                var e = this
                this.isDestructed ||
                  this._manualUpdate ||
                  (this.update(),
                  window.requestAnimationFrame(function () {
                    return e.updateLoop()
                  }))
              },
            },
            {
              key: 'update',
              value: function () {
                ;(this._normalized.x =
                  this._mousePos.x / this._canvas.clientWidth),
                  (this._normalized.y =
                    this._mousePos.y / this._canvas.clientHeight),
                  (this._screen.x = 2 * this._normalized.x - 1),
                  (this._screen.y = -(2 * this._normalized.y - 1)),
                  this._resetSpeed
                    ? ((this._resetSpeed = !1),
                      this._mouseVelocity.setValues(0, 0))
                    : ((this._mouseVelocity.x =
                        this._normalized.x - this._previousMousePos.x),
                      (this._mouseVelocity.y =
                        this._normalized.y - this._previousMousePos.y)),
                  this._previousMousePos.copy(this._normalized)
                for (var e = 0; e < 3; e++) {
                  var t = this._buttons[e]
                  t.downTime > 0 && (t.downThisFrame = !1),
                    t.down && (t.downTime += kt.getInstance().deltaTime),
                    !t.down && !t.clickCanceled && t.downTime > 0
                      ? ((t.upThisFrame = !0), (t.downTime = 0))
                      : (t.upThisFrame = !1)
                }
              },
            },
            {
              key: 'cancelClick',
              value: function () {
                for (var e = 0; e < this._buttons.length; e++)
                  this._buttons[e].clickCanceled = !0
              },
            },
            {
              key: 'destruct',
              value: function () {
                this._canvas &&
                  (this._canvas.removeEventListener(
                    'touchstart',
                    this._touchStartListener,
                    !1
                  ),
                  this._canvas.removeEventListener(
                    'touchmove',
                    this._touchMoveListener,
                    !1
                  ),
                  this._canvas.removeEventListener(
                    'touchend',
                    this._upListener,
                    !1
                  ),
                  this._canvas.removeEventListener(
                    'touchcancel',
                    this._endListener,
                    !1
                  ),
                  this._canvas.removeEventListener(
                    'mousedown',
                    this._mouseDownListener,
                    !1
                  ),
                  this._canvas.removeEventListener(
                    'mousemove',
                    this._mouseMoveListener,
                    !1
                  ),
                  this._canvas.removeEventListener(
                    'mouseend',
                    this._endListener,
                    !1
                  ),
                  this._canvas.removeEventListener(
                    'mousecancel',
                    this._endListener,
                    !1
                  ),
                  this._canvas.removeEventListener(
                    'mouseout',
                    this._endListener,
                    !1
                  ),
                  this._canvas.removeEventListener(
                    'wheel',
                    this._mouseWheelListener,
                    !1
                  ),
                  this._canvas.removeEventListener(
                    'mouseup',
                    this._upListener,
                    !1
                  )),
                  ge()(he()(t.prototype), 'destruct', this).call(this)
              },
            },
          ]),
          t
        )
      })(Ge),
      xt = n(956),
      St = (function (e) {
        function t(e, n, i, a, r) {
          var s,
            o = arguments.length > 5 && void 0 !== arguments[5] && arguments[5],
            l =
              !(arguments.length > 6 && void 0 !== arguments[6]) ||
              arguments[6],
            u = arguments.length > 7 && void 0 !== arguments[7] && arguments[7],
            c =
              !(arguments.length > 8 && void 0 !== arguments[8]) || arguments[8]
          if (
            (se()(this, t),
            ((s = ce()(this, he()(t).call(this))).active = !0),
            (s.textureCount = 0),
            (s.isWebgl2 = !1),
            (s._renderWidth = 1),
            (s._renderHeight = 1),
            (s._renderSize = new je()),
            (s.handleCanvasResize = function () {
              s.setRenderSize(s.getCanvas().width, s.getCanvas().height)
            }),
            (s.id = t._id++),
            null === a
              ? (s.shaderIndex = new yt())
              : 'function' === typeof a
              ? ((s.shaderIndex = new yt()), s.shaderIndex.addContext(a))
              : (s.shaderIndex = a),
            s.shaderIndex.addContext(xt),
            (s._canvas = n),
            (s.debouncedResize = ze()(s.handleCanvasResize, 150)),
            s._canvas.addEventListener('resize', s.debouncedResize),
            i === t.webgl2ContextName
              ? (s.isWebgl2 = !0)
              : o || s.getAlphaIsCorrect() || (o = !0),
            (s.context = s
              .getCanvas()
              .getContext(i, {
                alpha: o,
                stencil: u,
                preserveDrawingBuffer: !l,
                premultipliedAlpha: c,
                antialias: r,
              })),
            !s.context)
          )
            throw new Error('could not get a 3d context: aborting')
          return (
            (s.maxParams = new Ze(s.context)),
            (s.renderState = new mt(Ne()(s))),
            (t.staticExtensionManager = s.extensionManager = new _t()),
            s.extensionManager.enableExtensions(s.context),
            (s._copyTextureMaterial = new vt(Ne()(s), e, 'default')),
            (s._copyTextureMaterial.depthTest = !1),
            (s._copyTextureMaterial.depthWrite = !1),
            (s._clearColor = new Qe(0.5, 0.5, 0.5, 1)),
            (s._blitMesh = s.createTriangle()),
            s
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'getAlphaIsCorrect',
              value: function () {
                var e = document.createElement('canvas')
                ;(e.width = 1), (e.height = 1)
                var t = e.getContext('experimental-webgl', {
                  alpha: !1,
                  preserveDrawingBuffer: !1,
                })
                t.clearColor(1, 0, 0, 1),
                  t.clear(t.COLOR_BUFFER_BIT | t.DEPTH_BUFFER_BIT)
                var n = document.createElement('canvas').getContext('2d')
                n.drawImage(e, 0, 0)
                var i = 255 === n.getImageData(0, 0, 1, 1).data[3]
                return i || Ye.log('alpha bug detected'), i
              },
            },
            {
              key: 'init',
              value: function () {
                Ye.log('renderer: textureCount', this.textureCount),
                  this.unSetRenderTexture(),
                  this.handleCanvasResize()
              },
            },
            {
              key: 'getRenderContext',
              value: function () {
                throw new ReferenceError(
                  'GetRenderContext(): no implementation defined, no context available.'
                )
              },
            },
            {
              key: 'preprocessShaderString',
              value: function (e) {
                return e
              },
            },
            {
              key: 'draw',
              value: function (e, t) {
                arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
                  arguments.length > 3 &&
                    void 0 !== arguments[3] &&
                    arguments[3]
              },
            },
            { key: 'startBatch', value: function (e, t) {} },
            {
              key: 'drawElements',
              value: function (e, t) {
                arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
                  arguments.length > 3 &&
                    void 0 !== arguments[3] &&
                    arguments[3]
              },
            },
            { key: 'endBatch', value: function () {} },
            {
              key: 'createTriangle',
              value: function () {
                var e = new At(this),
                  t = new Float32Array([-1, -1, 0, -1, 3, 0, 3, -1, 0])
                e.setPositions(t)
                var n = new Float32Array([0, 0, 0, 2, 2, 0])
                e.setUV0(n)
                var i = new Uint16Array([0, 2, 1])
                return e.setIndices(i), e
              },
            },
            {
              key: 'getCanvas',
              value: function () {
                return this._canvas
              },
            },
            {
              key: 'getMouseListener',
              value: function () {
                return (
                  this._mouseListener ||
                    (this._mouseListener = new Mt(this.getCanvas())),
                  this._mouseListener
                )
              },
            },
            {
              key: 'getRenderWidth',
              value: function () {
                return this._renderWidth
              },
            },
            {
              key: 'getRenderHeight',
              value: function () {
                return this._renderHeight
              },
            },
            {
              key: 'getRenderSize',
              value: function () {
                return this._renderSize
              },
            },
            {
              key: 'enablePointsprites',
              value: function () {
                this.context.enable(34370)
              },
            },
            {
              key: 'blit',
              value: function () {
                var e =
                    arguments.length > 0 && void 0 !== arguments[0]
                      ? arguments[0]
                      : null,
                  t =
                    arguments.length > 1 && void 0 !== arguments[1]
                      ? arguments[1]
                      : null,
                  n =
                    arguments.length > 2 && void 0 !== arguments[2]
                      ? arguments[2]
                      : null,
                  i =
                    arguments.length > 3 &&
                    void 0 !== arguments[3] &&
                    arguments[3],
                  a = n || this._copyTextureMaterial
                t && this.setRenderTexture(t),
                  e && a.setTexture('uTexture', e),
                  i && this.clear(),
                  this.draw(this._blitMesh, a),
                  t && this.unSetRenderTexture()
              },
            },
            {
              key: 'setRenderTexture',
              value: function (e) {
                e.scaleToCanvas &&
                  e.setSize(
                    Math.round(this.getCanvas().width * e.sizeMultiplier),
                    Math.round(this.getCanvas().height * e.sizeMultiplier)
                  ),
                  e.setAsTarget(),
                  this.setRenderSize(e.width, e.height)
              },
            },
            {
              key: 'unSetRenderTexture',
              value: function () {
                var e = this.context
                e.bindFramebuffer(e.FRAMEBUFFER, null),
                  e.bindRenderbuffer(e.RENDERBUFFER, null),
                  this.setRenderSize(
                    this.getCanvas().width,
                    this.getCanvas().height
                  )
              },
            },
            {
              key: 'clearWithColor',
              value: function () {
                var e =
                    arguments.length > 0 && void 0 !== arguments[0]
                      ? arguments[0]
                      : 0,
                  t =
                    arguments.length > 1 && void 0 !== arguments[1]
                      ? arguments[1]
                      : 0,
                  n =
                    arguments.length > 2 && void 0 !== arguments[2]
                      ? arguments[2]
                      : 0,
                  i =
                    arguments.length > 3 && void 0 !== arguments[3]
                      ? arguments[3]
                      : 0
                this.context.clearColor(e, t, n, i),
                  this.clear(),
                  this.context.clearColor(
                    this._clearColor.r,
                    this._clearColor.g,
                    this._clearColor.b,
                    this._clearColor.a
                  )
              },
            },
            {
              key: 'clearRenderTexture',
              value: function (e) {
                var t =
                    arguments.length > 1 && void 0 !== arguments[1]
                      ? arguments[1]
                      : 0,
                  n =
                    arguments.length > 2 && void 0 !== arguments[2]
                      ? arguments[2]
                      : 0,
                  i =
                    arguments.length > 3 && void 0 !== arguments[3]
                      ? arguments[3]
                      : 0,
                  a =
                    arguments.length > 4 && void 0 !== arguments[4]
                      ? arguments[4]
                      : 0
                this.setRenderTexture(e),
                  this.clearWithColor(t, n, i, a),
                  this.unSetRenderTexture()
              },
            },
            {
              key: 'getAspect',
              value: function () {
                return this._renderWidth / this._renderHeight
              },
            },
            {
              key: 'clearDepth',
              value: function () {
                this.renderState.setDepthMask(!0),
                  this.context.clear(tt.DEPTH_BUFFER_BIT)
              },
            },
            {
              key: 'setClearColor',
              value: function (e, t, n) {
                var i =
                  arguments.length > 3 && void 0 !== arguments[3]
                    ? arguments[3]
                    : 0
                this._clearColor.setValues(e, t, n, i),
                  this.context.clearColor(e, t, n, i)
              },
            },
            {
              key: 'getClearColor',
              value: function () {
                return this._clearColor
              },
            },
            {
              key: 'clear',
              value: function () {
                this.context.depthMask(!0),
                  this.context.clear(tt.COLOR_BUFFER_BIT | tt.DEPTH_BUFFER_BIT),
                  this.context.depthMask(this.renderState.getDepthMask())
              },
            },
            {
              key: 'setRenderSize',
              value: function (e, t) {
                ;(this._renderWidth === e && this._renderHeight === t) ||
                  ((this._renderWidth = e),
                  (this._renderHeight = t),
                  (this._renderSize.x = e),
                  (this._renderSize.y = t),
                  this.context.viewport(
                    0,
                    0,
                    this._renderWidth,
                    this._renderHeight
                  ))
              },
            },
            {
              key: 'setScissor',
              value: function (e, t, n, i) {
                var a =
                  arguments.length > 4 &&
                  void 0 !== arguments[4] &&
                  arguments[4]
                ;(e = It.clamp01(e)), (t = It.clamp01(t))
                var r = (n = It.clamp01(n)) - e,
                  s = (i = It.clamp01(i)) - t,
                  o = this._renderWidth,
                  l = this._renderHeight
                this.context.enable(tt.SCISSOR_TEST),
                  this.context.scissor(e * o, t * l, r * o, s * l),
                  a && this.context.viewport(e * o, t * l, r * o, s * l)
              },
            },
            {
              key: 'setScissorPixels',
              value: function (e, t, n, i) {
                this.context.enable(tt.SCISSOR_TEST),
                  this.context.scissor(e, t, n - e, i - t)
              },
            },
            {
              key: 'unSetScissor',
              value: function () {
                this.context.disable(tt.SCISSOR_TEST)
              },
            },
            {
              key: 'setViewPort',
              value: function (e, t, n, i) {
                ;(this._renderWidth = n),
                  (this._renderHeight = i),
                  this.context.viewport(
                    e,
                    t,
                    this._renderWidth,
                    this._renderHeight
                  )
              },
            },
            {
              key: 'unsetViewPort',
              value: function () {
                this.context.viewport(
                  0,
                  0,
                  this._canvas.width,
                  this._canvas.height
                )
              },
            },
            {
              key: 'setChannelMask',
              value: function () {
                var e =
                    arguments.length > 0 &&
                    void 0 !== arguments[0] &&
                    arguments[0],
                  t =
                    arguments.length > 1 &&
                    void 0 !== arguments[1] &&
                    arguments[1],
                  n =
                    arguments.length > 2 &&
                    void 0 !== arguments[2] &&
                    arguments[2],
                  i =
                    arguments.length > 3 &&
                    void 0 !== arguments[3] &&
                    arguments[3]
                this.context.colorMask(e, t, n, i)
              },
            },
            {
              key: 'clearChannelMask',
              value: function () {
                this.context.colorMask(!0, !0, !0, !0)
              },
            },
            {
              key: 'setStencilEnabled',
              value: function (e) {
                e
                  ? this.context.enable(tt.STENCIL_TEST)
                  : this.context.disable(tt.STENCIL_TEST)
              },
            },
            {
              key: 'startDrawToStencil',
              value: function () {
                var e = this.context
                this.setStencilEnabled(!0),
                  e.stencilFunc(tt.ALWAYS, 1, 255),
                  e.stencilOp(tt.KEEP, tt.KEEP, tt.REPLACE),
                  e.stencilMask(255)
              },
            },
            {
              key: 'setStencilFuncEqual',
              value: function (e) {
                this.context.stencilFunc(e ? tt.EQUAL : tt.NOTEQUAL, 1, 255)
              },
            },
            { key: 'destructVAO', value: function (e) {} },
            {
              key: 'destruct',
              value: function () {
                if (!this.isDestructed) {
                  Ye.log('Renderer: destruct')
                  for (
                    var e = this.context,
                      n = e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),
                      i = 0;
                    i < n;
                    ++i
                  )
                    e.activeTexture(e.TEXTURE0 + i),
                      e.bindTexture(e.TEXTURE_2D, null),
                      e.bindTexture(e.TEXTURE_CUBE_MAP, null)
                  e.bindBuffer(e.ARRAY_BUFFER, null),
                    e.bindBuffer(e.ELEMENT_ARRAY_BUFFER, null),
                    e.bindRenderbuffer(e.RENDERBUFFER, null),
                    e.bindFramebuffer(e.FRAMEBUFFER, null),
                    e.useProgram(null)
                  var a = e.getExtension('WEBGL_lose_context')
                  a && a.loseContext(),
                    this._blitMesh && this._blitMesh.destruct(),
                    this._copyTextureMaterial &&
                      this._copyTextureMaterial.destruct(),
                    this._canvas.removeEventListener(
                      'resize',
                      this.debouncedResize
                    ),
                    this._mouseListener && this._mouseListener.destruct(),
                    ge()(he()(t.prototype), 'destruct', this).call(this)
                }
              },
            },
          ]),
          t
        )
      })(Ge)
    ;(St._id = 0),
      (St.webgl2ContextName = 'webgl2'),
      (St.webgl1ContextName = 'experimental-webgl')
    var wt = St,
      Pt = (function (e) {
        function t(e, n, i, a) {
          var r,
            s = arguments.length > 4 && void 0 !== arguments[4] && arguments[4],
            o =
              !(arguments.length > 5 && void 0 !== arguments[5]) ||
              arguments[5],
            l = arguments.length > 6 && void 0 !== arguments[6] && arguments[6],
            u =
              !(arguments.length > 7 && void 0 !== arguments[7]) || arguments[7]
          return (
            se()(this, t),
            ((r = ce()(
              this,
              he()(t).call(this, e, n, wt.webgl1ContextName, i, a, s, o, l, u)
            ))._vertexArrayObjects = {}),
            r
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'init',
              value: function () {
                ge()(he()(t.prototype), 'init', this).call(this)
              },
            },
            {
              key: 'getRenderContext',
              value: function () {
                return this.context
              },
            },
            {
              key: 'preprocessShaderString',
              value: function (e) {
                return '#define WEBGL1\n' + e
              },
            },
            {
              key: 'initVAO',
              value: function (e, t) {
                var n = this.extensionManager.vertex_array_object,
                  i = n.createVertexArrayOES()
                return (
                  n.bindVertexArrayOES(i),
                  this.setStates(e, t),
                  n.bindVertexArrayOES(null),
                  i
                )
              },
            },
            {
              key: 'setStates',
              value: function (e, t) {
                var n = this.context
                if (e.isInterleaved()) {
                  e.interleaveData(),
                    n.bindBuffer(n.ARRAY_BUFFER, e.interleavedBuffer)
                  for (var i = 0, a = 0; a < e.attributes.length; a++) {
                    var r = e.attributes[a],
                      s = t.shader.getAttributeByName(r.name)
                    s &&
                      (n.enableVertexAttribArray(s.loc),
                      n.vertexAttribPointer(
                        s.loc,
                        s.stride,
                        n.FLOAT,
                        !1,
                        4 * e.interleavedStrideSum,
                        i
                      )),
                      (i += 4 * r.stride)
                  }
                } else
                  for (var o = 0; o < e.attributes.length; o++) {
                    var l = e.attributes[o],
                      u = t.shader.getAttributeByName(l.name)
                    if (u) {
                      if (void 0 === l.buffer)
                        throw new ReferenceError(
                          'Expected buffer to be defined on VertexAttribute when setting states.'
                        )
                      n.bindBuffer(n.ARRAY_BUFFER, l.buffer),
                        n.enableVertexAttribArray(u.loc),
                        n.vertexAttribPointer(
                          u.loc,
                          u.stride,
                          n.FLOAT,
                          !1,
                          4 * u.stride,
                          0
                        )
                    }
                  }
                e.indexBuffer &&
                  n.bindBuffer(n.ELEMENT_ARRAY_BUFFER, e.indexBuffer)
              },
            },
            {
              key: 'destructVAO',
              value: function (e) {
                var t = this.extensionManager.vertex_array_object
                if (t) {
                  var n = this._vertexArrayObjects[e.id]
                  for (var i in n) {
                    var a = n[i]
                    t.deleteVertexArrayOES(a)
                  }
                  this._vertexArrayObjects[e.id] = []
                }
              },
            },
            {
              key: 'getVAO',
              value: function (e, t) {
                var n,
                  i = this._vertexArrayObjects[e.id]
                return (
                  i
                    ? (n = i[t.id]) || ((n = this.initVAO(e, t)), (i[t.id] = n))
                    : ((i = {}),
                      (n = this.initVAO(e, t)),
                      (i[t.id] = n),
                      (this._vertexArrayObjects[e.id] = i)),
                  n
                )
              },
            },
            {
              key: 'bindVAO',
              value: function (e) {
                var t = this.extensionManager.vertex_array_object
                e != this._currentVAO &&
                  (t.bindVertexArrayOES(e), (this._currentVAO = e))
              },
            },
            {
              key: 'drawVAO',
              value: function (e, t, n) {
                var i =
                    arguments.length > 3 && void 0 !== arguments[3]
                      ? arguments[3]
                      : 0,
                  a =
                    arguments.length > 4 && void 0 !== arguments[4]
                      ? arguments[4]
                      : -1
                n.setActive(),
                  this.bindVAO(e),
                  this.drawElements(t, n, i, a),
                  this.bindVAO(null)
              },
            },
            {
              key: 'draw',
              value: function (e, t) {
                var n =
                    arguments.length > 2 && void 0 !== arguments[2]
                      ? arguments[2]
                      : 0,
                  i =
                    arguments.length > 3 && void 0 !== arguments[3]
                      ? arguments[3]
                      : -1
                if (
                  (t.setActive(),
                  !this.extensionManager.vertex_array_object || e.isDynamic)
                )
                  this.setStates(e, t), this.drawElements(e, t, n, i)
                else {
                  var a = this.getVAO(e, t)
                  this.bindVAO(a),
                    this.drawElements(e, t, n, i),
                    this.bindVAO(null)
                }
              },
            },
            {
              key: 'startBatch',
              value: function (e, t) {
                t.setActive(),
                  this.extensionManager.vertex_array_object
                    ? this.extensionManager.vertex_array_object.bindVertexArrayOES(
                        this.getVAO(e, t)
                      )
                    : this.setStates(e, t)
              },
            },
            {
              key: 'drawElements',
              value: function (e, t) {
                var n =
                    arguments.length > 2 && void 0 !== arguments[2]
                      ? arguments[2]
                      : 0,
                  i =
                    arguments.length > 3 && void 0 !== arguments[3]
                      ? arguments[3]
                      : -1
                if (e.indices) {
                  if (void 0 === e.indexType)
                    throw new ReferenceError(
                      'expected mesh.indexType to be set on a mesh with indices'
                    )
                  i > 0
                    ? this.context.drawElements(
                        t.drawType,
                        Math.min(i, e.indices.length),
                        e.indexType,
                        n * (e.indexType == tt.UNSIGNED_SHORT ? 2 : 4)
                      )
                    : this.context.drawElements(
                        t.drawType,
                        e.indices.length,
                        e.indexType,
                        0
                      )
                } else {
                  var a = e.getNumVertices() - n
                  i > 0
                    ? this.context.drawArrays(t.drawType, n, Math.min(a, i))
                    : this.context.drawArrays(t.drawType, n, a)
                }
              },
            },
            {
              key: 'endBatch',
              value: function () {
                this.extensionManager.vertex_array_object &&
                  this.extensionManager.vertex_array_object.bindVertexArrayOES(
                    null
                  )
              },
            },
            {
              key: 'destruct',
              value: function () {
                if (!this.isDestructed) {
                  Ye.log('RendererWebGL1: destruct')
                  var e = this.extensionManager.vertex_array_object
                  if (e && this._vertexArrayObjects)
                    for (var n = 0; n < this._vertexArrayObjects.length; n++)
                      e.deleteVertexArrayOES(this._vertexArrayObjects[n])
                  ge()(he()(t.prototype), 'destruct', this).call(this)
                }
              },
            },
          ]),
          t
        )
      })(wt),
      Ot = (function (e) {
        function t(e, n) {
          var i,
            a =
              arguments.length > 2 && void 0 !== arguments[2]
                ? arguments[2]
                : null,
            r =
              arguments.length > 3 && void 0 !== arguments[3]
                ? arguments[3]
                : null
          return (
            se()(this, t),
            ((i = ce()(this, he()(t).call(this))).dataName = null),
            (i.exposed = !1),
            (i.name = n),
            (i.parent = e),
            (i._callback = r),
            (i._materials = a || []),
            i
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'expose',
              value: function () {
                this.exposed = !0
              },
            },
            {
              key: 'getValue',
              value: function () {
                return this._value
              },
            },
            {
              key: 'setUpdateUICallback',
              value: function (e) {
                this._updateUIcallback = e
              },
            },
            {
              key: 'setChangeCallback',
              value: function (e) {
                this._callback = e
              },
            },
            {
              key: 'setValue',
              value: function (e) {
                var t =
                    arguments.length > 1 &&
                    void 0 !== arguments[1] &&
                    arguments[1],
                  n =
                    !(arguments.length > 2 && void 0 !== arguments[2]) ||
                    arguments[2]
                e !== this._value &&
                  ((this._value = e),
                  this.setShaderUniform(e),
                  this._callback && n && this._callback(this._value),
                  !t &&
                    this._updateUIcallback &&
                    this._updateUIcallback.call(this, this.getValue()))
              },
            },
            {
              key: 'setFromUI',
              value: function (e) {
                this.setValue(e, !0)
              },
            },
            {
              key: 'setShaderUniform',
              value: function (e) {
                console.log('warning: override this')
              },
            },
          ]),
          t
        )
      })(Ge),
      Lt = (function (e) {
        function t(e, n) {
          var i =
            arguments.length > 2 && void 0 !== arguments[2]
              ? arguments[2]
              : null
          return se()(this, t), ce()(this, he()(t).call(this, e, n, null, i))
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'getValue',
              value: function () {
                return this._callback
              },
            },
          ]),
          t
        )
      })(Ot),
      Ft = (function (e) {
        function t(e, n, i) {
          var a,
            r =
              arguments.length > 3 && void 0 !== arguments[3]
                ? arguments[3]
                : null,
            s =
              arguments.length > 4 && void 0 !== arguments[4]
                ? arguments[4]
                : null,
            o =
              arguments.length > 5 && void 0 !== arguments[5]
                ? arguments[5]
                : null
          return (
            se()(this, t),
            (a = ce()(
              this,
              he()(t).call(this, e, null !== s ? s : n, r, o)
            )).setValue(i, !1, !1),
            a
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'setShaderUniform',
              value: function (e) {
                for (var t = 0; t < this._materials.length; t++)
                  this._materials[t].setFloat(this.name, !0 === e ? 1 : 0)
              },
            },
          ]),
          t
        )
      })(Ot),
      Nt = (function (e) {
        function t(e, n, i) {
          var a,
            r =
              arguments.length > 3 && void 0 !== arguments[3]
                ? arguments[3]
                : [],
            s =
              arguments.length > 4 && void 0 !== arguments[4]
                ? arguments[4]
                : null,
            o = arguments.length > 5 ? arguments[5] : void 0
          se()(this, t),
            ((a = ce()(
              this,
              he()(t).call(this, e, null !== s ? s : n, r, o)
            ))._uniforms = []),
            (a._color = new it())
          for (var l = 0; l < a._materials.length; l++)
            a._uniforms[l] = a._materials[l].addVector3Uniform(n, a._color)
          return a.setValue([255 * i.x, 255 * i.y, 255 * i.z]), a
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'getValueVector3',
              value: function () {
                return this._color
              },
            },
            {
              key: 'convertColorToArray',
              value: function (e) {
                var t = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e)
                return t
                  ? [parseInt(t[1], 16), parseInt(t[2], 16), parseInt(t[3], 16)]
                  : e
              },
            },
            {
              key: 'setValue',
              value: function (e) {
                var n =
                  arguments.length > 1 &&
                  void 0 !== arguments[1] &&
                  arguments[1]
                e instanceof it
                  ? this._color.copy(e)
                  : ((e = this.convertColorToArray(e)),
                    this._color.setValues(e[0] / 255, e[1] / 255, e[2] / 255)),
                  ge()(he()(t.prototype), 'setValue', this).call(
                    this,
                    [
                      255 * this._color.x,
                      255 * this._color.y,
                      255 * this._color.z,
                    ],
                    n
                  )
              },
            },
            {
              key: 'setShaderUniform',
              value: function (e) {
                for (var t = 0; t < this._uniforms.length; t++)
                  this._uniforms[t].set(this._color)
              },
            },
          ]),
          t
        )
      })(Ot),
      Dt = (function (e) {
        function t() {
          var e,
            n =
              arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
          return (
            se()(this, t),
            ((e = ce()(this, he()(t).call(this)))._finished = !1),
            (e._easeInOut = !1),
            (e._isUpdating = !1),
            (e._update = function () {
              return e.update()
            }),
            (e.value = n),
            e
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'to',
              value: function (e, t) {
                var n =
                    arguments.length > 2 && void 0 !== arguments[2]
                      ? arguments[2]
                      : null,
                  i =
                    arguments.length > 3 && void 0 !== arguments[3]
                      ? arguments[3]
                      : null,
                  a =
                    arguments.length > 4 &&
                    void 0 !== arguments[4] &&
                    arguments[4]
                ;(this.goal = e),
                  (this.progress = 0),
                  (this.startValue = this.value),
                  (this._duration = 1e3 * t),
                  (this._t0 = +new Date()),
                  (this._finished = !1),
                  (this._completeCallback = i),
                  (this._animateCallback = n),
                  (this._easeInOut = a),
                  this._isUpdating || this.update()
              },
            },
            {
              key: 'fromTo',
              value: function (e, t, n) {
                var i =
                    arguments.length > 3 && void 0 !== arguments[3]
                      ? arguments[3]
                      : null,
                  a =
                    arguments.length > 4 && void 0 !== arguments[4]
                      ? arguments[4]
                      : null,
                  r =
                    arguments.length > 5 &&
                    void 0 !== arguments[5] &&
                    arguments[5]
                ;(this.value = e), this.to(t, n, i, a, r)
              },
            },
            {
              key: 'stop',
              value: function () {
                ;(this._finished = !0),
                  (this._completeCallback = null),
                  (this._animateCallback = null)
              },
            },
            {
              key: 'update',
              value: function () {
                if (
                  void 0 === this._t0 ||
                  void 0 === this._duration ||
                  void 0 === this.startValue ||
                  void 0 === this.goal
                )
                  throw new Error(
                    'cannot update: Tween not started. Call Tween.to or Tween.fromTo first'
                  )
                if (
                  ((this._isUpdating = !1),
                  !this.isDestructed && !this._finished)
                )
                  if (
                    ((this.progress =
                      (+new Date() - this._t0) / this._duration),
                    this.progress > 1 && (this.progress = 1),
                    (this.easedProgress = this.progress),
                    this._easeInOut &&
                      (this.easedProgress = It.smoothStep01(
                        this.easedProgress
                      )),
                    (this.value = It.lerp(
                      this.startValue,
                      this.goal,
                      this.easedProgress
                    )),
                    this._animateCallback &&
                      this._animateCallback.call(this, this.value),
                    this.progress >= 1)
                  ) {
                    if (((this._finished = !0), this._completeCallback)) {
                      var e = this._completeCallback
                      ;(this._completeCallback = null), e.call(this)
                    }
                  } else
                    (this._isUpdating = !0),
                      window.requestAnimationFrame(this._update)
              },
            },
          ]),
          t
        )
      })(Ge),
      Bt = (function (e) {
        function t(e, n, i) {
          var a,
            r =
              arguments.length > 3 && void 0 !== arguments[3]
                ? arguments[3]
                : 0,
            s =
              arguments.length > 4 && void 0 !== arguments[4]
                ? arguments[4]
                : 1,
            o =
              arguments.length > 5 && void 0 !== arguments[5]
                ? arguments[5]
                : [],
            l =
              arguments.length > 6 && void 0 !== arguments[6]
                ? arguments[6]
                : null,
            u =
              arguments.length > 7 && void 0 !== arguments[7]
                ? arguments[7]
                : null
          se()(this, t),
            ((a = ce()(
              this,
              he()(t).call(this, e, null !== l ? l : n, o, u)
            ))._floatUniforms = [])
          for (var c = 0; c < a._materials.length; c++)
            a._floatUniforms[c] = a._materials[c].addFloatUniform(n, i)
          return (
            (a.min = r),
            (a.max = s),
            a.max < i && (a.max = 2 * i),
            a.min > i && (a.min = i - 1),
            a.setValue(i, !1, !1),
            a
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'setValue',
              value: function (e) {
                var n =
                    arguments.length > 1 &&
                    void 0 !== arguments[1] &&
                    arguments[1],
                  i =
                    !(arguments.length > 2 && void 0 !== arguments[2]) ||
                    arguments[2]
                ;(e = It.clamp(e, this.min, this.max)),
                  ge()(he()(t.prototype), 'setValue', this).call(this, e, n, i)
              },
            },
            {
              key: 'setShaderUniform',
              value: function (e) {
                for (var t = 0; t < this._floatUniforms.length; t++)
                  this._floatUniforms[t].set(e)
              },
            },
            {
              key: 'to',
              value: function (e, t) {
                var n = this,
                  i =
                    arguments.length > 2 && void 0 !== arguments[2]
                      ? arguments[2]
                      : null
                this._tween || (this._tween = new Dt()),
                  i
                    ? this._tween.fromTo(
                        this.getValue(),
                        e,
                        t,
                        function (e) {
                          return n.setValue(e)
                        },
                        function () {
                          return i()
                        }
                      )
                    : this._tween.fromTo(this.getValue(), e, t, function (e) {
                        return n.setValue(e)
                      })
              },
            },
            {
              key: 'destruct',
              value: function () {
                if (this._floatUniforms) {
                  for (var e = 0; e < this._floatUniforms.length; e++)
                    this._floatUniforms[e].destruct()
                  this._floatUniforms = []
                }
                this._tween && (this._tween.destruct(), delete this._tween),
                  ge()(he()(t.prototype), 'destruct', this).call(this)
              },
            },
          ]),
          t
        )
      })(Ot),
      Ut = (function (e) {
        function t(e, n, i) {
          var a,
            r =
              arguments.length > 3 && void 0 !== arguments[3]
                ? arguments[3]
                : 0,
            s =
              arguments.length > 4 && void 0 !== arguments[4]
                ? arguments[4]
                : 1,
            o =
              arguments.length > 5 && void 0 !== arguments[5]
                ? arguments[5]
                : null,
            l =
              arguments.length > 6 && void 0 !== arguments[6]
                ? arguments[6]
                : null,
            u =
              arguments.length > 7 && void 0 !== arguments[7]
                ? arguments[7]
                : null
          se()(this, t),
            ((a = ce()(
              this,
              he()(t).call(this, e, null !== l ? l : n, o, u)
            ))._floatUniforms = [])
          for (var c = 0; c < a._materials.length; c++)
            a._floatUniforms[c] = a._materials[c].addFloatUniform(n, i)
          return (
            (a.min = r),
            (a.max = s),
            a.max < i && (a.max = 2 * i),
            a.min > i && (a.min = i - 1),
            a.setValue(i),
            a
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'setShaderUniform',
              value: function (e) {
                for (var t = 0; t < this._floatUniforms.length; t++)
                  this._floatUniforms[t].set(e)
              },
            },
          ]),
          t
        )
      })(Ot),
      Vt = (function (e) {
        function t() {
          var e
          return (
            se()(this, t),
            ((e = ce()(this, he()(t).call(this))).params = []),
            (e.children = []),
            e
          )
        }
        return (
          pe()(t, e),
          le()(
            t,
            [
              {
                key: 'addGroup',
                value: function (e) {
                  var n =
                      arguments.length > 1 && void 0 !== arguments[1]
                        ? arguments[1]
                        : null,
                    i =
                      arguments.length > 2 &&
                      void 0 !== arguments[2] &&
                      arguments[2],
                    a = new t()
                  return a.init(e, n, i), this.children.push(a), a
                },
              },
              {
                key: 'removeGroup',
                value: function (e) {
                  var t = null,
                    n = !0,
                    i = !1,
                    a = void 0
                  try {
                    for (
                      var r, s = this.children[Symbol.iterator]();
                      !(n = (r = s.next()).done);
                      n = !0
                    ) {
                      var o = r.value
                      if ((console.log('checking', o.name, e), o.name === e)) {
                        t = o
                        break
                      }
                    }
                  } catch (l) {
                    ;(i = !0), (a = l)
                  } finally {
                    try {
                      n || null == s.return || s.return()
                    } finally {
                      if (i) throw a
                    }
                  }
                  t && this.children.splice(this.children.indexOf(t), 1)
                },
              },
              {
                key: 'removeAllGroups',
                value: function () {
                  this.children = []
                },
              },
              {
                key: 'pushGroup',
                value: function (e) {
                  this.children.push(e)
                },
              },
              {
                key: 'init',
                value: function (e) {
                  var t =
                      arguments.length > 1 && void 0 !== arguments[1]
                        ? arguments[1]
                        : null,
                    n =
                      arguments.length > 2 &&
                      void 0 !== arguments[2] &&
                      arguments[2]
                  ;(this.name = e),
                    (this.collapsed = n),
                    (this.materials = t ? [].concat(t) : [])
                },
              },
              {
                key: 'addParamFloat',
                value: function (e, t) {
                  var n =
                      arguments.length > 2 && void 0 !== arguments[2]
                        ? arguments[2]
                        : 0,
                    i =
                      arguments.length > 3 && void 0 !== arguments[3]
                        ? arguments[3]
                        : 1,
                    a =
                      arguments.length > 4 && void 0 !== arguments[4]
                        ? arguments[4]
                        : null,
                    r = new Bt(this, e, t, n, i, [], null, a)
                  return this.params.push(r), r
                },
              },
              {
                key: 'addShaderParamFloat',
                value: function (e, t) {
                  var n =
                      arguments.length > 2 && void 0 !== arguments[2]
                        ? arguments[2]
                        : 0,
                    i =
                      arguments.length > 3 && void 0 !== arguments[3]
                        ? arguments[3]
                        : 1,
                    a =
                      arguments.length > 4 && void 0 !== arguments[4]
                        ? arguments[4]
                        : null,
                    r =
                      arguments.length > 5 && void 0 !== arguments[5]
                        ? arguments[5]
                        : null
                  ;(this.materials && 0 != this.materials.length) ||
                    console.warn(
                      'Adding shader param to param group that has no materials',
                      e
                    )
                  var s = new Bt(this, e, t, n, i, this.materials, a, r)
                  return this.params.push(s), s
                },
              },
              {
                key: 'addParamInt',
                value: function (e, t) {
                  var n =
                      arguments.length > 2 && void 0 !== arguments[2]
                        ? arguments[2]
                        : 0,
                    i =
                      arguments.length > 3 && void 0 !== arguments[3]
                        ? arguments[3]
                        : 1,
                    a =
                      arguments.length > 4 && void 0 !== arguments[4]
                        ? arguments[4]
                        : null,
                    r = new Ut(this, e, t, n, i, null, null, a)
                  return this.params.push(r), r
                },
              },
              {
                key: 'addShaderParamInt',
                value: function (e, t) {
                  var n =
                      arguments.length > 2 && void 0 !== arguments[2]
                        ? arguments[2]
                        : 0,
                    i =
                      arguments.length > 3 && void 0 !== arguments[3]
                        ? arguments[3]
                        : 1,
                    a =
                      arguments.length > 4 && void 0 !== arguments[4]
                        ? arguments[4]
                        : null,
                    r =
                      arguments.length > 5 && void 0 !== arguments[5]
                        ? arguments[5]
                        : null
                  ;(this.materials && 0 != this.materials.length) ||
                    console.warn(
                      'Adding shader param to param group that has no materials'
                    )
                  var s = new Ut(this, e, t, n, i, this.materials, a, r)
                  return this.params.push(s), s
                },
              },
              {
                key: 'addParamBool',
                value: function (e, t) {
                  var n =
                      arguments.length > 2 && void 0 !== arguments[2]
                        ? arguments[2]
                        : null,
                    i = new Ft(this, e, t, null, null, n)
                  return this.params.push(i), i
                },
              },
              {
                key: 'addShaderParamBool',
                value: function (e, t) {
                  var n =
                      arguments.length > 2 && void 0 !== arguments[2]
                        ? arguments[2]
                        : null,
                    i =
                      arguments.length > 3 && void 0 !== arguments[3]
                        ? arguments[3]
                        : null
                  ;(this.materials && 0 != this.materials.length) ||
                    console.warn(
                      'Adding shader param to param group that has no materials'
                    )
                  var a = new Ft(this, e, t, this.materials, n, i)
                  return this.params.push(a), a
                },
              },
              {
                key: 'addParamColor',
                value: function (e, t, n) {
                  var i = new Nt(this, e, t, [], null, n)
                  return this.params.push(i), i
                },
              },
              {
                key: 'addShaderParamColor',
                value: function (e, t, n, i) {
                  ;(this.materials && 0 != this.materials.length) ||
                    console.warn(
                      'Adding shader param to param group that has no materials'
                    )
                  var a = new Nt(this, e, t, this.materials, n, i)
                  return this.params.push(a), a
                },
              },
              {
                key: 'addButton',
                value: function (e) {
                  var t =
                      arguments.length > 1 && void 0 !== arguments[1]
                        ? arguments[1]
                        : null,
                    n = new Lt(this, e, t)
                  return this.params.push(n), n
                },
              },
              {
                key: 'getParameters',
                value: function () {
                  var e = [],
                    t = !0,
                    n = !1,
                    i = void 0
                  try {
                    for (
                      var a, r = this.children[Symbol.iterator]();
                      !(t = (a = r.next()).done);
                      t = !0
                    ) {
                      var s = a.value
                      e = e.concat(s.getParameters())
                    }
                  } catch (f) {
                    ;(n = !0), (i = f)
                  } finally {
                    try {
                      t || null == r.return || r.return()
                    } finally {
                      if (n) throw i
                    }
                  }
                  var o = !0,
                    l = !1,
                    u = void 0
                  try {
                    for (
                      var c, d = this.params[Symbol.iterator]();
                      !(o = (c = d.next()).done);
                      o = !0
                    ) {
                      var h = c.value
                      e.push(h)
                    }
                  } catch (f) {
                    ;(l = !0), (u = f)
                  } finally {
                    try {
                      o || null == d.return || d.return()
                    } finally {
                      if (l) throw u
                    }
                  }
                  return e
                },
              },
              {
                key: 'destruct',
                value: function () {
                  if (this.params)
                    for (var e = 0; e < this.params.length; e++)
                      this.params[e].isDestructed || this.params[e].destruct()
                  if (this.children)
                    for (var n = 0; n < this.children.length; n++)
                      this.children[n].isDestructed ||
                        this.children[n].destruct(),
                        this.children[n].destruct()
                  ge()(he()(t.prototype), 'destruct', this).call(this)
                },
              },
            ],
            [
              {
                key: 'exposeParam',
                value: function (e) {
                  e.expose()
                },
              },
            ]
          ),
          t
        )
      })(Ge),
      $t = n(579),
      zt = (function (e) {
        function t() {
          var e,
            n =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : null,
            i =
              !(arguments.length > 1 && void 0 !== arguments[1]) ||
              arguments[1],
            a =
              arguments.length > 2 && void 0 !== arguments[2]
                ? arguments[2]
                : {}
          return (
            se()(this, t),
            ((e = ce()(this, he()(t).call(this)))._params = {}),
            (e.folderIndex = -2),
            n && n.add(Ne()(e)),
            (e._jsonExportEnabled = i),
            (e._params = a),
            e
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'load',
              value: function (e) {
                e.call(this)
              },
            },
            {
              key: 'init',
              value: function (e) {
                this._rootGroup = e
                var t = {}
                ;(this._gui = new $t.a(this._params)),
                  this.readGroup(null, e, t, this._gui),
                  this._jsonExportEnabled && this._gui.remember(t),
                  this.setVisible(!0)
              },
            },
            {
              key: 'getDatGUI',
              value: function () {
                return this._gui
              },
            },
            {
              key: 'setPreset',
              value: function (e) {
                if (!this._gui)
                  throw new Error('Cannot set preset: DatGui not initialized')
                ;(this.folderIndex = -2),
                  this.setPresetRecurse(
                    this._gui.__folders.controls,
                    e.remembered.Default
                  )
              },
            },
            {
              key: 'setPresetRecurse',
              value: function (e, t) {
                this.folderIndex++
                var n = t[this.folderIndex]
                if ('undefined' !== typeof n) {
                  var i = !0,
                    a = !1,
                    r = void 0
                  try {
                    for (
                      var s, o = e.__controllers[Symbol.iterator]();
                      !(i = (s = o.next()).done);
                      i = !0
                    ) {
                      var l = s.value,
                        u = n[l.property]
                      'undefined' !== typeof u && l.setValue(u)
                    }
                  } catch (p) {
                    ;(a = !0), (r = p)
                  } finally {
                    try {
                      i || null == o.return || o.return()
                    } finally {
                      if (a) throw r
                    }
                  }
                }
                for (
                  var c = Object.keys(e.__folders), d = 0;
                  d < c.length;
                  d++
                ) {
                  var h = c[d],
                    f = e.__folders[h]
                  this.setPresetRecurse(f, t)
                }
              },
            },
            {
              key: 'readGroup',
              value: function (e, t, n, i) {
                if (!t.name) throw new Error('group name not initialized')
                if (!this._gui)
                  throw new Error('cannot read group: DatGui not initialized')
                var a = this.uniqueName(i.__folders, t.name)
                t.uniqueName = a
                var r = i.addFolder(a)
                t.collapsed || r.open()
                var s = !0,
                  o = !1,
                  l = void 0
                try {
                  for (
                    var u, c = t.params[Symbol.iterator]();
                    !(s = (u = c.next()).done);
                    s = !0
                  ) {
                    var d = u.value
                    d.dataName = this.uniqueName(n, d.name)
                    var h = d.dataName
                    void 0 == n[h]
                      ? (n[h] = d.getValue())
                      : console.log(
                          'property ' + h + ' already exists on param object',
                          n
                        )
                    var f = void 0
                    if (d instanceof Bt) {
                      var p = d
                      f = r.add(n, h, p.min, p.max)
                    }
                    if (d instanceof Ut) {
                      var v = d
                      f = r.add(n, h, v.min, v.max).step(1)
                    }
                    if (
                      (d instanceof Ft && (f = r.add(n, h)),
                      d instanceof Lt && (f = r.add(n, h)),
                      d instanceof Nt && (f = r.addColor(n, h)),
                      !(d instanceof Lt))
                    ) {
                      if (void 0 === f)
                        throw new TypeError('Unknown type of parameter')
                      this.addHandlers(f, n, d)
                    }
                  }
                } catch (C) {
                  ;(o = !0), (l = C)
                } finally {
                  try {
                    s || null == c.return || c.return()
                  } finally {
                    if (o) throw l
                  }
                }
                var m = !0,
                  _ = !1,
                  g = void 0
                try {
                  for (
                    var y, T = t.children[Symbol.iterator]();
                    !(m = (y = T.next()).done);
                    m = !0
                  ) {
                    var E = y.value,
                      b = {}
                    this._jsonExportEnabled && this._gui.remember(b),
                      this.readGroup(t, E, b, r)
                  }
                } catch (C) {
                  ;(_ = !0), (g = C)
                } finally {
                  try {
                    m || null == T.return || T.return()
                  } finally {
                    if (_) throw g
                  }
                }
              },
            },
            {
              key: 'uniqueName',
              value: function (e, t) {
                return t in e ? this.uniqueName(e, 'U_' + t) : t
              },
            },
            {
              key: 'addHandlers',
              value: function (e, t, n) {
                n.setUpdateUICallback(function (e) {
                  t[n.dataName] = e
                }),
                  e.listen(),
                  e.onChange(function (e) {
                    ;(t[n.dataName] = e), n.setFromUI(e)
                  }),
                  (e.onFinishChange = function (e) {
                    return n.setFromUI(e)
                  })
              },
            },
            {
              key: 'setVisible',
              value: function (e) {
                if (!this._gui)
                  throw new Error('cannot set visible: DatGui not initialized')
                ;(this._visible = e),
                  this._gui.domElement.parentElement &&
                    ((this._gui.domElement.parentElement.style.zIndex = (e
                      ? 999
                      : 0
                    ).toString()),
                    (this._gui.domElement.parentElement.style.visibility = (e
                      ? 'visible'
                      : 'hidden'
                    ).toString()))
              },
            },
            {
              key: 'destruct',
              value: function () {
                this._gui &&
                  (this._gui.domElement.parentElement &&
                    this._gui.domElement.parentElement.removeChild(
                      this._gui.domElement
                    ),
                  delete this._gui),
                  ge()(he()(t.prototype), 'destruct', this).call(this)
              },
            },
          ]),
          t
        )
      })(Ge),
      Gt = (function (e) {
        function t(e) {
          var n,
            i =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : 60,
            a =
              arguments.length > 2 && void 0 !== arguments[2]
                ? arguments[2]
                : 0.01,
            r =
              arguments.length > 3 && void 0 !== arguments[3]
                ? arguments[3]
                : 10
          return (
            se()(this, t),
            ((n = ce()(this, he()(t).call(this))).dirty = !0),
            (n.frustumHeight = 1),
            (n._projectionMatrix = He.b.create()),
            (n._tmpMat4 = He.b.create()),
            (n._tmpV3 = new it()),
            (n._tmpV4 = new Je()),
            (n._frustumCorner = new it()),
            (n._jitter = new je()),
            (n._jitterFrame = 0),
            (n._fov = i),
            (n.frustumHeight = 2 * Math.tan(n._fov * t._degToRad * 0.5)),
            (n._nearPlane = a),
            (n._farPlane = r),
            (n._aspect = 1),
            (n._changeCallback = e),
            n
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'getMatrix',
              value: function () {
                return this.updateProjection(), this._projectionMatrix
              },
            },
            {
              key: 'updateProjection',
              value: function () {
                this.dirty &&
                  (He.b.perspective(
                    this._projectionMatrix,
                    this._fov * t._degToRad,
                    this._aspect,
                    this._nearPlane,
                    this._farPlane
                  ),
                  (this.dirty = !1),
                  this.getFrustumCornerRef(this._frustumCorner))
              },
            },
            {
              key: 'setAspect',
              value: function (e) {
                e !== this._aspect && ((this._aspect = e), this.setDirty())
              },
            },
            {
              key: 'getAspect',
              value: function () {
                return this._aspect
              },
            },
            {
              key: 'setFarPlane',
              value: function (e) {
                e !== this._farPlane && ((this._farPlane = e), this.setDirty())
              },
            },
            {
              key: 'getFarPlane',
              value: function () {
                return this._farPlane
              },
            },
            {
              key: 'setNearPlane',
              value: function (e) {
                e !== this._nearPlane &&
                  ((this._nearPlane = e), this.setDirty())
              },
            },
            {
              key: 'getNearPlane',
              value: function () {
                return this._nearPlane
              },
            },
            {
              key: 'setFOV',
              value: function (e) {
                e !== this._fov &&
                  ((this._fov = e),
                  (this.frustumHeight =
                    2 * Math.tan(this._fov * t._degToRad * 0.5)),
                  this.setDirty())
              },
            },
            {
              key: 'getFOV',
              value: function () {
                return this._fov
              },
            },
            {
              key: 'getFrustumCornerRef',
              value: function (e) {
                var t = 0.5 * this.frustumHeight,
                  n = t * this._aspect
                e.setValues(n, t, 1)
              },
            },
            {
              key: 'getFrustumCorner',
              value: function () {
                return this._frustumCorner
              },
            },
            {
              key: 'getHaltonSequence',
              value: function (e, t) {
                for (var n = 0, i = 1, a = e; a > 0; )
                  (n += (i /= t) * (a % t)), (a = Math.floor(a / t))
                return n
              },
            },
            {
              key: 'jitter',
              value: function (e) {
                this._jitter.setValues(
                  this.getHaltonSequence(this._jitterFrame % 51, 2) - 0.5,
                  this.getHaltonSequence(this._jitterFrame % 31, 3) - 0.5
                ),
                  this._jitterFrame++,
                  He.b.copy(
                    this._projectionMatrix,
                    this.getJitteredMatrix(this._jitter, e, this._tmpV4)
                  ),
                  this.getFrustumCornerRef(this._frustumCorner),
                  (this.dirty = !1)
              },
            },
            {
              key: 'getJitteredMatrix',
              value: function (e, n) {
                var i =
                    arguments.length > 2 && void 0 !== arguments[2]
                      ? arguments[2]
                      : void 0,
                  a = Math.tan(0.5 * t._degToRad * this.getFOV()),
                  r = a * (n.x / n.y),
                  s = r / (0.5 * n.x),
                  o = a / (0.5 * n.y),
                  l = s * e.x,
                  u = o * e.y
                void 0 !== i && i.setValues(r / n.x, a / n.y, l / n.x, u / n.y)
                var c = this.getFarPlane(),
                  d = this.getNearPlane(),
                  h = l - r,
                  f = l + r,
                  p = u - a,
                  v = u + a,
                  m = (2 * d) / (f * d - h * d),
                  _ = (2 * d) / (v * d - p * d),
                  g = (f * d + h * d) / (f * d - h * d),
                  y = (v * d + p * d) / (v * d - p * d),
                  T = -(c + d) / (c - d),
                  E = (-2 * c * d) / (c - d)
                return (
                  this._tmpMat4.set([
                    m,
                    0,
                    0,
                    0,
                    0,
                    _,
                    0,
                    0,
                    g,
                    y,
                    T,
                    -1,
                    0,
                    0,
                    E,
                    0,
                  ]),
                  this._tmpMat4
                )
              },
            },
            {
              key: 'getJitter',
              value: function () {
                return this._jitter
              },
            },
            {
              key: 'destruct',
              value: function () {
                ge()(he()(t.prototype), 'destruct', this).call(this)
              },
            },
            {
              key: 'setDirty',
              value: function () {
                ;(this.dirty = !0), this._changeCallback.call(this)
              },
            },
          ]),
          t
        )
      })(Ge)
    ;(Gt._degToRad = Math.PI / 180), (Gt._radToDeg = 180 / Math.PI)
    var Ht = Gt,
      qt = (function () {
        function e() {
          var t =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : 0,
            n =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : 0,
            i =
              arguments.length > 2 && void 0 !== arguments[2]
                ? arguments[2]
                : 0,
            a =
              arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1
          se()(this, e), (this.q = He.c.create()), He.c.set(this.q, t, n, i, a)
        }
        return (
          le()(
            e,
            [
              {
                key: 'clone',
                value: function () {
                  return new e(this.x, this.y, this.z, this.w)
                },
              },
              {
                key: 'copy',
                value: function (e) {
                  return He.c.set(this.q, e.x, e.y, e.z, e.w), this
                },
              },
              {
                key: 'setValues',
                value: function (e, t, n, i) {
                  return He.c.set(this.q, e, t, n, i), this
                },
              },
              {
                key: 'toString',
                value: function () {
                  return (
                    '(' +
                    this.x +
                    ', ' +
                    this.y +
                    ', ' +
                    this.z +
                    ', ' +
                    this.w +
                    ')'
                  )
                },
              },
              {
                key: 'dot',
                value: function (e) {
                  return He.c.dot(this.q, e.q)
                },
              },
              {
                key: 'identity',
                value: function () {
                  return He.c.identity(this.q), this
                },
              },
              {
                key: 'multiply',
                value: function (e) {
                  return He.c.multiply(this.q, this.q, e.q), this
                },
              },
              {
                key: 'invert',
                value: function () {
                  return (
                    (this.x = -this.x),
                    (this.y = -this.y),
                    (this.z = -this.z),
                    (this.w = this.w),
                    this
                  )
                },
              },
              {
                key: 'rotateX',
                value: function (e) {
                  return He.c.rotateX(this.q, this.q, e), this
                },
              },
              {
                key: 'rotateY',
                value: function (e) {
                  return He.c.rotateY(this.q, this.q, e), this
                },
              },
              {
                key: 'rotateZ',
                value: function (e) {
                  return He.c.rotateZ(this.q, this.q, e), this
                },
              },
              {
                key: 'setAxisAngleRadians',
                value: function (e, t) {
                  return He.c.setAxisAngle(this.q, e.v, t), this
                },
              },
              {
                key: 'rotateAxisAngleRadians',
                value: function (t, n) {
                  return (
                    He.c.setAxisAngle(e._tempQuat, t.v, n),
                    He.c.multiply(this.q, e._tempQuat, this.q),
                    this
                  )
                },
              },
              {
                key: 'x',
                get: function () {
                  return this.q[0]
                },
                set: function (e) {
                  this.q[0] = e
                },
              },
              {
                key: 'y',
                get: function () {
                  return this.q[1]
                },
                set: function (e) {
                  this.q[1] = e
                },
              },
              {
                key: 'z',
                get: function () {
                  return this.q[2]
                },
                set: function (e) {
                  this.q[2] = e
                },
              },
              {
                key: 'w',
                get: function () {
                  return this.q[3]
                },
                set: function (e) {
                  this.q[3] = e
                },
              },
            ],
            [
              {
                key: 'dot',
                value: function (e, t) {
                  return He.c.dot(e.q, t.q)
                },
              },
              {
                key: 'multiply',
                value: function (e, t, n) {
                  return He.c.multiply(e.q, t.q, n.q), e
                },
              },
              {
                key: 'invert',
                value: function (e, t) {
                  return (
                    (e.x = -t.x), (e.y = -t.y), (e.z = -t.z), (e.w = -t.w), e
                  )
                },
              },
              {
                key: 'lerp',
                value: function (e, t, n, i) {
                  return He.c.lerp(e.q, t.q, n.q, i), e
                },
              },
              {
                key: 'slerp',
                value: function (e, t, n, i) {
                  return He.c.slerp(e.q, t.q, n.q, i), e
                },
              },
              {
                key: 'closestSlerp',
                value: function (t, n, i, a) {
                  return (
                    n.dot(i) < 0
                      ? (e.invert(this.tInvB, i), e.slerp(t, n, this.tInvB, a))
                      : e.slerp(t, n, i, a),
                    t
                  )
                },
              },
              {
                key: 'fromMat3',
                value: function (e, t) {
                  return He.c.fromMat3(e.q, t), e
                },
              },
              {
                key: 'lookAt',
                value: function (t, n, i, a) {
                  e._tempForward.copy(n),
                    e._tempForward.subtract(i),
                    e._tempForward.normalize(),
                    it.cross(e._tempRight, a, e._tempForward),
                    e._tempRight.normalize(),
                    it.cross(e._tempUp, e._tempForward, e._tempRight),
                    e._tempUp.normalize()
                  var r = He.a.fromValues(
                    e._tempRight.x,
                    e._tempRight.y,
                    e._tempRight.z,
                    e._tempUp.x,
                    e._tempUp.y,
                    e._tempUp.z,
                    e._tempForward.x,
                    e._tempForward.y,
                    e._tempForward.z
                  )
                  return e.fromMat3(t, r), t
                },
              },
              {
                key: 'CreateFromAxisAngle',
                value: function (e, t, n) {
                  var i = 0.5 * n,
                    a = Math.sin(i)
                  e.setValues(t.x * a, t.y * a, t.z * a, Math.cos(i))
                },
              },
              {
                key: 'fromEuler',
                value: function (e, t, n, i) {
                  return He.c.fromEuler(e.q, t, n, i), e
                },
              },
            ]
          ),
          e
        )
      })()
    ;(qt.IDENTITY = new qt()),
      (qt._tempQuat = He.c.create()),
      (qt.tInvB = new qt()),
      (qt._tempForward = new it()),
      (qt._tempRight = new it()),
      (qt._tempUp = new it())
    var jt = (function (e) {
      function t() {
        var e
        return (
          se()(this, t),
          ((e = ce()(this, he()(t).call(this))).autoUpdate = !0),
          (e._rotation = new qt()),
          (e._pos = new it()),
          (e._scale = new it(1, 1, 1)),
          (e._parent = null),
          (e._matrix = He.b.create()),
          (e._localMatrix = He.b.create()),
          (e._changeCallback = []),
          (e._children = []),
          (e._tempMat4 = He.b.create()),
          (e._tempMat3 = He.a.create()),
          (e._tempV3a = new it()),
          (e._dirty = !0),
          (e._signalDirtyDown = !1),
          e
        )
      }
      return (
        pe()(t, e),
        le()(
          t,
          [
            {
              key: 'identity',
              value: function () {
                this._pos.setValues(0, 0, 0),
                  this._rotation.identity(),
                  this._scale.setValues(1, 1, 1)
              },
            },
            {
              key: 'setParent',
              value: function (e) {
                this._parent !== e &&
                  (this._parent && this._parent.removeChild(this),
                  (this._parent = e),
                  e && e.addChild(this),
                  this.setDirty())
              },
            },
            {
              key: 'getParent',
              value: function () {
                return this._parent
              },
            },
            {
              key: 'addChild',
              value: function (e) {
                this._children.indexOf(e) < 0 &&
                  (this._children.push(e), e.setParent(this))
              },
            },
            {
              key: 'removeChild',
              value: function (e) {
                var t = this._children.indexOf(e)
                t > -1 && (this._children.splice(t, 1), e.setParent(null))
              },
            },
            {
              key: 'getChildren',
              value: function () {
                return this._children
              },
            },
            {
              key: 'addChangeCallBack',
              value: function (e) {
                this._changeCallback.push(e)
              },
            },
            {
              key: 'setDirty',
              value: function () {
                this._dirty || ((this._dirty = !0), this.signalDirtyDown())
              },
            },
            {
              key: 'setParentDirty',
              value: function () {
                this.signalDirtyDown()
              },
            },
            {
              key: 'signalDirtyDown',
              value: function () {
                if (!this._signalDirtyDown) {
                  this._signalDirtyDown = !0
                  for (var e = this._changeCallback.length - 1; e >= 0; e--)
                    this._changeCallback[e].call(this)
                  for (var t = this._children.length - 1; t >= 0; t--)
                    this._children[t].setParentDirty()
                }
              },
            },
            {
              key: 'clone',
              value: function () {
                var e = new t()
                return (
                  e.setScale(this._scale),
                  e.setRotation(this._rotation),
                  e.setPosition(this._pos),
                  e
                )
              },
            },
            {
              key: 'copy',
              value: function (e) {
                return (
                  this.setScale(e._scale),
                  this.setRotation(e._rotation),
                  this.setPosition(e._pos),
                  this
                )
              },
            },
            {
              key: 'updateMatrix',
              value: function () {
                ;(this._dirty || this._signalDirtyDown) &&
                  (this.autoUpdate &&
                    (this._dirty &&
                      He.b.fromRotationTranslationScale(
                        this._localMatrix,
                        this._rotation.q,
                        this._pos.v,
                        this._scale.v
                      ),
                    this._parent
                      ? He.b.multiply(
                          this._matrix,
                          this._parent.getWorldMatrix(),
                          this._localMatrix
                        )
                      : this._dirty &&
                        He.b.copy(this._matrix, this._localMatrix)),
                  (this._dirty = !1),
                  (this._signalDirtyDown = !1))
              },
            },
            {
              key: 'lookAt',
              value: function (e, t) {
                var n =
                  arguments.length > 2 && void 0 !== arguments[2]
                    ? arguments[2]
                    : it.UP
                this.setPosition(e), this.lookAtFromCurrentPos(t, n)
              },
            },
            {
              key: 'lookAtFromCurrentPos',
              value: function (e) {
                var t =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : it.UP
                qt.lookAt(this._rotation, this._pos, e, t), this.setDirty()
              },
            },
            {
              key: 'setPositionRotationScale',
              value: function (e, t, n) {
                this._pos.copy(e),
                  this._rotation.copy(t),
                  this._scale.copy(n),
                  this.setDirty()
              },
            },
            {
              key: 'getWorldMatrix',
              value: function () {
                return this.updateMatrix(), this._matrix
              },
            },
            {
              key: 'getLocalMatrix',
              value: function () {
                return this.updateMatrix(), this._localMatrix
              },
            },
            {
              key: 'getPosition',
              value: function () {
                return this._pos
              },
            },
            {
              key: 'setPosition',
              value: function (e) {
                this._pos.copy(e), this.setDirty()
              },
            },
            {
              key: 'setPositionValues',
              value: function (e, t, n) {
                this._pos.setValues(e, t, n), this.setDirty()
              },
            },
            {
              key: 'getWorldPosition',
              value: function () {
                this.updateMatrix()
                var e = this._tempV3a
                return e.copy(it.ZERO), e.transform(this._matrix), e
              },
            },
            {
              key: 'getScale',
              value: function () {
                return this._scale
              },
            },
            {
              key: 'setScale',
              value: function (e) {
                this._scale.copy(e), this.setDirty()
              },
            },
            {
              key: 'setScaleScalar',
              value: function (e) {
                this._scale.setValues(e, e, e), this.setDirty()
              },
            },
            {
              key: 'setScaleValues',
              value: function (e, t, n) {
                this._scale.setValues(e, t, n), this.setDirty()
              },
            },
            {
              key: 'translateX',
              value: function (e) {
                ;(this._pos.x += e), this.setDirty()
              },
            },
            {
              key: 'translateY',
              value: function (e) {
                ;(this._pos.y += e), this.setDirty()
              },
            },
            {
              key: 'translateZ',
              value: function (e) {
                ;(this._pos.z += e), this.setDirty()
              },
            },
            {
              key: 'translate',
              value: function (e) {
                this._pos.add(e), this.setDirty()
              },
            },
            {
              key: 'translateValues',
              value: function (e, t, n) {
                ;(this._pos.x += e),
                  (this._pos.y += t),
                  (this._pos.z += n),
                  this.setDirty()
              },
            },
            {
              key: 'getRotation',
              value: function () {
                return this._rotation
              },
            },
            {
              key: 'setRotation',
              value: function (e) {
                this._rotation.copy(e), this.setDirty()
              },
            },
            {
              key: 'getRotationMatrix',
              value: function () {
                return (
                  He.b.fromQuat(this._tempMat4, this._rotation.q),
                  this._tempMat4
                )
              },
            },
            {
              key: 'getRotationMatrixMat3',
              value: function () {
                return (
                  He.a.fromQuat(this._tempMat3, this._rotation.q),
                  this._tempMat3
                )
              },
            },
            {
              key: 'getWorldRotationMatrixMat3',
              value: function () {
                var e = this.getRotationMatrixMat3()
                return (
                  this._parent &&
                    He.a.multiply(
                      e,
                      this._parent.getWorldRotationMatrixMat3(),
                      e
                    ),
                  e
                )
              },
            },
            {
              key: 'getWorldRotationMatrix',
              value: function () {
                var e = this.getRotationMatrix()
                return (
                  this._parent &&
                    He.b.multiply(e, this._parent.getRotationMatrix(), e),
                  e
                )
              },
            },
            {
              key: 'setRotationFromMatrix',
              value: function (e) {
                qt.fromMat3(this._rotation, e), this.setDirty()
              },
            },
            {
              key: 'rotateRadiansValues',
              value: function (e, t, n) {
                return (
                  this._rotation.rotateY(t),
                  this._rotation.rotateX(e),
                  this._rotation.rotateZ(n),
                  this.setDirty(),
                  this._rotation
                )
              },
            },
            {
              key: 'rotateRadians',
              value: function (e) {
                return this.rotateRadiansValues(e.x, e.y, e.z)
              },
            },
            {
              key: 'rotateDegreesValues',
              value: function (e, n, i) {
                return this.rotateRadiansValues(
                  e * t._degToRad,
                  n * t._degToRad,
                  i * t._degToRad
                )
              },
            },
            {
              key: 'rotateDegrees',
              value: function (e) {
                return this.rotateDegreesValues(e.x, e.y, e.z)
              },
            },
            {
              key: 'rotateAxisAngleRadians',
              value: function (e, t) {
                return (
                  this._rotation.rotateAxisAngleRadians(e, t),
                  this.setDirty(),
                  this._rotation
                )
              },
            },
            {
              key: 'rotateDegreesY',
              value: function (e) {
                this._rotation.rotateY(e * t._degToRad), this.setDirty()
              },
            },
            {
              key: 'rotateRadiansX',
              value: function (e) {
                this._rotation.rotateX(e), this.setDirty()
              },
            },
            {
              key: 'rotateRadiansY',
              value: function (e) {
                this._rotation.rotateY(e), this.setDirty()
              },
            },
            {
              key: 'rotateRadiansZ',
              value: function (e) {
                this._rotation.rotateZ(e), this.setDirty()
              },
            },
            {
              key: 'setEulerDegreesValues',
              value: function (e, t, n) {
                this._rotation.identity(), this.rotateDegreesValues(e, t, n)
              },
            },
            {
              key: 'setEulerDegrees',
              value: function (e) {
                this.setEulerDegreesValues(e.x, e.y, e.z)
              },
            },
            {
              key: 'setEulerDegreesXY',
              value: function (e) {
                this.setEulerDegreesValues(e.x, e.y, 0)
              },
            },
            {
              key: 'setEulerRadians',
              value: function (e) {
                this._rotation.identity(),
                  this.rotateRadiansValues(e.x, e.y, e.z)
              },
            },
            {
              key: 'setRadiansX',
              value: function (e) {
                this._rotation.identity(), this.rotateRadiansX(e)
              },
            },
            {
              key: 'setRadiansY',
              value: function (e) {
                this._rotation.identity(), this.rotateRadiansY(e)
              },
            },
            {
              key: 'setRadiansZ',
              value: function (e) {
                this._rotation.identity(), this.rotateRadiansZ(e)
              },
            },
            {
              key: 'getEulerDegrees',
              value: function () {
                He.a.fromQuat(this._tempMat3, this._rotation.q)
                var e = t.getEulerRadiansYXZ(this._tempMat3)
                return (
                  (e.x *= t._radToDeg),
                  (e.y *= t._radToDeg),
                  (e.z *= t._radToDeg),
                  e
                )
              },
            },
            {
              key: 'getForward',
              value: function () {
                var e = this.getRotationMatrixMat3()
                return this._tempV3a.setValues(e[6], e[7], e[8]), this._tempV3a
              },
            },
            {
              key: 'getWorldForward',
              value: function () {
                var e = this.getWorldRotationMatrixMat3()
                return this._tempV3a.setValues(e[6], e[7], e[8]), this._tempV3a
              },
            },
            {
              key: 'getRight',
              value: function () {
                var e = this.getRotationMatrixMat3()
                return this._tempV3a.setValues(e[0], e[1], e[2]), this._tempV3a
              },
            },
            {
              key: 'getWorldRight',
              value: function () {
                var e = this.getWorldRotationMatrixMat3()
                return this._tempV3a.setValues(e[0], e[1], e[2]), this._tempV3a
              },
            },
            {
              key: 'getUp',
              value: function () {
                var e = this.getRotationMatrixMat3()
                return this._tempV3a.setValues(e[3], e[4], e[5]), this._tempV3a
              },
            },
            {
              key: 'getWorldUp',
              value: function () {
                var e = this.getWorldRotationMatrixMat3()
                return this._tempV3a.setValues(e[3], e[4], e[5]), this._tempV3a
              },
            },
            {
              key: 'setDirection',
              value: function (e, n) {
                var i = this._tempV3a
                it.cross(i, n, e), i.normalize()
                var a = t._tempV3aS
                it.cross(a, e, i),
                  a.normalize(),
                  He.a.set(
                    this._tempMat3,
                    i.x,
                    i.y,
                    i.z,
                    a.x,
                    a.y,
                    a.z,
                    e.x,
                    e.y,
                    e.z
                  ),
                  this.setRotationFromMatrix(this._tempMat3)
              },
            },
            {
              key: 'getDirection',
              value: function () {
                var e = this._tempV3a
                return (
                  e.copy(it.FORWARD),
                  e.transformMat3(this.getWorldRotationMatrixMat3()),
                  e
                )
              },
            },
            {
              key: 'destruct',
              value: function () {
                ge()(he()(t.prototype), 'destruct', this).call(this)
              },
            },
          ],
          [
            {
              key: 'getEulerRadiansYXZ',
              value: function (e) {
                var n, i, a
                return (
                  e[7] < -1 + this.singularityRange
                    ? ((n = Math.PI / 2), (i = Math.atan2(e[3], e[0])), (a = 0))
                    : e[7] > 1 - this.singularityRange
                    ? ((n = -Math.PI / 2),
                      (i = -Math.atan2(e[3], e[0])),
                      (a = 0))
                    : ((n = Math.asin(-e[7])),
                      (i = Math.atan2(e[6], e[8])),
                      (a = Math.atan2(e[1], e[4]))),
                  t._tempV3aS.setValues(n, i, a),
                  t._tempV3aS
                )
              },
            },
          ]
        ),
        t
      )
    })(Ge)
    ;(jt._degToRad = Math.PI / 180),
      (jt._radToDeg = 180 / Math.PI),
      (jt._tempV3aS = new it()),
      (jt.singularityRange = 1e-4)
    var Wt = jt,
      Xt = (function (e) {
        function t(e) {
          var n
          return (
            se()(this, t),
            ((n = ce()(this, he()(t).call(this))).dirty = !0),
            (n._viewMatrix = He.b.create()),
            (n._rotationMatrix = He.b.create()),
            (n.transform = new Wt()),
            n.transform.addChangeCallBack(function () {
              return n.setDirty()
            }),
            (n._changeCallback = e),
            n
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'getWorldPosition',
              value: function () {
                return this.transform.getWorldPosition()
              },
            },
            {
              key: 'setDirty',
              value: function () {
                ;(this.dirty = !0), this._changeCallback.call(this)
              },
            },
            {
              key: 'getMatrix',
              value: function () {
                return this.updateMatrix(), this._viewMatrix
              },
            },
            {
              key: 'updateMatrix',
              value: function () {
                this.dirty &&
                  (He.b.invert(
                    this._viewMatrix,
                    this.transform.getWorldMatrix()
                  ),
                  (this.dirty = !1))
              },
            },
            {
              key: 'getWorldRotationMatrix',
              value: function () {
                return (
                  He.b.invert(
                    this._rotationMatrix,
                    this.transform.getWorldRotationMatrix()
                  ),
                  this._rotationMatrix
                )
              },
            },
            {
              key: 'destruct',
              value: function () {
                this.transform && this.transform.destruct(),
                  ge()(he()(t.prototype), 'destruct', this).call(this)
              },
            },
          ]),
          t
        )
      })(Ge),
      Yt = (function (e) {
        function t() {
          var e,
            n =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : 60,
            i =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : 0.01,
            a =
              arguments.length > 2 && void 0 !== arguments[2]
                ? arguments[2]
                : 10
          return (
            se()(this, t),
            ((e = ce()(this, he()(t).call(this))).dirty = !0),
            (e._viewProjection = He.b.create()),
            (e.tScreenPos = new Je()),
            (e.tViewProjInv = He.b.create()),
            (e.projection = new Ht(
              function () {
                return e.setDirty()
              },
              n,
              i,
              a
            )),
            (e.view = new Xt(function () {
              return e.setDirty()
            })),
            e
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'setDirty',
              value: function () {
                this.dirty = !0
              },
            },
            {
              key: 'getWorldPosition',
              value: function () {
                return this.view.getWorldPosition()
              },
            },
            {
              key: 'lookAt',
              value: function (e, t) {
                var n =
                  arguments.length > 2 && void 0 !== arguments[2]
                    ? arguments[2]
                    : it.UP
                this.view.transform.lookAt(e, t, n)
              },
            },
            {
              key: 'setPosition',
              value: function (e) {
                this.view.transform.setPosition(e)
              },
            },
            {
              key: 'getViewProjection',
              value: function () {
                return this.updateViewProjection(), this._viewProjection
              },
            },
            {
              key: 'getProjectionMatrix',
              value: function () {
                return this.projection.getMatrix()
              },
            },
            {
              key: 'getViewMatrix',
              value: function () {
                return this.view.getMatrix()
              },
            },
            {
              key: 'getProjection',
              value: function () {
                return this.projection
              },
            },
            {
              key: 'updateViewProjection',
              value: function () {
                this.dirty &&
                  (He.b.multiply(
                    this._viewProjection,
                    this.projection.getMatrix(),
                    this.view.getMatrix()
                  ),
                  (this.dirty = !1))
              },
            },
            {
              key: 'worldToScreenPoint',
              value: function (e, t) {
                ;(this.tScreenPos.x = t.x),
                  (this.tScreenPos.y = t.y),
                  (this.tScreenPos.z = t.z),
                  (this.tScreenPos.w = 1),
                  this.tScreenPos.transform(this.getViewProjection()),
                  (this.tScreenPos.x /= this.tScreenPos.w),
                  (this.tScreenPos.y /= this.tScreenPos.w),
                  (this.tScreenPos.x = 0.5 * this.tScreenPos.x + 0.5),
                  (this.tScreenPos.y = -0.5 * this.tScreenPos.y + 0.5),
                  e.copy(this.tScreenPos)
              },
            },
            {
              key: 'screenToWorldPoint',
              value: function (e, t) {
                He.b.invert(this.tViewProjInv, this.getViewProjection())
                var n = 2 * t.x - 1,
                  i = -2 * t.y + 1
                ;(e.x = n), (e.y = i), (e.z = 1), e.transform(this.tViewProjInv)
              },
            },
            {
              key: 'getDepth',
              value: function (e) {
                return (
                  (this.tScreenPos.x = e.x),
                  (this.tScreenPos.y = e.y),
                  (this.tScreenPos.z = e.z),
                  (this.tScreenPos.w = 1),
                  this.tScreenPos.transform(this.getViewProjection()),
                  this.tScreenPos.z
                )
              },
            },
            {
              key: 'destruct',
              value: function () {
                this.projection && this.projection.destruct(),
                  this.view && this.view.destruct(),
                  ge()(he()(t.prototype), 'destruct', this).call(this)
              },
            },
          ]),
          t
        )
      })(Ge),
      Zt = (function () {
        function e() {
          se()(this, e),
            (this.ro = new it()),
            (this.rd = new it()),
            (this._oc = new it())
        }
        return (
          le()(e, [
            {
              key: 'setVectors',
              value: function (e, t) {
                this.ro.copy(e), this.rd.copy(t)
              },
            },
            {
              key: 'intersectTriangle',
              value: function (t, n, i, a) {
                a.z = -1
                var r = e._tempV30,
                  s = e._tempV31
                it.subtract(r, n, t), it.subtract(s, i, t)
                var o = e._tempV32
                it.cross(o, this.rd, s)
                var l = it.dot(r, o)
                if (!(l < 1e-4)) {
                  var u = 1 / l,
                    c = e._tempV33
                  it.subtract(c, this.ro, t)
                  var d = it.dot(c, o) * u
                  if (!(d < 0 || d > 1)) {
                    var h = e._tempV32
                    it.cross(h, c, r)
                    var f = it.dot(this.rd, h) * u
                    if (!(f < 0 || d + f > 1)) {
                      var p = it.dot(s, h) * u
                      a.setValues(d, f, p)
                    }
                  }
                }
              },
            },
            {
              key: 'intersectCube',
              value: function (e, t) {
                var n =
                    arguments.length > 2 && void 0 !== arguments[2]
                      ? arguments[2]
                      : null,
                  i = new Je(this.rd.x, this.rd.y, this.rd.z, 0)
                i.transform(t)
                var a = new it(i.x, i.y, i.z),
                  r = new Je(this.ro.x, this.ro.y, this.ro.z, 1)
                r.transform(t)
                var s = new it(r.x, r.y, r.z),
                  o = new it(1, 1, 1).divide(a),
                  l = o.clone().multiply(s),
                  u = new it(
                    Math.abs(o.x),
                    Math.abs(o.y),
                    Math.abs(o.z)
                  ).multiply(e),
                  c = l.clone().multiplyScalar(-1).subtract(u),
                  d = l.clone().multiplyScalar(-1).add(u),
                  h = Math.max(Math.max(c.x, c.y), c.z),
                  f = Math.min(Math.min(d.x, d.y), d.z)
                return (
                  !(h > f || f < 0) &&
                  (n &&
                    (n.copy(this.rd),
                    n.multiplyScalar(h < 0 ? f : h),
                    n.add(this.ro)),
                  !0)
                )
              },
            },
            {
              key: 'intersectSphere',
              value: function (e, t) {
                var n =
                  arguments.length > 2 && void 0 !== arguments[2]
                    ? arguments[2]
                    : null
                this._oc.copy(this.ro), this._oc.subtract(e)
                var i = it.dot(this._oc, this.rd),
                  a = i * i - (it.dot(this._oc, this._oc) - t * t)
                if (a < 0) return !1
                var r = -i - Math.sqrt(a)
                return (
                  !(r < 0) &&
                  (n && (n.copy(this.rd), n.multiplyScalar(r), n.add(this.ro)),
                  !0)
                )
              },
            },
            {
              key: 'intersectPlane',
              value: function (e, t) {
                var n =
                    arguments.length > 2 && void 0 !== arguments[2]
                      ? arguments[2]
                      : null,
                  i = -(it.dot(e, this.ro) + t) / it.dot(e, this.rd)
                return (
                  i > 0 &&
                  (n && (n.copy(this.rd), n.multiplyScalar(i), n.add(this.ro)),
                  !0)
                )
              },
            },
            {
              key: 'intersectPlane2',
              value: function (t, n) {
                var i =
                    arguments.length > 2 && void 0 !== arguments[2]
                      ? arguments[2]
                      : null,
                  a = e._tempV30
                it.subtract(a, t, this.ro)
                var r = it.dot(n, a) / it.dot(n, this.rd)
                return (
                  r > 0 &&
                  (i && (i.copy(this.rd), i.multiplyScalar(r), i.add(this.ro)),
                  !0)
                )
              },
            },
            {
              key: 'setFromCamera',
              value: function (t, n) {
                this.ro.copy(t.view.getWorldPosition()),
                  He.b.invert(e._tempMat4, t.projection.getMatrix()),
                  e._tempVec4.setValues(n.x, n.y, 1, 1),
                  e._tempVec4.transform(e._tempMat4),
                  (e._tempVec4.z = -1),
                  (e._tempVec4.w = 0),
                  He.b.invert(e._tempMat4, t.view.getMatrix()),
                  e._tempVec4.transform(e._tempMat4),
                  (this.rd.x = e._tempVec4.x),
                  (this.rd.y = e._tempVec4.y),
                  (this.rd.z = e._tempVec4.z),
                  this.rd.normalize()
              },
            },
            {
              key: 'getClosestPointOnRayToPoint',
              value: function (t, n) {
                var i = this.ro,
                  a = e._tempV30
                a.copy(i), a.add(this.rd)
                var r = e._tempV31
                it.subtract(r, n, i)
                var s = e._tempV31
                it.subtract(s, a, i)
                var o = s.x * s.x + s.y * s.y,
                  l = (r.x * s.x + r.y * s.y) / o
                it.multiplyScalar(t, s, l), t.add(i)
              },
            },
          ]),
          e
        )
      })()
    ;(Zt._tempMat4 = He.b.create()),
      (Zt._tempVec4 = new Je()),
      (Zt._tempV30 = new it()),
      (Zt._tempV31 = new it()),
      (Zt._tempV32 = new it()),
      (Zt._tempV33 = new it())
    var Kt = Zt,
      Jt = (function (e) {
        function t(e, n, i, a) {
          var r,
            s = arguments.length > 4 && void 0 !== arguments[4] && arguments[4],
            o =
              !(arguments.length > 5 && void 0 !== arguments[5]) ||
              arguments[5],
            l = arguments.length > 6 && void 0 !== arguments[6] && arguments[6]
          return (
            se()(this, t),
            ((r = ce()(
              this,
              he()(t).call(this, e, n, 'webgl2', i, a, s, o, l)
            ))._vertexArrayObjects = {}),
            (r._vertexArrayObjects = {}),
            r
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'init',
              value: function () {
                ge()(he()(t.prototype), 'init', this).call(this)
              },
            },
            {
              key: 'getRenderContext',
              value: function () {
                return this.context
              },
            },
            {
              key: 'preprocessShaderString',
              value: function (e) {
                var t = e.indexOf('#version'),
                  n = ''
                return (
                  t > -1 && (n = e.substr(t, e.indexOf('\n', t) - t)),
                  (e = n + '\n#define WEBGL2\n' + (e = e.replace(n, '')))
                )
              },
            },
            {
              key: 'getVAO',
              value: function (e, t) {
                var n = null,
                  i = this._vertexArrayObjects[e.id]
                return (
                  i
                    ? (n = i[t.id]) || ((n = this.initVAO(e, t)), (i[t.id] = n))
                    : ((i = []),
                      (n = this.initVAO(e, t)),
                      (i[t.id] = n),
                      (this._vertexArrayObjects[e.id] = i)),
                  n
                )
              },
            },
            {
              key: 'initVAO',
              value: function (e, t) {
                var n = this.getRenderContext(),
                  i = n.createVertexArray()
                n.bindVertexArray(i)
                var a = 0
                e.isInterleaved() &&
                  (e.interleaveData(),
                  this.context.bindBuffer(
                    this.context.ARRAY_BUFFER,
                    e.interleavedBuffer
                  ))
                for (var r = 0; r < e.attributes.length; r++) {
                  var s = e.attributes[r],
                    o = t.shader.getAttributeByName(s.name)
                  if (o) {
                    if (s.stride !== o.stride) {
                      Ye.log(
                        "Renderer: initVAO: strides don't match: ",
                        s.stride,
                        o.stride
                      )
                      continue
                    }
                    if (e.isInterleaved())
                      n.enableVertexAttribArray(o.loc),
                        n.vertexAttribPointer(
                          o.loc,
                          o.stride,
                          n.FLOAT,
                          !1,
                          4 * e.interleavedStrideSum,
                          a
                        )
                    else {
                      if (void 0 === s.buffer)
                        throw new ReferenceError(
                          'Expected buffer to be defined on VertexAttribute on non-interleaved mesh.'
                        )
                      n.bindBuffer(n.ARRAY_BUFFER, s.buffer),
                        n.enableVertexAttribArray(o.loc),
                        n.vertexAttribPointer(
                          o.loc,
                          o.stride,
                          n.FLOAT,
                          !1,
                          4 * o.stride,
                          0
                        )
                    }
                  }
                  e.interleaved && (a += 4 * s.stride)
                }
                return (
                  e.indexBuffer &&
                    n.bindBuffer(n.ELEMENT_ARRAY_BUFFER, e.indexBuffer),
                  i
                )
              },
            },
            {
              key: 'draw',
              value: function (e, t) {
                var n =
                    arguments.length > 2 && void 0 !== arguments[2]
                      ? arguments[2]
                      : 0,
                  i =
                    arguments.length > 3 && void 0 !== arguments[3]
                      ? arguments[3]
                      : -1
                t.setActive()
                var a = this.getVAO(e, t)
                this.context.bindVertexArray(a), this.drawElements(e, t, n, i)
              },
            },
            {
              key: 'startBatch',
              value: function (e, t) {
                t.setActive()
                var n = this.getVAO(e, t)
                this.getRenderContext().bindVertexArray(n)
              },
            },
            {
              key: 'drawElements',
              value: function (e, t) {
                var n =
                    arguments.length > 2 && void 0 !== arguments[2]
                      ? arguments[2]
                      : 0,
                  i =
                    arguments.length > 3 && void 0 !== arguments[3]
                      ? arguments[3]
                      : -1
                if (e.hasIndices()) {
                  var a = e.indices.length
                  i > 0
                    ? this.context.drawElements(
                        t.drawType,
                        Math.min(a, i),
                        e.indexType,
                        0
                      )
                    : this.context.drawElements(t.drawType, a, e.indexType, 0)
                } else {
                  var r = e.getNumVertices() - n
                  i > 0
                    ? this.context.drawArrays(t.drawType, n, Math.min(r, i))
                    : this.context.drawArrays(t.drawType, n, r)
                }
              },
            },
            {
              key: 'drawInstanced',
              value: function (e, t, n, i) {
                t.setActive()
                var a =
                    this._vertexArrayObjects &&
                    void 0 !== this._vertexArrayObjects[e.id] &&
                    void 0 !== this._vertexArrayObjects[e.id][t.id],
                  r = this.getVAO(e, t),
                  s = this.getRenderContext()
                if ((s.bindVertexArray(r), !a))
                  for (var o = 0; o < i.attributes.length; ++o) {
                    var l = i.attributes[o]
                    s.bindBuffer(s.ARRAY_BUFFER, l.buffer),
                      s.enableVertexAttribArray(l.index),
                      s.vertexAttribPointer(
                        l.index,
                        l.nrComponents,
                        s.FLOAT,
                        !1,
                        l.bufferStride,
                        l.bufferOffset
                      ),
                      s.vertexAttribDivisor(l.index, 1)
                  }
                e.hasIndices()
                  ? s.drawElementsInstanced(
                      t.drawType,
                      e.indices.length,
                      e.indexType,
                      0,
                      n
                    )
                  : s.drawArraysInstanced(t.drawType, 0, e.getNumVertices(), n)
              },
            },
            {
              key: 'destruct',
              value: function () {
                if (!this.isDestructed) {
                  if (
                    (Ye.log('RendererWebGL2: destruct'),
                    this._vertexArrayObjects)
                  )
                    for (var e in this._vertexArrayObjects)
                      for (
                        var n = 0;
                        n < this._vertexArrayObjects[e].length;
                        ++n
                      )
                        this.getRenderContext().deleteVertexArray(
                          this._vertexArrayObjects[e][n]
                        )
                  ge()(he()(t.prototype), 'destruct', this).call(this)
                }
              },
            },
          ]),
          t
        )
      })(wt),
      Qt = (function () {
        function e() {
          se()(this, e)
        }
        return (
          le()(e, null, [
            {
              key: 'checkFloatCompatibility',
              value: function (t, n) {
                if (!t.extensionManager.texture_float)
                  if (t.extensionManager.texture_half_float) {
                    if (n === e.RGB_FLOAT) return e.RGB_HALF_FLOAT
                    if (n === e.RGBA_FLOAT) return e.RGBA_HALF_FLOAT
                  } else
                    console.log('Texture: setFormatType: not supported: ', n)
                return n
              },
            },
            {
              key: 'checkHalfFloatCompatibility',
              value: function (t, n) {
                if (!t.extensionManager.texture_half_float)
                  if (t.extensionManager.texture_float) {
                    if (n === e.RGB_HALF_FLOAT) return e.RGB_FLOAT
                    if (n === e.RGBA_HALF_FLOAT) return e.RGBA_FLOAT
                  } else
                    console.log('Texture: setFormatType: not supported: ', n)
                return n
              },
            },
            {
              key: 'validateFormatType',
              value: function (t, n) {
                switch (n) {
                  case e.RGB_FLOAT:
                    n = this.checkFloatCompatibility(t, n)
                  case e.RGBA_FLOAT:
                    n = this.checkFloatCompatibility(t, n)
                  case e.RGBA_HALF_FLOAT:
                    n = this.checkHalfFloatCompatibility(t, n)
                  case e.RGB_HALF_FLOAT:
                    n = this.checkHalfFloatCompatibility(t, n)
                }
                return n
              },
            },
            {
              key: 'getFormat',
              value: function (t, n) {
                switch (n) {
                  case e.RGBA_UNSIGNED_BYTE:
                    return tt.RGBA
                  case e.RGB_UNSIGNED_BYTE:
                  case e.RGB_FLOAT:
                    return tt.RGB
                  case e.RGBA_FLOAT:
                  case e.RGBA_HALF_FLOAT:
                    return tt.RGBA
                  case e.RGB_HALF_FLOAT:
                    return tt.RGB
                  case e.RG_HALF_FLOAT:
                    return ht.RG
                  case e.LUMINANCE_UNSIGNED_BYTE:
                  case e.LUMINANCE_FLOAT:
                  case e.LUMINANCE_HALF_fLOAT:
                    return t instanceof Jt ? ht.RED : tt.LUMINANCE
                  case e.DEPTH_UINTSHORT:
                  case e.DEPTH_FLOAT:
                    return tt.DEPTH_COMPONENT
                  default:
                    return (
                      Ye.error('can not yet get format for formatType: ', n), -1
                    )
                }
              },
            },
            {
              key: 'getType',
              value: function (t, n) {
                switch (n) {
                  case e.RGBA_UNSIGNED_BYTE:
                  case e.RGB_UNSIGNED_BYTE:
                    return tt.UNSIGNED_BYTE
                  case e.RGBA_FLOAT:
                  case e.RGB_FLOAT:
                    return tt.FLOAT
                  case e.RGBA_HALF_FLOAT:
                  case e.RGB_HALF_FLOAT:
                  case e.RG_HALF_FLOAT:
                    return e.getHalfFloatType(t)
                  case e.LUMINANCE_UNSIGNED_BYTE:
                    return tt.UNSIGNED_BYTE
                  case e.LUMINANCE_FLOAT:
                    return tt.FLOAT
                  case e.LUMINANCE_HALF_fLOAT:
                    return e.getHalfFloatType(t)
                  case e.DEPTH_UINTSHORT:
                    return tt.UNSIGNED_SHORT
                  case e.DEPTH_FLOAT:
                    return tt.FLOAT
                  default:
                    return (
                      Ye.error('can not yet get type for formatType: ', n), -1
                    )
                }
              },
            },
            {
              key: 'getHalfFloatType',
              value: function (e) {
                if (e instanceof Jt) return ht.HALF_FLOAT
                var t = e.extensionManager.texture_half_float
                return t ? t.HALF_FLOAT_OES : -1
              },
            },
            {
              key: 'getInternalFormat',
              value: function (t) {
                switch (t) {
                  case e.RGBA_UNSIGNED_BYTE:
                    return ht.RGBA8
                  case e.RGB_UNSIGNED_BYTE:
                    return ht.RGB8
                  case e.RGBA_FLOAT:
                    return ht.RGBA32F
                  case e.RGB_FLOAT:
                    return ht.RGB32F
                  case e.RGBA_HALF_FLOAT:
                    return ht.RGBA16F
                  case e.RGB_HALF_FLOAT:
                    return ht.RGB16F
                  case e.RG_HALF_FLOAT:
                    return ht.RG16F
                  case e.LUMINANCE_UNSIGNED_BYTE:
                    return ht.R8
                  case e.LUMINANCE_FLOAT:
                    return ht.R32F
                  case e.LUMINANCE_HALF_fLOAT:
                    return ht.R16F
                  case e.DEPTH_UINTSHORT:
                    return ht.DEPTH_COMPONENT24
                  case e.DEPTH_FLOAT:
                    return ht.DEPTH_COMPONENT32F
                  default:
                    return (
                      Ye.error('can not yet get type for formatType: ', t), -1
                    )
                }
              },
            },
            {
              key: 'getBytesPerPixel',
              value: function (t) {
                switch (t) {
                  case e.RGBA_UNSIGNED_BYTE:
                    return 4
                  case e.RGB_UNSIGNED_BYTE:
                    return 3
                  case e.RGB_FLOAT:
                    return 12
                  case e.RGBA_FLOAT:
                    return 16
                  case e.RGBA_HALF_FLOAT:
                    return 8
                  case e.RGB_HALF_FLOAT:
                    return 6
                  case e.RG_HALF_FLOAT:
                    return 4
                  case e.LUMINANCE_UNSIGNED_BYTE:
                    return 1
                  case e.LUMINANCE_FLOAT:
                    return 4
                  case e.LUMINANCE_HALF_fLOAT:
                  case e.DEPTH_UINTSHORT:
                    return 2
                  case e.DEPTH_FLOAT:
                  default:
                    return 4
                }
              },
            },
          ]),
          e
        )
      })()
    ;(Qt.ALPHA_UNSIGNED_BYTE = 'ALPHA UNSIGNED_BYTE'),
      (Qt.ALPHA_FLOAT = 'ALPHA FLOAT'),
      (Qt.RGBA_UNSIGNED_BYTE = 'RGBA UNSIGNED_BYTE'),
      (Qt.RGBA_FLOAT = 'RGBA FLOAT'),
      (Qt.RGBA_HALF_FLOAT = 'RGBA HALF_FLOAT'),
      (Qt.RGB_HALF_FLOAT = 'RGB HALF_FLOAT'),
      (Qt.RGB_UNSIGNED_BYTE = 'RGB UNSIGNED_BYTE'),
      (Qt.RGB_FLOAT = 'RGB_FLOAT'),
      (Qt.LUMINANCE_UNSIGNED_BYTE = 'LUMINANCE UNSIGNED_BYTE'),
      (Qt.LUMINANCE_FLOAT = 'LUMINANCE FLOAT'),
      (Qt.LUMINANCE_HALF_fLOAT = 'LUMINANCE HALF_FLOAT'),
      (Qt.DEPTH_UINTSHORT = 'DEPTH_UINTSHORT'),
      (Qt.DEPTH_FLOAT = 'DEPTH_FLOAT'),
      (Qt.RG_HALF_FLOAT = 'RG HALF_FLOAT')
    var en = (function (e) {
      function t(e) {
        var n,
          i =
            arguments.length > 1 && void 0 !== arguments[1]
              ? arguments[1]
              : Qt.RGBA_UNSIGNED_BYTE,
          a = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
          r =
            !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3],
          s = !(arguments.length > 4 && void 0 !== arguments[4]) || arguments[4]
        if (
          (se()(this, t),
          ((n = ce()(this, he()(t).call(this, e))).name = 'unnamed'),
          (n._width = -1),
          (n._height = -1),
          (n._size = new je()),
          (n.internalFormat = -1),
          (n.filterLinearEnabled = !0),
          (n.useMips = !1),
          (n._mipsCreated = !1),
          (n.wrapModeClamp = !0),
          e instanceof Pt)
        )
          n.formatType = Qt.validateFormatType(e, i)
        else {
          if (!(e instanceof Jt))
            throw new Error('Could not determine type of renderer')
          ;(n.formatType = i), (n.internalFormat = Qt.getInternalFormat(i))
        }
        return (
          (n._format = Qt.getFormat(n.renderer, n.formatType)),
          (n._type = Qt.getType(n.renderer, n.formatType)),
          (n.useMips = a),
          r ? n.setFilteringLinear() : n.setFilteringNearest(),
          n.setWrapModeClamp(s),
          n
        )
      }
      return (
        pe()(t, e),
        le()(
          t,
          [
            {
              key: 'bindToSlot',
              value: function () {
                var e =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : 0
                this.renderer.renderState.bindTextureToSlot(this.textureGL, e)
              },
            },
            {
              key: 'bind',
              value: function () {
                this.renderer.context.activeTexture(
                  tt.TEXTURE0 +
                    this.renderer.maxParams.MAX_TEXTURE_IMAGE_UNITS -
                    1
                ),
                  this.renderer.context.bindTexture(
                    tt.TEXTURE_2D,
                    this.textureGL
                  )
              },
            },
            {
              key: 'setSize',
              value: function (e, t) {
                if (e !== this.width || t !== this.height) {
                  if (
                    ((this._width = e),
                    (this._height = t),
                    this.bind(),
                    this.renderer instanceof Pt)
                  ) {
                    var n = this.renderer.context
                    n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL, 0),
                      n.texImage2D(
                        tt.TEXTURE_2D,
                        0,
                        this.format,
                        this.width,
                        this.height,
                        0,
                        this.format,
                        this.type,
                        null
                      )
                  } else if (this.renderer instanceof Jt) {
                    var i = this.renderer.context
                    i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL, 0),
                      i.texImage2D(
                        tt.TEXTURE_2D,
                        0,
                        this.internalFormat,
                        this.width,
                        this.height,
                        0,
                        this.format,
                        this.type,
                        null
                      )
                  }
                  Ye.log(
                    'expensive operation: resize: ',
                    e,
                    t,
                    'format: ',
                    this.format
                  )
                }
              },
            },
            {
              key: 'getSize',
              value: function () {
                return this._size.setValues(this.width, this.height), this._size
              },
            },
            {
              key: 'setFilteringLinear',
              value: function () {
                this.setFiltering(!0)
              },
            },
            {
              key: 'setFilteringNearest',
              value: function () {
                this.setFiltering(!1)
              },
            },
            {
              key: 'setFiltering',
              value: function (e) {
                this.filterLinearEnabled = e
                var t,
                  n = this.renderer.context
                this.bind(),
                  (t = this._mipsCreated
                    ? e
                      ? tt.LINEAR_MIPMAP_LINEAR
                      : tt.NEAREST_MIPMAP_LINEAR
                    : e
                    ? tt.LINEAR
                    : tt.NEAREST),
                  n.texParameteri(
                    tt.TEXTURE_2D,
                    tt.TEXTURE_MAG_FILTER,
                    e ? tt.LINEAR : tt.NEAREST
                  ),
                  n.texParameteri(tt.TEXTURE_2D, tt.TEXTURE_MIN_FILTER, t)
              },
            },
            {
              key: 'setFilterAnisotropic',
              value: function () {
                var e =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : 4
                if (
                  (this.setFilteringLinear(),
                  this.renderer.extensionManager.filter_anisotropic)
                ) {
                  var t = this.renderer.context
                  ;(e = Math.min(
                    this.renderer.extensionManager.maxAnisotropy,
                    e
                  )),
                    t.texParameterf(
                      t.TEXTURE_2D,
                      this.renderer.extensionManager.filter_anisotropic
                        .TEXTURE_MAX_ANISOTROPY_EXT,
                      e
                    )
                }
              },
            },
            {
              key: 'setWrapModeClamp',
              value: function (e) {
                this.wrapModeClamp = e
                var t = this.renderer.context
                this.bind()
                var n = e ? tt.CLAMP_TO_EDGE : tt.REPEAT
                t.texParameteri(tt.TEXTURE_2D, tt.TEXTURE_WRAP_S, n),
                  t.texParameteri(tt.TEXTURE_2D, tt.TEXTURE_WRAP_T, n)
              },
            },
            {
              key: 'setWrapModeClampHorizontal',
              value: function (e) {
                this.setWrapModeClampForDirection(e, tt.TEXTURE_WRAP_S)
              },
            },
            {
              key: 'setWrapModeClampVertical',
              value: function (e) {
                this.setWrapModeClampForDirection(e, tt.TEXTURE_WRAP_T)
              },
            },
            {
              key: 'setWrapModeClampForDirection',
              value: function (e, t) {
                var n = this.renderer.context
                this.bind()
                var i = e ? tt.CLAMP_TO_EDGE : tt.REPEAT
                n.texParameteri(tt.TEXTURE_2D, t, i)
              },
            },
            {
              key: 'generateMips',
              value: function () {
                if (
                  this.renderer instanceof Pt &&
                  !t.isPOT(this.width, this.height)
                )
                  Ye.error(
                    "can't generate mips: npot: ",
                    this.width,
                    this.height
                  )
                else {
                  var e = this.renderer.context
                  this.bind(),
                    e.generateMipmap(e.TEXTURE_2D),
                    (this.useMips = !0),
                    (this._mipsCreated = !0),
                    this.filterLinearEnabled
                      ? this.setFilteringLinear()
                      : this.setFilteringNearest()
                }
              },
            },
            {
              key: 'disableMips',
              value: function () {
                ;(this.useMips = !1),
                  (this._mipsCreated = !1),
                  this.filterLinearEnabled
                    ? this.setFilteringLinear()
                    : this.setFilteringNearest()
              },
            },
            {
              key: 'setData',
              value: function (e, t, n) {
                var i =
                    arguments.length > 3 &&
                    void 0 !== arguments[3] &&
                    arguments[3],
                  a = this.renderer.context
                this.bind(),
                  a.pixelStorei(tt.UNPACK_ALIGNMENT, 1),
                  a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL, i ? 1 : 0),
                  a.pixelStorei(tt.UNPACK_COLORSPACE_CONVERSION_WEBGL, tt.NONE),
                  this.renderer instanceof Pt
                    ? a.texImage2D(
                        tt.TEXTURE_2D,
                        0,
                        this.format,
                        t,
                        n,
                        0,
                        this.format,
                        this.type,
                        e
                      )
                    : this.renderer instanceof Jt &&
                      a.texImage2D(
                        tt.TEXTURE_2D,
                        0,
                        this.internalFormat,
                        t,
                        n,
                        0,
                        this.format,
                        this.type,
                        e
                      ),
                  (this._width = t),
                  (this._height = n)
              },
            },
            {
              key: 'getData',
              value: function (e) {
                var n,
                  i = this.renderer.context
                switch (
                  (e || (e = t.getFramebuffer(this.renderer)),
                  i.bindFramebuffer(tt.FRAMEBUFFER, e),
                  i.framebufferTexture2D(
                    tt.FRAMEBUFFER,
                    tt.COLOR_ATTACHMENT0,
                    tt.TEXTURE_2D,
                    this.textureGL,
                    0
                  ),
                  this.formatType)
                ) {
                  case Qt.RGBA_FLOAT:
                    n = new Float32Array(this.width * this.height * 4)
                    break
                  case Qt.RGB_FLOAT:
                    n = new Float32Array(this.width * this.height * 3)
                    break
                  case Qt.RGBA_UNSIGNED_BYTE:
                    n = new Uint8Array(this.width * this.height * 4)
                    break
                  case Qt.RGB_UNSIGNED_BYTE:
                    n = new Uint8Array(this.width * this.height * 3)
                    break
                  case Qt.LUMINANCE_UNSIGNED_BYTE:
                    n = new Uint8Array(this.width * this.height)
                    break
                  default:
                    throw new Error(
                      'can not yet get data for format type: ' + this.formatType
                    )
                }
                return (
                  i.readPixels(
                    0,
                    0,
                    this.width,
                    this.height,
                    this.format,
                    this.type,
                    n
                  ),
                  i.bindFramebuffer(i.FRAMEBUFFER, null),
                  n
                )
              },
            },
            {
              key: 'getPixel',
              value: function (e, n) {
                var i = this.renderer.context,
                  a = t.getFramebuffer(this.renderer)
                i.bindFramebuffer(tt.FRAMEBUFFER, a),
                  i.framebufferTexture2D(
                    tt.FRAMEBUFFER,
                    tt.COLOR_ATTACHMENT0,
                    tt.TEXTURE_2D,
                    this.textureGL,
                    0
                  )
                var r = new Uint8Array(4)
                return (
                  i.readPixels(e, n, 1, 1, tt.RGBA, tt.UNSIGNED_BYTE, r),
                  i.bindFramebuffer(i.FRAMEBUFFER, null),
                  r
                )
              },
            },
            {
              key: 'getAspect',
              value: function () {
                return this.width / this.height
              },
            },
            {
              key: 'setImage',
              value: function (e) {
                var n =
                    !(arguments.length > 1 && void 0 !== arguments[1]) ||
                    arguments[1],
                  i =
                    arguments.length > 2 &&
                    void 0 !== arguments[2] &&
                    arguments[2]
                if (!this.isDestructed) {
                  var a = this.renderer.context
                  this.bind(),
                    a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL, n ? 1 : 0),
                    a.pixelStorei(
                      tt.UNPACK_COLORSPACE_CONVERSION_WEBGL,
                      tt.NONE
                    ),
                    a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL, i ? 1 : 0),
                    a.texImage2D(
                      tt.TEXTURE_2D,
                      0,
                      this.format,
                      this.format,
                      this.type,
                      e
                    ),
                    e instanceof HTMLVideoElement
                      ? ((this._width = e.videoWidth),
                        (this._height = e.videoHeight))
                      : ((this._width = e.width),
                        (this._height = e.height),
                        (t.textureBytesLoaded +=
                          this.width *
                          this.height *
                          Qt.getBytesPerPixel(this.formatType))),
                    this.useMips && this.generateMips(),
                    n && a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL, 0),
                    i && a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL, 0)
                }
              },
            },
            {
              key: 'destruct',
              value: function () {
                t._framebuffers[this.renderer.id] &&
                  (this.renderer.context.deleteFramebuffer(
                    t._framebuffers[this.renderer.id]
                  ),
                  (t._framebuffers[this.renderer.id] = null))
                ge()(he()(t.prototype), 'destruct', this).call(this)
              },
            },
            {
              key: 'width',
              get: function () {
                return this._width
              },
            },
            {
              key: 'height',
              get: function () {
                return this._height
              },
            },
            {
              key: 'format',
              get: function () {
                return this._format
              },
            },
            {
              key: 'type',
              get: function () {
                return this._type
              },
            },
          ],
          [
            {
              key: 'isPOT',
              value: function (e, t) {
                return 0 === (e & (e - 1)) && 0 === (t & (t - 1))
              },
            },
            {
              key: 'getFramebuffer',
              value: function (e) {
                if (!t._framebuffers[e.id]) {
                  var n = e.context
                  t._framebuffers[e.id] = n.createFramebuffer()
                }
                return t._framebuffers[e.id]
              },
            },
            {
              key: 'logImageTextureMemoryUsage',
              value: function () {
                Ye.log(
                  'ImageTextureMemoryUsage: ' +
                    t.textureBytesLoaded / 1048576 +
                    ' MB'
                )
              },
            },
          ]
        ),
        t
      )
    })(
      (function (e) {
        function t(e) {
          var n
          se()(this, t),
            ((n = ce()(this, he()(t).call(this))).renderer = e),
            n.renderer.textureCount++
          var i = n.renderer.context
          return (n.textureGL = i.createTexture()), n
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'bindToSlot',
              value: function () {
                arguments.length > 0 && void 0 !== arguments[0] && arguments[0]
              },
            },
            { key: 'setSize', value: function (e, t, n) {} },
            {
              key: 'destruct',
              value: function () {
                if (!this.isDestructed) {
                  var e = this.renderer.context
                  this.textureGL && e.deleteTexture(this.textureGL)
                }
                ge()(he()(t.prototype), 'destruct', this).call(this)
              },
            },
          ]),
          t
        )
      })(Ge)
    )
    ;(en.textureBytesLoaded = 0), (en._framebuffers = {})
    var tn = (function (e) {
        function t(e, n, i) {
          var a,
            r = arguments.length > 3 && void 0 !== arguments[3] && arguments[3],
            s =
              !(arguments.length > 4 && void 0 !== arguments[4]) ||
              arguments[4],
            o =
              !(arguments.length > 5 && void 0 !== arguments[5]) ||
              arguments[5],
            l =
              !(arguments.length > 6 && void 0 !== arguments[6]) ||
              arguments[6],
            u =
              arguments.length > 7 && void 0 !== arguments[7]
                ? arguments[7]
                : Qt.RGBA_UNSIGNED_BYTE,
            c = arguments.length > 8 && void 0 !== arguments[8] && arguments[8]
          return (
            se()(this, t),
            ((a = ce()(this, he()(t).call(this, e, u, r, s, o)))._flipY = !0),
            (a._premultiply = !1),
            (a.loaded = !1),
            (a._flipY = l),
            (a._url = i),
            (a._premultiply = c),
            n.add(Ne()(a)),
            a
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'load',
              value: function (e) {
                var t = this
                gt.loadImage(this._url, function (n) {
                  t.setImage(n, t._flipY, t._premultiply),
                    (t.loaded = !0),
                    (t.image = n),
                    e.call(t)
                })
              },
            },
          ]),
          t
        )
      })(en),
      nn = (function (e) {
        function t(e) {
          var n,
            i =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : 1,
            a =
              arguments.length > 2 && void 0 !== arguments[2]
                ? arguments[2]
                : 1,
            r =
              !(arguments.length > 3 && void 0 !== arguments[3]) ||
              arguments[3],
            s = arguments.length > 4 && void 0 !== arguments[4] && arguments[4],
            o = arguments.length > 5 && void 0 !== arguments[5] && arguments[5]
          return (
            se()(this, t),
            (n = ce()(this, he()(t).call(this, e))).createPlane(i, a, r, s, o),
            n
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'createPlane',
              value: function (e, t, n, i, a) {
                for (
                  var r = (e + 1) * (t + 1),
                    s = new Float32Array(3 * r),
                    o = new Float32Array(2 * r),
                    l = new Float32Array(3 * r),
                    u = 0,
                    c = 0,
                    d = 0,
                    h = 0;
                  h < t + 1;
                  h++
                )
                  for (var f = 0; f < e + 1; f++)
                    (s[u++] = (f / e) * 2 - 1),
                      n
                        ? ((s[u++] = 0), (s[u++] = (h / t) * 2 - 1))
                        : ((s[u++] = (h / t) * 2 - 1), (s[u++] = 0)),
                      (o[c++] = f / e),
                      (o[c++] = h / t),
                      n
                        ? ((l[d++] = 0), (l[d++] = 1), (l[d++] = 0))
                        : ((l[d++] = 0), (l[d++] = 0), (l[d++] = 1))
                this.setPositions(s, i),
                  this.setUV0(o, i),
                  this.setNormals(l, i)
                var p = new Uint32Array(3 * (e * t * 2)),
                  v = e + 1
                u = 0
                for (h = 0; h < t; h++)
                  for (f = 0; f < e; f++)
                    (p[u++] = h * v + f),
                      (p[u++] = (h + 1) * v + f),
                      (p[u++] = h * v + f + 1),
                      (p[u++] = (h + 1) * v + f),
                      (p[u++] = (h + 1) * v + f + 1),
                      (p[u++] = h * v + f + 1)
                a ? this.setIndices32(p) : this.setIndices(Uint16Array.from(p))
              },
            },
          ]),
          t
        )
      })(At),
      an = (function () {
        function e() {
          se()(this, e)
        }
        return (
          le()(e, null, [
            {
              key: 'getWebpSupport',
              value: function () {
                if (!e._webSupportCheckDone) {
                  e._webSupportCheckDone = !0
                  try {
                    e._webSupported =
                      0 ==
                      document
                        .createElement('canvas')
                        .toDataURL('image/webp')
                        .indexOf('data:image/webp')
                  } catch (t) {
                    e._webSupported = !1
                  }
                }
                return e._webSupported
              },
            },
            {
              key: 'getURL',
              value: function (t) {
                var n =
                  arguments.length > 1 &&
                  void 0 !== arguments[1] &&
                  arguments[1]
                return (
                  f(y).getVariable(c.d.VERSIONED_STATIC_ROOT) +
                  'webgl/data/' +
                  (n ? 'lossless/' : 'lossy/') +
                  t +
                  (e.getWebpSupport() ? '.webp' : n ? '.png' : '.jpg')
                )
              },
            },
            {
              key: 'getStaticDir',
              value: function () {
                return f(y).getVariable(c.d.VERSIONED_STATIC_ROOT)
              },
            },
            {
              key: 'getCachedTexture',
              value: function (t, n, i) {
                var a =
                    arguments.length > 3 &&
                    void 0 !== arguments[3] &&
                    arguments[3],
                  r =
                    !(arguments.length > 4 && void 0 !== arguments[4]) ||
                    arguments[4],
                  s =
                    !(arguments.length > 5 && void 0 !== arguments[5]) ||
                    arguments[5],
                  o =
                    arguments.length > 6 &&
                    void 0 !== arguments[6] &&
                    arguments[6]
                if (e._cachedTextures[i]) return e._cachedTextures[i]
                var l = new tn(t, n, e.getURL(i, a), r, s, o)
                return (
                  r && l.setFilterAnisotropic(8), (e._cachedTextures[i] = l)
                )
              },
            },
            {
              key: 'getPerlinTex',
              value: function (t, n) {
                return e.getCachedTexture(t, n, 'perlin', !0)
              },
            },
            {
              key: 'getInktTex',
              value: function (t, n) {
                return e.getCachedTexture(t, n, 'inkt', !1)
              },
            },
          ]),
          e
        )
      })()
    ;(an._webSupportCheckDone = !1),
      (an._webSupported = !1),
      (an._cachedTextures = {})
    var rn,
      sn,
      on = n(38),
      ln = n(25)
    !(function (e) {
      ;(e[(e.MAP = 0)] = 'MAP'),
        (e[(e.LAYERANIMATION = 1)] = 'LAYERANIMATION'),
        (e[(e.MAP_TO_LAYERANIMATION = 2)] = 'MAP_TO_LAYERANIMATION'),
        (e[(e.MAP_TO_MAP = 3)] = 'MAP_TO_MAP')
    })(rn || (rn = {})),
      (function (e) {
        ;(e[(e.MAP_TO_LAYERANIMATION_MAP_FRACTION = 0.5)] =
          'MAP_TO_LAYERANIMATION_MAP_FRACTION'),
          (e[(e.MAP_TO_LAYERANIMATION_LAYER_FRACTION = 0.8)] =
            'MAP_TO_LAYERANIMATION_LAYER_FRACTION'),
          (e[(e.MAP_TO_LAYERANIMATION_TOTAL_DURATION = 2)] =
            'MAP_TO_LAYERANIMATION_TOTAL_DURATION'),
          (e[(e.MAP_TO_MAP_DURATION = 1)] = 'MAP_TO_MAP_DURATION')
      })(sn || (sn = {}))
    var un = function e(t, n, i) {
        se()(this, e),
          (this.targetPosition = new it()),
          (this.targetRotation = new qt()),
          (this.targetState = t),
          this.targetPosition.copy(n),
          this.targetRotation.copy(i)
      },
      cn = (function () {
        function e(t, n) {
          var i = this
          se()(this, e),
            (this._state = rn.MAP),
            (this._targetState = rn.MAP),
            (this._duration = 0),
            (this._progress = 0),
            (this._cameraStartPosition = new it()),
            (this._cameraStartRotation = new qt()),
            (this._cameraEndPosition = new it()),
            (this._cameraEndRotation = new qt()),
            (this._tmpPosition = new it()),
            (this._tmpRotation = new qt()),
            (this._queue = []),
            (this._eventDispatcher = t),
            (this._locationManager = n),
            this._eventDispatcher.addEventListener(
              ln.a.types.ON_MAP_ZOOM_OUT,
              function () {
                i.getState() == rn.LAYERANIMATION &&
                  i.startLayerAnimationToMap()
              }
            )
        }
        return (
          le()(e, [
            {
              key: 'startMapToLayerAnimation',
              value: function (e, t, n) {
                this.getState() == rn.MAP &&
                  ((this._targetState = rn.LAYERANIMATION),
                  (this._state = rn.MAP_TO_LAYERANIMATION),
                  (this._duration = sn.MAP_TO_LAYERANIMATION_TOTAL_DURATION),
                  (this._progress = 0),
                  this._cameraStartPosition.copy(
                    e.view.transform.getPosition()
                  ),
                  this._cameraStartRotation.copy(
                    e.view.transform.getRotation()
                  ),
                  this._cameraEndPosition.copy(t),
                  (this._cameraEndPosition.y = 1),
                  qt.lookAt(
                    this._cameraEndRotation,
                    it.FORWARD,
                    it.ZERO,
                    it.UP
                  ),
                  this._eventDispatcher.dispatchEvent(
                    new ln.a(ln.a.types.ENTER_CLOSEUP_ANIMATION, {
                      hotspotId: n,
                    })
                  ))
              },
            },
            {
              key: 'startLayerAnimationToMap',
              value: function () {
                this.getState() == rn.LAYERANIMATION &&
                  ((this._targetState = rn.MAP),
                  (this._state = rn.MAP_TO_LAYERANIMATION),
                  (this._duration = sn.MAP_TO_LAYERANIMATION_TOTAL_DURATION),
                  (this._progress = 0),
                  this._eventDispatcher.dispatchEvent(
                    new ln.a(ln.a.types.LEAVE_CLOSEUP_ANIMATION, {})
                  ))
              },
            },
            {
              key: 'startMapToMap',
              value: function (e, t) {
                this.getState() == rn.MAP &&
                  ((this._targetState = rn.MAP),
                  (this._state = rn.MAP_TO_MAP),
                  this._cameraStartPosition.copy(
                    e.view.transform.getPosition()
                  ),
                  this._cameraStartRotation.copy(
                    e.view.transform.getRotation()
                  ),
                  this._cameraEndPosition.copy(t.targetPosition),
                  this._cameraEndRotation.copy(t.targetRotation),
                  (this._duration = sn.MAP_TO_MAP_DURATION),
                  (this._progress = 0))
              },
            },
            {
              key: 'getState',
              value: function () {
                return this._state
              },
            },
            {
              key: 'updateCamera',
              value: function (e, t) {
                if (
                  (e.update(),
                  this.getState() == rn.MAP && e.updateMapUserInput(t),
                  this.getState() == rn.MAP_TO_LAYERANIMATION)
                ) {
                  var n = 1 - this.getMapAmount(),
                    i = It.smoothStep01(n)
                  it.lerp(
                    this._tmpPosition,
                    this._cameraStartPosition,
                    this._cameraEndPosition,
                    i
                  ),
                    (this._tmpPosition.y = It.lerp(
                      this._cameraStartPosition.y,
                      this._cameraEndPosition.y,
                      Math.pow(i, 0.75)
                    )),
                    qt.lerp(
                      this._tmpRotation,
                      this._cameraStartRotation,
                      this._cameraEndRotation,
                      Math.pow(i, 5)
                    ),
                    e.fixPosition(this._tmpPosition),
                    e.setPosition(this._tmpPosition),
                    e.view.transform.setRotation(this._tmpRotation)
                }
                if (this.getState() == rn.MAP_TO_MAP) {
                  var a = this._progress,
                    r = It.smootherStep01(a)
                  it.lerp(
                    this._tmpPosition,
                    this._cameraStartPosition,
                    this._cameraEndPosition,
                    r
                  ),
                    e.fixPosition(this._tmpPosition),
                    e.setPosition(this._tmpPosition)
                }
              },
            },
            {
              key: 'update',
              value: function (e, t) {
                if (
                  ((this._progress = It.clamp01(
                    this._progress + 1 / 60 / this._duration
                  )),
                  this._progress >= 1 &&
                    ((this._state = this._targetState), this._queue.length > 0))
                ) {
                  var n = this._queue.shift()
                  n.targetState == rn.MAP
                    ? this._state == rn.MAP
                      ? this.startMapToMap(e, n)
                      : (this._cameraStartPosition.copy(n.targetPosition),
                        this._cameraStartRotation.copy(n.targetRotation),
                        this.startLayerAnimationToMap())
                    : n.targetState == rn.LAYERANIMATION &&
                      (this._state == rn.MAP
                        ? this.startMapToLayerAnimation(e, n.targetPosition, t)
                        : (this.showMap(e), this._queue.push(n)),
                      (this._queue = []))
                }
              },
            },
            {
              key: 'gotoLayerAnimation',
              value: function (e, t) {
                this._queue.push(
                  new un(rn.LAYERANIMATION, t, this._cameraStartRotation)
                )
              },
            },
            {
              key: 'gotoLocation',
              value: function (t, n) {
                var i =
                  arguments.length > 2 && void 0 !== arguments[2]
                    ? arguments[2]
                    : e.ZOOM_LOCATION
                if (this._locationManager.hasLocation(t)) {
                  var a = this._locationManager
                    .getLocation(t)
                    .transform.getWorldPosition()
                    .clone()
                  a.y = n.getHeightForZoom(i)
                  var r = n.getTransformForPosition(a),
                    s = on.b ? 0.2 : 0.1
                  ;(a.z += (r.getForward().z + s) * a.y),
                    n.fixPosition(a),
                    this._queue.push(new un(rn.MAP, a, r.getRotation()))
                } else this.showMap(n)
              },
            },
            {
              key: 'showMap',
              value: function (e) {
                ;(this._queue = []),
                  (this.getState() != rn.LAYERANIMATION &&
                    this.getState() != rn.MAP_TO_LAYERANIMATION) ||
                    this._queue.push(
                      new un(
                        rn.MAP,
                        this._cameraStartPosition,
                        this._cameraStartRotation
                      )
                    )
              },
            },
            {
              key: 'getMapAmount',
              value: function () {
                return this.getState() == rn.MAP ||
                  this.getState() == rn.MAP_TO_MAP
                  ? 1
                  : this.getState() == rn.MAP_TO_LAYERANIMATION
                  ? this._targetState == rn.MAP
                    ? It.map(
                        1 - sn.MAP_TO_LAYERANIMATION_MAP_FRACTION,
                        1,
                        this._progress
                      )
                    : 1 -
                      It.map(
                        0,
                        sn.MAP_TO_LAYERANIMATION_MAP_FRACTION,
                        this._progress
                      )
                  : 0
              },
            },
            {
              key: 'getLayerAmount',
              value: function () {
                return this.getState() == rn.LAYERANIMATION
                  ? 1
                  : this.getState() == rn.MAP_TO_LAYERANIMATION
                  ? this._targetState == rn.MAP
                    ? 1 -
                      It.map(
                        0,
                        sn.MAP_TO_LAYERANIMATION_LAYER_FRACTION,
                        this._progress
                      )
                    : It.map(
                        1 - sn.MAP_TO_LAYERANIMATION_LAYER_FRACTION,
                        1,
                        this._progress
                      )
                  : 0
              },
            },
          ]),
          e
        )
      })()
    ;(cn.ZOOM_LOCATION = 0.9), (cn.ZOOM_TAKEOVER = 0.5)
    var dn = n(45),
      hn = function e(t, n, i) {
        se()(this, e),
          (this.position = new it()),
          (this.model = new Wt()),
          (this.crop = new je(0.5, 0.5)),
          this.position.copy(t),
          this.model.setPosition(t),
          this.crop.setValues(i[0], 1 - i[1]),
          (this.hotspotId = n)
      },
      fn = (function () {
        function e(t, n, i) {
          var a,
            r = this
          se()(this, e),
            (this._ray = new Kt()),
            (this._hotspots = []),
            (this._opacity = 0),
            (this._tmpVec2_0 = new je()),
            (this._tmpVec2_1 = new je()),
            (this._mouseClicked = !1),
            (this._mouseOverMonsterId = null),
            (this._mouseOverAmount = 0),
            (this._mouseOverActive = !1),
            (this._renderer = t)
          var s =
            ((a = {}),
            te()(a, dn.a.L20, [0.5, 0.75]),
            te()(a, dn.a.M1, [0.75, 0.75]),
            te()(a, dn.a.M2, [0.25, 0.25]),
            te()(a, dn.a.M4, [0.25, 0.5]),
            te()(a, dn.a.M5, [0, 0.25]),
            te()(a, dn.a.M6, [0.5, 0.25]),
            te()(a, dn.a.M8, [0.25, 0.75]),
            te()(a, dn.a.M10, [0.75, 0.5]),
            te()(a, dn.a.M11, [0, 0.5]),
            te()(a, dn.a.C17, [0, 0.75]),
            te()(a, dn.a.R4, [0.5, 0.5]),
            a)
          for (var o in s)
            i.hasLocation(o)
              ? this._hotspots.push(
                  new hn(i.getLocation(o).transform.getWorldPosition(), o, s[o])
                )
              : console.log('no location for ' + o)
          e._material ||
            ((e._material = new vt(t, n, 'hotspot')),
            e._material.setPreMultipliedAlphaBlending(),
            (e._material.depthTest = !1),
            (e._texture = an.getCachedTexture(t, n, 'map_monsters', !0)),
            (e._mesh = new nn(t, 1, 1))),
            this._renderer.getMouseListener().addMouseClickEvent(function () {
              r._mouseClicked = !0
            })
        }
        return (
          le()(e, [
            {
              key: 'checkMonsterIntersect',
              value: function (t, n) {
                this._ray.setFromCamera(t, n)
                for (var i = 0; i < this._hotspots.length; i++) {
                  var a = this._hotspots[i]
                  if (
                    this._ray.intersectSphere(
                      a.position,
                      e.RADIUS * ('M8' == a.hotspotId ? 2.2 : 1)
                    )
                  )
                    return a.hotspotId
                }
                return null
              },
            },
            {
              key: 'update',
              value: function (t, n, i, a, r) {
                var s = !1
                if (
                  t.getZoom() > e.MIN_ZOOM_LEVEL &&
                  !r &&
                  n.getState() == rn.MAP
                ) {
                  this._tmpVec2_0.copy(
                    this._renderer.getMouseListener().getPixelPos()
                  )
                  var o = this._renderer.getCanvas().parentElement
                  o && (this._tmpVec2_0.x -= o.getBoundingClientRect().left),
                    (this._tmpVec2_0.x /= this._renderer.getRenderWidth() / a),
                    (this._tmpVec2_0.y /= this._renderer.getRenderHeight() / a),
                    (this._tmpVec2_0.x = 2 * It.clamp01(this._tmpVec2_0.x) - 1),
                    (this._tmpVec2_0.y = 1 - 2 * It.clamp01(this._tmpVec2_0.y)),
                    this._ray.setFromCamera(t, this._tmpVec2_0)
                  var l = this._mouseClicked,
                    u = this.checkMonsterIntersect(t, this._tmpVec2_0)
                  if (
                    null != u &&
                    l &&
                    (i.dispatchEvent(
                      new ln.a(ln.a.types.ON_HOTSPOT_CLICK, { hotspotId: u })
                    ),
                    !on.a)
                  )
                    return (this._mouseClicked = !1), !0
                  on.a
                    ? (null != u && (this._mouseOverMonsterId = u),
                      (s = null != u))
                    : (this._tmpVec2_0.setValues(0, 0),
                      (this._mouseOverMonsterId = this.checkMonsterIntersect(
                        t,
                        this._tmpVec2_0
                      )),
                      (s = !0))
                }
                return (
                  (this._mouseClicked = !1),
                  (this._mouseOverActive = s),
                  !!on.a && s
                )
              },
            },
            {
              key: 'draw',
              value: function (t, n, i) {
                var a = this,
                  r = t.getZoom() > e.MIN_ZOOM_LEVEL && !i
                ;(this._opacity = It.clamp01(
                  this._opacity + (r ? 1 / 60 : -1 / 60)
                )),
                  (this._mouseOverAmount = It.clamp01(
                    this._mouseOverAmount +
                      (this._mouseOverActive ? 0.2 : -0.05)
                  )),
                  this._mouseOverAmount <= 0 &&
                    (this._mouseOverMonsterId = null),
                  (this._mouseOverActive = !1)
                var s = this._opacity * n
                if (!(s <= 0)) {
                  var o = e._material
                  o.setMatrix('_ViewProjection', t.getViewProjection()),
                    o.setTexture('_Texture', e._texture),
                    this._hotspots.forEach(function (t) {
                      if (
                        (o.setMatrix('_Model', t.model.getWorldMatrix()),
                        o.setVector2('_Crop', t.crop),
                        o.setVector2('_Offset', je.ZERO),
                        o.setFloat('_Scale', 'M8' == t.hotspotId ? 13.5 : 6.75),
                        o.setFloat('_Opacity', s),
                        t.hotspotId == a._mouseOverMonsterId
                          ? o.setFloat('_MouseOverAmount', a._mouseOverAmount)
                          : o.setFloat('_MouseOverAmount', 0),
                        a._renderer.draw(e._mesh, o),
                        t.hotspotId == dn.a.C17)
                      )
                        for (var n = 0; n < 3; n++) {
                          var i = (0.25 * kt.getInstance().time + n / 3) % 1
                          a._tmpVec2_0.setValues(
                            -i * n * 0.2,
                            -i * i * 0.75 - 0.1
                          ),
                            a._tmpVec2_1.setValues(0.25 * n, 1),
                            o.setVector2('_Offset', a._tmpVec2_0),
                            o.setVector2('_Crop', a._tmpVec2_1),
                            o.setFloat(
                              '_Opacity',
                              s *
                                (It.smoothStep(0, 0.1, i) -
                                  It.smoothStep(0.85, 1, i))
                            ),
                            a._renderer.draw(e._mesh, o)
                        }
                    })
                }
              },
            },
          ]),
          e
        )
      })()
    ;(fn.MIN_ZOOM_LEVEL = 0.5), (fn.RADIUS = 3)
    var pn = (function () {
        function e(t, n, i, a, r, s) {
          se()(this, e),
            (this._date = 0),
            (this._opacity = 0),
            (this._model = new Wt()),
            (this._offset = new je()),
            (this._renderer = t),
            (this._date = r),
            this._model.setPosition(a.transform.getWorldPosition()),
            this._offset.setValues(s[0], s[1]),
            (this._texture = an.getCachedTexture(t, n, 'paper_burn_marks', !1)),
            e._mesh ||
              ((e._mesh = new nn(t, 1, 1)),
              (e._material = new vt(t, n, 'mapaging')),
              e._material.setMultiplyBlending(),
              (e._material.depthTest = !1))
        }
        return (
          le()(e, [
            {
              key: 'update',
              value: function (e) {
                var t = e >= this._date
                42 === e && 41 === this._date && (t = !1),
                  (this._opacity = It.clamp01(
                    this._opacity + (t ? 1 / 120 : -1 / 60)
                  ))
              },
            },
            {
              key: 'draw',
              value: function (t, n) {
                if (!(this._opacity <= 0)) {
                  var i = e._material
                  i.setMatrix('_Model', this._model.getWorldMatrix()),
                    i.setMatrix('_ViewProjection', t.getViewProjection()),
                    i.setTexture('_Texture', this._texture),
                    i.setFloat('_Opacity', this._opacity * n),
                    i.setVector2('_Offset', this._offset),
                    this._renderer.draw(e._mesh, i)
                }
              },
            },
          ]),
          e
        )
      })(),
      vn = (function () {
        function e(t, n, i) {
          var a = this
          se()(this, e),
            (this._mapAging = []),
            (this._date = 0),
            (this._activeLocationId = -1),
            (this._mouseOverLocationId = -1),
            (this._mouseOverAmount = 0),
            (this._mouseOverActive = !1),
            (this._mouseClicked = !1),
            (this._ray = new Kt()),
            (this._tmpVec2 = new je()),
            (this._intersection = new it()),
            (this._renderer = t)
          var r = t.maxParams.MAX_TEXTURE_SIZE >= 8192 && on.a ? 'hq_' : ''
          ;(this._map = new tn(
            this._renderer,
            n,
            an.getURL(r + 'map', !0),
            !1,
            !0,
            !0
          )),
            (this._mapText = new tn(
              this._renderer,
              n,
              an.getURL(r + 'map_text', !0),
              !1,
              !0,
              !0
            )),
            (this._mapBg = new tn(
              this._renderer,
              n,
              an.getURL('map_bg'),
              !0,
              !0,
              !0
            )),
            (this._material = new vt(this._renderer, n, 'maptest')),
            this._material.setPreMultipliedAlphaBlending(),
            (this._material.depthWrite = !0),
            (this._materialText = new vt(this._renderer, n, 'text')),
            this._materialText.setPreMultipliedAlphaBlending(),
            (this._materialText.depthTest = !1),
            this._materialText.addShaderDefines('MOUSEOVER'),
            on.a || this._materialText.addShaderDefines('MOBILE'),
            (this._mesh = new At(this._renderer)),
            (this._plane = new nn(this._renderer)),
            this._mapAging.push(
              new pn(t, n, 'L7', i.getLocation('L7'), 37, [0, 0.5])
            ),
            this._mapAging.push(
              new pn(t, n, 'L15', i.getLocation('L15'), 41, [0.5, 0.5])
            ),
            this._renderer.getMouseListener().addMouseClickEvent(function () {
              a._mouseClicked = !0
            })
        }
        return (
          le()(e, [
            {
              key: 'init',
              value: function (e, t) {
                var n = e.addGroup('Camera')
                ;(this._paramMinHeight = n.addParamFloat(
                  'MinZoomHeight',
                  10,
                  0,
                  25
                )),
                  (this._paramMinOffset = n.addParamFloat(
                    'MinZoomOffset',
                    2,
                    -2,
                    2
                  )),
                  (this._paramMaxHeight = n.addParamFloat(
                    'MaxZoomHeight',
                    1.5,
                    0,
                    5
                  )),
                  (this._paramMaxOffset = n.addParamFloat(
                    'MaxZoomOffset',
                    0.2,
                    -2,
                    2
                  )),
                  this.initMesh(),
                  this._material.setTexture('_Map', this._map),
                  this._material.setTexture('_BgMap', this._mapBg),
                  this._materialText.setTexture('_Texture', this._mapText),
                  this._material.setTexture('_Detail', t.paperDetail()),
                  (this._imageData = this.getImageData(this._mapText.image))
              },
            },
            {
              key: 'getImageData',
              value: function (e) {
                var t = document.createElement('canvas')
                ;(t.width = e.width), (t.height = e.height)
                var n = t.getContext('2d')
                n.drawImage(e, 0, 0)
                var i = e.width,
                  a = e.height
                return n.getImageData(0, 0, i, a)
              },
            },
            {
              key: 'setDate',
              value: function (e) {
                this._date = parseInt(e.substr(1))
              },
            },
            {
              key: 'setActiveLocation',
              value: function (e) {
                this._activeLocationId = e ? parseInt(e.substr(1), 10) : -1
              },
            },
            {
              key: 'checkMapSource',
              value: function (e, t, n) {
                var i = e.getZoom()
                this._ray.setFromCamera(e, t)
                var a =
                  It.lerp(
                    this._paramMinHeight.getValue(),
                    this._paramMaxHeight.getValue(),
                    i
                  ) +
                  5 * (1 - n)
                if (this._ray.intersectPlane(it.UP, -a, this._intersection)) {
                  var r =
                      (((this._intersection.x + 512) * this._imageData.width) /
                        1024) |
                      0,
                    s =
                      (((this._intersection.z + 256) * this._imageData.height) /
                        512) |
                      0
                  if (
                    r >= 0 &&
                    r < this._imageData.width &&
                    s >= 0 &&
                    s <= this._imageData.height
                  ) {
                    var o = this._imageData.data[
                      4 * (r + s * this._imageData.width) + 1
                    ]
                    if (o > 0.5) return o
                  }
                }
                return -1
              },
            },
            {
              key: 'update',
              value: function (e, t, n, i, a) {
                var r = e.getZoom() > fn.MIN_ZOOM_LEVEL
                ;(this._mouseOverAmount = It.clamp01(
                  this._mouseOverAmount + (this._mouseOverActive ? 0.2 : -0.05)
                )),
                  this._mouseOverAmount <= 0 && (this._mouseOverLocationId = -1)
                var s = !1
                if (
                  r &&
                  (this._renderer.getMouseListener().isActive() || !on.a) &&
                  t.getState() == rn.MAP
                ) {
                  this._tmpVec2.copy(
                    this._renderer.getMouseListener().getPixelPos()
                  )
                  var o = this._renderer.getCanvas().parentElement
                  o && (this._tmpVec2.x -= o.getBoundingClientRect().left),
                    (this._tmpVec2.x /= this._renderer.getRenderWidth() / i),
                    (this._tmpVec2.y /= this._renderer.getRenderHeight() / i),
                    (this._tmpVec2.x = 2 * It.clamp01(this._tmpVec2.x) - 1),
                    (this._tmpVec2.y = 1 - 2 * It.clamp01(this._tmpVec2.y))
                  var l = this._mouseClicked,
                    u = this.checkMapSource(e, this._tmpVec2, a)
                  if (
                    l &&
                    u > 0.5 &&
                    (n.dispatchEvent(
                      new ln.a(ln.a.types.ON_LOCATION_CLICK, {
                        locationId: 'L' + u,
                      })
                    ),
                    !on.a)
                  )
                    return (this._mouseClicked = !1), !0
                  on.a
                    ? (u > 0.5 && (this._mouseOverLocationId = u),
                      (s = u > 0.5))
                    : (this._tmpVec2.setValues(0, 0),
                      (this._mouseOverLocationId = this.checkMapSource(
                        e,
                        this._tmpVec2,
                        a
                      )),
                      (s = !0))
                }
                return (
                  (this._mouseClicked = !1),
                  (this._mouseOverActive = s),
                  !!on.a && s
                )
              },
            },
            {
              key: 'draw',
              value: function (e, t) {
                var n = this
                if (!(t <= 0)) {
                  this._renderer.clearDepth(),
                    this._material.setMatrix(
                      '_ViewProjection',
                      e.getViewProjection()
                    ),
                    this._material.setFloat(
                      '_BgOpacity',
                      It.inverseLerp(0.1, 0.35, t)
                    ),
                    this._material.setFloat(
                      '_LineOpacity',
                      It.inverseLerp(0, 0.3, t)
                    ),
                    this._material.setFloat('_Old', this._date >= 40 ? 1 : 0),
                    this._renderer.draw(this._mesh, this._material),
                    this._mapAging.forEach(function (i) {
                      i.update(n._date), i.draw(e, It.inverseLerp(0.1, 0.35, t))
                    })
                  var i = e.getZoom()
                  this._materialText.setMatrix(
                    '_ViewProjection',
                    e.getViewProjection()
                  ),
                    this._materialText.setFloat(
                      '_Height',
                      It.lerp(
                        this._paramMinHeight.getValue(),
                        this._paramMaxHeight.getValue(),
                        i
                      ) +
                        5 * (1 - t)
                    ),
                    this._materialText.setFloat(
                      '_YOffset',
                      It.lerp(
                        this._paramMinOffset.getValue(),
                        this._paramMaxOffset.getValue(),
                        i
                      )
                    ),
                    this._materialText.setFloat(
                      '_LineOpacity',
                      It.inverseLerp(0.5, 0.8, t)
                    ),
                    this._materialText.setFloat(
                      '_ActiveId',
                      this._activeLocationId
                    ),
                    this._materialText.setFloat(
                      '_MouseOverId',
                      this._mouseOverLocationId
                    ),
                    this._materialText.setFloat(
                      '_MouseOverAmount',
                      this._mouseOverAmount
                    ),
                    this._renderer.draw(this._plane, this._materialText)
                }
              },
            },
            {
              key: 'initMesh',
              value: function () {
                this._mesh = new nn(this._renderer, 1, 1)
              },
            },
          ]),
          e
        )
      })()
    vn.SIZE = new je(1024, 512)
    var mn = n(282),
      _n = n.n(mn),
      gn = (function (e) {
        function t(e, n, i) {
          var a
          return (
            se()(this, t),
            ((a = ce()(
              this,
              he()(t).call(this, t.DEFAULT_FOV, 0.01, 1e3)
            ))._position = new it(30, 40, -10)),
            (a._targetPosition = new it(30, 40, -10)),
            (a._startDragPosition = new it()),
            (a._startDragRotation = new qt()),
            (a._startIntersection = new it(0, 0, 0)),
            (a._intersection = new it(0, 0, 0)),
            (a._tmpVec3_1 = new it()),
            (a._tmpVec3_2 = new it()),
            (a._tmpVec3_3 = new it()),
            (a._tmpVec3_4 = new it()),
            (a._tmpTransform = new Wt()),
            (a._ray = new Kt()),
            (a._zoom = 0.6),
            (a._targetZoom = 0.6),
            (a._dragging = !1),
            (a._zoom = 0.01),
            (a._targetZoom = a._zoom),
            (a._renderer = e),
            (a._eventDispatcher = n),
            (a._transitionManager = i),
            (a._hammer = new _n.a(e.getCanvas())),
            a.addHammerPinch(),
            a
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'init',
              value: function (e) {
                var t = this,
                  n = e.addGroup('Camera')
                ;(this._paramMinHeight = n.addParamFloat(
                  'MinZoomHeight',
                  on.b ? 30 : 60
                )),
                  (this._paramMinAngle = n.addParamFloat('MinZoomAngle', 15)),
                  (this._paramMaxHeight = n.addParamFloat(
                    'MaxZoomHeight',
                    300
                  )),
                  (this._paramMaxAngle = n.addParamFloat('MaxZoomAngle', 6)),
                  this._renderer.getMouseListener().addWheelEvent(function (e) {
                    e > 0 ? t.zoomIn(1 / 30) : t.zoomOut(1 / 30)
                  })
              },
            },
            {
              key: 'zoomIn',
              value: function (e) {
                this._eventDispatcher.dispatchEvent(
                  new ln.a(ln.a.types.ON_MAP_ZOOM_IN, {})
                ),
                  this._transitionManager.getState() == rn.MAP &&
                    (this._targetZoom = It.clamp01(this._targetZoom + e))
              },
            },
            {
              key: 'zoomOut',
              value: function (e) {
                this._eventDispatcher.dispatchEvent(
                  new ln.a(ln.a.types.ON_MAP_ZOOM_OUT, {})
                ),
                  this._transitionManager.getState() == rn.MAP &&
                    (this._targetZoom = It.clamp01(this._targetZoom - e))
              },
            },
            {
              key: 'getZoom',
              value: function () {
                return this._zoom
              },
            },
            {
              key: 'update',
              value: function () {
                this._transitionManager.getState() == rn.MAP &&
                  (this._zoom = It.lerp(this._zoom, this._targetZoom, 0.1)),
                  this.projection.setAspect(this._renderer.getAspect()),
                  ge()(he()(t.prototype), 'updateViewProjection', this).call(
                    this
                  ),
                  this.getPlaneIntersections(
                    this._paramMaxAngle.getValue(),
                    1e3,
                    this._tmpVec3_3,
                    this._tmpVec3_4
                  )
                var e =
                    Math.abs(this._tmpVec3_3.z - this._tmpVec3_4.z) / vn.SIZE.y,
                  n =
                    (Math.max(
                      Math.abs(this._tmpVec3_3.x),
                      Math.abs(this._tmpVec3_4.x)
                    ) /
                      vn.SIZE.x) *
                    2
                this._paramMaxHeight.setValue(1e3 / Math.max(n, e)),
                  this._paramMinHeight.setValue(
                    this._paramMaxHeight.getValue() / 5
                  )
              },
            },
            {
              key: 'getPlaneIntersections',
              value: function (e, n, i, a) {
                this.projection.setAspect(this._renderer.getAspect()),
                  ge()(he()(t.prototype), 'updateViewProjection', this).call(
                    this
                  ),
                  this._tmpVec3_1.copy(this.projection.getFrustumCorner()),
                  this._tmpVec3_1.normalize(),
                  this._tmpVec3_1.rotateX(it.ZERO, It.degToRad(90 - e)),
                  this._tmpVec3_2.setValues(0, n, 0),
                  this._ray.setVectors(this._tmpVec3_2, this._tmpVec3_1),
                  this._ray.intersectPlane(it.UP, 0, i),
                  this._tmpVec3_1.copy(this.projection.getFrustumCorner()),
                  this._tmpVec3_1.normalize(),
                  (this._tmpVec3_1.x = -this._tmpVec3_1.x),
                  (this._tmpVec3_1.y = -this._tmpVec3_1.y),
                  this._tmpVec3_1.rotateX(it.ZERO, It.degToRad(90 - e)),
                  this._ray.setVectors(this._tmpVec3_2, this._tmpVec3_1),
                  this._ray.intersectPlane(it.UP, 0, a)
              },
            },
            {
              key: 'updateWithMapBoundaries',
              value: function (e, t) {
                this.getPlaneIntersections(
                  t,
                  e.y,
                  this._tmpVec3_3,
                  this._tmpVec3_4
                )
                var n =
                    Math.max(
                      Math.abs(this._tmpVec3_3.x),
                      Math.abs(this._tmpVec3_4.x)
                    ) + 1,
                  i =
                    Math.max(
                      Math.abs(this._tmpVec3_3.x),
                      Math.abs(this._tmpVec3_4.x)
                    ) + 1
                ;(e.x = Math.max(e.x, -vn.SIZE.x / 2 + n)),
                  (e.x = Math.min(e.x, vn.SIZE.x / 2 - i))
                var a =
                    Math.max(
                      Math.abs(this._tmpVec3_3.z),
                      Math.abs(this._tmpVec3_4.z)
                    ) + 2,
                  r =
                    Math.min(
                      Math.abs(this._tmpVec3_3.z),
                      Math.abs(this._tmpVec3_4.z)
                    ) + 1
                ;(e.z = Math.max(e.z, -vn.SIZE.y / 2 + a)),
                  (e.z = Math.min(e.z, vn.SIZE.y / 2 - r))
              },
            },
            {
              key: 'setForcedZoom',
              value: function (e) {
                this._zoom = this._targetZoom = e
              },
            },
            {
              key: 'getZoomForHeight',
              value: function (e) {
                return It.inverseLerp(
                  this._paramMaxHeight.getValue(),
                  this._paramMinHeight.getValue(),
                  e
                )
              },
            },
            {
              key: 'getHeightForZoom',
              value: function (e) {
                return It.lerp(
                  this._paramMaxHeight.getValue(),
                  this._paramMinHeight.getValue(),
                  e
                )
              },
            },
            {
              key: 'setPosition',
              value: function (e) {
                this.setForcedZoom(this.getZoomForHeight(e.y))
                var t = It.lerp(
                  this._paramMaxAngle.getValue(),
                  this._paramMinAngle.getValue(),
                  this._zoom
                )
                this.updateWithMapBoundaries(e, t),
                  this.view.transform.setPosition(e),
                  this.view.transform.setEulerDegreesValues(t - 90, 0, 0)
              },
            },
            {
              key: 'fixPosition',
              value: function (e) {
                var t = this.getZoomForHeight(e.y),
                  n = It.lerp(
                    this._paramMaxAngle.getValue(),
                    this._paramMinAngle.getValue(),
                    t
                  )
                this.updateWithMapBoundaries(e, n)
              },
            },
            {
              key: 'getTransformForPosition',
              value: function (e) {
                var t = this.getZoomForHeight(e.y),
                  n = It.lerp(
                    this._paramMaxAngle.getValue(),
                    this._paramMinAngle.getValue(),
                    t
                  )
                return (
                  this._tmpTransform.setPosition(this._position),
                  this._tmpTransform.setEulerDegreesValues(n - 90, 0, 0),
                  this._tmpTransform
                )
              },
            },
            {
              key: 'updateMapUserInput',
              value: function (e) {
                var t = !1
                this._position.copy(this.getWorldPosition()),
                  this._renderer.getMouseListener().getMouseDown() &&
                    (this._renderer
                      .getMouseListener()
                      .getMouseDownThisFrame() ||
                      (this.view.transform.setRotation(this._startDragRotation),
                      this.view.transform.setPosition(this._startDragPosition)),
                    this._ray.setFromCamera(
                      this,
                      this._renderer.getMouseListener().getScreenPos()
                    ),
                    this._ray.intersectPlane(it.UP, 0, this._intersection),
                    this._renderer.getMouseListener().getMouseDownThisFrame()
                      ? (this._startIntersection.copy(this._intersection),
                        this._startDragPosition.copy(
                          this.view.transform.getPosition()
                        ),
                        this._startDragRotation.copy(
                          this.view.transform.getRotation()
                        ),
                        this._targetPosition.copy(
                          this.view.transform.getPosition()
                        ))
                      : (this._tmpVec3_1.copy(this._startIntersection),
                        this._tmpVec3_1.subtract(this._intersection),
                        (this._targetPosition.x += this._tmpVec3_1.x),
                        (this._targetPosition.z += this._tmpVec3_1.z),
                        this._startIntersection.copy(this._intersection),
                        it.lerp(
                          this._position,
                          this._position,
                          this._targetPosition,
                          0.5
                        ),
                        it.lerp(
                          this._targetPosition,
                          this._position,
                          this._targetPosition,
                          0.95
                        )),
                    (t = !0)),
                  (this._position.y = It.lerp(
                    this._paramMaxHeight.getValue(),
                    this._paramMinHeight.getValue(),
                    this._zoom
                  ))
                var n = It.lerp(
                  this._paramMaxAngle.getValue(),
                  this._paramMinAngle.getValue(),
                  this._zoom
                )
                return (
                  this.view.transform.setEulerDegreesValues(n - 90, 0, 0),
                  this.updateWithMapBoundaries(this._position, n),
                  this.view.transform.setPosition(this._position),
                  t &&
                    !this._dragging &&
                    it.distance(
                      this._startDragPosition,
                      this.view.transform.getPosition()
                    ) > 0 &&
                    ((this._dragging = t),
                    this._eventDispatcher.dispatchEvent(
                      new ln.a(ln.a.types.ON_MAP_DRAG_START, {})
                    )),
                  !t &&
                    this._dragging &&
                    ((this._dragging = !1),
                    this._eventDispatcher.dispatchEvent(
                      new ln.a(ln.a.types.ON_MAP_DRAG_END, {})
                    )),
                  t
                )
              },
            },
            {
              key: 'addHammerPinch',
              value: function () {
                var e = this,
                  t = this._hammer
                t.get('pinch').set({ enable: !0 }),
                  t.on('pinch', function (t) {
                    e.handlePinch(t.scale)
                  }),
                  t.on('pinchend', function (t) {
                    e.handlePinch(t.scale)
                  })
              },
            },
            {
              key: 'handlePinch',
              value: function (e) {
                ;(e = It.lerp(1, e, 0.5)),
                  this._transitionManager.getState() == rn.MAP &&
                    (this._targetZoom = It.clamp01(e * this._targetZoom))
              },
            },
          ]),
          t
        )
      })(Yt)
    gn.DEFAULT_FOV = 60
    var yn = (function () {
        function e(t, n) {
          se()(this, e),
            (this._renderer = t),
            (this._detail = new tn(
              this._renderer,
              n,
              an.getURL('pattern'),
              !0,
              !0,
              !1
            ))
        }
        return (
          le()(e, [
            {
              key: 'paperDetail',
              value: function () {
                return this._detail
              },
            },
          ]),
          e
        )
      })(),
      Tn = (function (e) {
        function t() {
          var e
          return (
            se()(this, t),
            ((e = ce()(this, he()(t).call(this)))._loadsRequested = []),
            (e._loadsCompleted = 0),
            (e._progress = 0),
            (e._isLoading = !1),
            (e._callbackPerPreloadable = []),
            e
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'add',
              value: function (e) {
                var t =
                    arguments.length > 1 && void 0 !== arguments[1]
                      ? arguments[1]
                      : null,
                  n = this._loadsRequested.push(e) - 1
                return (
                  this._callbackPerPreloadable.push(t),
                  this.isLoading() && this.startLoader(n),
                  e
                )
              },
            },
            {
              key: 'load',
              value: function (e, t) {
                ;(this._callback = e),
                  (this._progressCallBack = t),
                  this.loadAll()
              },
            },
            {
              key: 'isLoading',
              value: function () {
                return this._isLoading
              },
            },
            {
              key: 'loadAll',
              value: function () {
                if (0 !== this._loadsRequested.length) {
                  this._isLoading = !0
                  for (var e = 0; e < this._loadsRequested.length; e++)
                    this.startLoader(e)
                } else this.loadDoneCallback()
              },
            },
            {
              key: 'setCallbackForPreloadable',
              value: function (e) {
                var t =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : null
                this._callbackPerPreloadable[this.getIndexOfPreloadable(e)] = t
              },
            },
            {
              key: 'getIndexOfPreloadable',
              value: function (e) {
                return this._loadsRequested.indexOf(e)
              },
            },
            {
              key: 'startLoader',
              value: function (e) {
                var t = this
                this._loadsRequested[e].load(function () {
                  var n = t._callbackPerPreloadable[e]
                  n && n(), t.loadDoneCallback()
                })
              },
            },
            {
              key: 'loadDoneCallback',
              value: function () {
                this._loadsCompleted++,
                  (this._progress +=
                    (1 - this._progress) /
                    (1 + this._loadsRequested.length - this._loadsCompleted)),
                  this._progressCallBack &&
                    (this._loadsRequested.length
                      ? this._progressCallBack.call(this, this._progress)
                      : this._progressCallBack.call(this, 1)),
                  this._loadsCompleted >= this._loadsRequested.length &&
                    ((this._isLoading = !1),
                    this._callback &&
                      (this._callback.call(this), (this._callback = null)))
              },
            },
            {
              key: 'destruct',
              value: function () {
                ;(this._callback = null),
                  ge()(he()(t.prototype), 'destruct', this).call(this)
              },
            },
          ]),
          t
        )
      })(Ge),
      En = (function (e) {
        function t(e) {
          var n,
            i =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : 1,
            a =
              arguments.length > 2 && void 0 !== arguments[2]
                ? arguments[2]
                : 1,
            r =
              arguments.length > 3 && void 0 !== arguments[3]
                ? arguments[3]
                : Qt.DEPTH_UINTSHORT
          return (
            se()(this, t),
            (n = ce()(this, he()(t).call(this, e, r, !1, !1, !0))).setSize(
              i,
              a
            ),
            n
          )
        }
        return pe()(t, e), t
      })(en),
      bn = (function (e) {
        function t(e) {
          var n,
            i =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : 1,
            a =
              arguments.length > 2 && void 0 !== arguments[2]
                ? arguments[2]
                : 1,
            r =
              arguments.length > 3 && void 0 !== arguments[3]
                ? arguments[3]
                : Qt.RGBA_UNSIGNED_BYTE,
            s =
              (arguments.length > 4 && void 0 !== arguments[4] && arguments[4],
              arguments.length > 5 && void 0 !== arguments[5] && arguments[5]),
            o =
              !(arguments.length > 6 && void 0 !== arguments[6]) ||
              arguments[6],
            l = arguments.length > 7 && void 0 !== arguments[7] && arguments[7],
            u = arguments.length > 8 && void 0 !== arguments[8] && arguments[8]
          se()(this, t),
            ((n = ce()(
              this,
              he()(t).call(this, e, r, !1, s, o)
            )).renderBuffer = null),
            (n.colorFramebuffer = null),
            (n.scaleToCanvas = !1),
            (n.sizeMultiplier = 1),
            (n.frameBufferComplete = !1),
            (n.aaSamples = 4),
            n.setSize(i, a)
          var c = n.renderer.context
          return (
            (n.frameBuffer = c.createFramebuffer()),
            c.bindFramebuffer(c.FRAMEBUFFER, n.frameBuffer),
            c.framebufferTexture2D(
              c.FRAMEBUFFER,
              c.COLOR_ATTACHMENT0,
              c.TEXTURE_2D,
              n.textureGL,
              0
            ),
            (n.frameBufferComplete = n.testBuffer()),
            l ? n.createDepthBuffer(i, a) : u && n.createStencilBuffer(i, a),
            n
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'addMultisampleRenderBuffer',
              value: function () {
                if (this.renderer instanceof Jt) {
                  var e = this.renderer.context
                  ;(this.colorFramebuffer = e.createFramebuffer()),
                    (this.renderBuffer = e.createRenderbuffer()),
                    e.bindRenderbuffer(e.RENDERBUFFER, this.renderBuffer),
                    e.renderbufferStorageMultisample(
                      e.RENDERBUFFER,
                      this.aaSamples,
                      this.internalFormat,
                      this.width,
                      this.height
                    ),
                    e.bindFramebuffer(e.FRAMEBUFFER, this.frameBuffer),
                    e.framebufferTexture2D(
                      e.FRAMEBUFFER,
                      e.COLOR_ATTACHMENT0,
                      e.TEXTURE_2D,
                      null,
                      0
                    ),
                    e.framebufferRenderbuffer(
                      e.FRAMEBUFFER,
                      e.COLOR_ATTACHMENT0,
                      e.RENDERBUFFER,
                      this.renderBuffer
                    ),
                    e.bindFramebuffer(e.FRAMEBUFFER, null),
                    e.bindFramebuffer(e.FRAMEBUFFER, this.colorFramebuffer),
                    e.framebufferTexture2D(
                      e.FRAMEBUFFER,
                      e.COLOR_ATTACHMENT0,
                      e.TEXTURE_2D,
                      this.textureGL,
                      0
                    ),
                    e.bindFramebuffer(e.FRAMEBUFFER, null)
                }
              },
            },
            {
              key: 'resolveMultisampleBuffer',
              value: function () {
                if (this.renderer instanceof Jt && this.renderBuffer) {
                  var e = this.renderer.context
                  e.bindFramebuffer(e.READ_FRAMEBUFFER, this.frameBuffer),
                    e.bindFramebuffer(
                      e.DRAW_FRAMEBUFFER,
                      this.colorFramebuffer
                    ),
                    e.clearBufferfv(e.COLOR, 0, [0, 0, 0, 1]),
                    e.blitFramebuffer(
                      0,
                      0,
                      this.width,
                      this.height,
                      0,
                      0,
                      this.width,
                      this.height,
                      e.COLOR_BUFFER_BIT,
                      e.NEAREST
                    ),
                    e.bindFramebuffer(e.DRAW_FRAMEBUFFER, null),
                    e.bindFramebuffer(e.READ_FRAMEBUFFER, null),
                    e.bindFramebuffer(e.FRAMEBUFFER, null)
                }
              },
            },
            {
              key: 'testBuffer',
              value: function () {
                var e = this.renderer.context
                e.bindFramebuffer(e.FRAMEBUFFER, this.frameBuffer)
                var t = e.checkFramebufferStatus(e.FRAMEBUFFER)
                switch (t) {
                  case e.FRAMEBUFFER_COMPLETE:
                    return !0
                  case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:
                    return (
                      console.log(
                        'Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_ATTACHMENT',
                        this.formatType
                      ),
                      !1
                    )
                  case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:
                    return (
                      console.log(
                        'Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT',
                        this.formatType
                      ),
                      !1
                    )
                  case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:
                    return (
                      console.log(
                        'Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_DIMENSIONS',
                        this.formatType
                      ),
                      !1
                    )
                  case e.FRAMEBUFFER_UNSUPPORTED:
                    return (
                      console.log(
                        'Incomplete framebuffer: FRAMEBUFFER_UNSUPPORTED',
                        this.formatType
                      ),
                      !1
                    )
                  default:
                    return (
                      console.log(
                        'Incomplete framebuffer: ' + t,
                        this.formatType
                      ),
                      !1
                    )
                }
              },
            },
            {
              key: 'setTexture3DSlice',
              value: function (e, t) {
                var n =
                    arguments.length > 2 && void 0 !== arguments[2]
                      ? arguments[2]
                      : 0,
                  i = this.renderer.context
                i.bindFramebuffer(i.FRAMEBUFFER, this.frameBuffer),
                  i.framebufferTextureLayer(
                    i.FRAMEBUFFER,
                    i.COLOR_ATTACHMENT0,
                    e.textureGL,
                    n,
                    t
                  )
              },
            },
            {
              key: 'addDepthTexture',
              value: function () {
                this.renderer.extensionManager.depth_texture
                  ? this.setDepthTexture(
                      new En(this.renderer, this.width, this.height)
                    )
                  : console.log('addDepthTexture: extension not supported')
              },
            },
            {
              key: 'setDepthTexture',
              value: function (e) {
                e.setSize(this.width, this.height), (this.depthTexture = e)
                var t = this.renderer.context
                t.framebufferTexture2D(
                  t.FRAMEBUFFER,
                  t.DEPTH_ATTACHMENT,
                  t.TEXTURE_2D,
                  this.depthTexture.textureGL,
                  0
                )
              },
            },
            {
              key: 'createDepthBuffer',
              value: function (e, t) {
                var n = this.renderer.context
                ;(this.depthBuffer = n.createRenderbuffer()),
                  n.bindRenderbuffer(n.RENDERBUFFER, this.depthBuffer),
                  n.renderbufferStorage(
                    n.RENDERBUFFER,
                    n.DEPTH_COMPONENT16,
                    e,
                    t
                  ),
                  n.framebufferRenderbuffer(
                    n.FRAMEBUFFER,
                    n.DEPTH_ATTACHMENT,
                    n.RENDERBUFFER,
                    this.depthBuffer
                  )
              },
            },
            {
              key: 'createDepthStencilBuffer',
              value: function (e, t) {
                var n = this.renderer.context
                ;(this.depthBuffer = n.createRenderbuffer()),
                  n.bindRenderbuffer(n.RENDERBUFFER, this.depthBuffer),
                  n.renderbufferStorage(n.RENDERBUFFER, n.DEPTH_STENCIL, e, t),
                  n.framebufferRenderbuffer(
                    n.FRAMEBUFFER,
                    n.DEPTH_STENCIL_ATTACHMENT,
                    n.RENDERBUFFER,
                    this.depthBuffer
                  )
              },
            },
            {
              key: 'createStencilBuffer',
              value: function (e, t) {
                var n = this.renderer.context
                ;(this.stencilBuffer = n.createRenderbuffer()),
                  n.bindRenderbuffer(n.RENDERBUFFER, this.stencilBuffer),
                  n.renderbufferStorage(n.RENDERBUFFER, n.STENCIL_INDEX8, e, t),
                  n.framebufferRenderbuffer(
                    n.FRAMEBUFFER,
                    n.STENCIL_ATTACHMENT,
                    n.RENDERBUFFER,
                    this.stencilBuffer
                  )
              },
            },
            {
              key: 'setAsTarget',
              value: function () {
                var e = this.renderer.context
                e.bindFramebuffer(e.FRAMEBUFFER, this.frameBuffer),
                  this.depthBuffer
                    ? this.renderer.renderState.setDepthMask(!0)
                    : this.depthTexture
                    ? this.renderer.renderState.setDepthMask(!0)
                    : this.renderer.renderState.setDepthMask(!1)
              },
            },
            {
              key: 'setSize',
              value: function (e, n) {
                if (e !== this.width || n !== this.height) {
                  if (this.depthBuffer) {
                    var i = this.renderer.context
                    i.bindRenderbuffer(i.RENDERBUFFER, this.depthBuffer),
                      i.renderbufferStorage(
                        i.RENDERBUFFER,
                        i.DEPTH_COMPONENT16,
                        e,
                        n
                      ),
                      i.bindRenderbuffer(tt.RENDERBUFFER, null)
                  }
                  if (this.stencilBuffer) {
                    var a = this.renderer.context
                    a.bindRenderbuffer(a.RENDERBUFFER, this.stencilBuffer),
                      a.renderbufferStorage(
                        a.RENDERBUFFER,
                        a.STENCIL_INDEX8,
                        e,
                        n
                      ),
                      a.bindRenderbuffer(tt.RENDERBUFFER, null)
                  }
                  if (this.renderBuffer) {
                    var r = this.renderer.context
                    r.bindRenderbuffer(r.RENDERBUFFER, this.renderBuffer),
                      r.renderbufferStorageMultisample(
                        r.RENDERBUFFER,
                        this.aaSamples,
                        this.internalFormat,
                        e,
                        n
                      ),
                      r.bindRenderbuffer(tt.RENDERBUFFER, null)
                  }
                  this.depthTexture && this.depthTexture.setSize(e, n),
                    ge()(he()(t.prototype), 'setSize', this).call(this, e, n)
                }
              },
            },
            {
              key: 'getData',
              value: function () {
                arguments.length > 0 && void 0 !== arguments[0] && arguments[0]
                return ge()(he()(t.prototype), 'getData', this).call(
                  this,
                  this.frameBuffer
                )
              },
            },
            {
              key: 'getDataRef',
              value: function (e) {
                var t = this.renderer.context
                t.bindFramebuffer(tt.FRAMEBUFFER, this.frameBuffer),
                  t.readPixels(
                    0,
                    0,
                    this.width,
                    this.height,
                    this.format,
                    this.type,
                    e
                  ),
                  t.bindFramebuffer(t.FRAMEBUFFER, null)
              },
            },
            {
              key: 'getPixelU8',
              value: function (e, t) {
                var n = this.renderer.context
                n.bindFramebuffer(tt.FRAMEBUFFER, this.frameBuffer)
                var i = new Uint8Array(4)
                return (
                  n.readPixels(e, t, 1, 1, tt.RGBA, tt.UNSIGNED_BYTE, i),
                  n.bindFramebuffer(n.FRAMEBUFFER, null),
                  i
                )
              },
            },
            {
              key: 'getPixel',
              value: function (e, t) {
                var n,
                  i = this.renderer.context
                switch (
                  (i.bindFramebuffer(tt.FRAMEBUFFER, this.frameBuffer),
                  this.formatType)
                ) {
                  case Qt.RGBA_FLOAT:
                    n = new Float32Array(4)
                    break
                  case Qt.RGBA_UNSIGNED_BYTE:
                    n = new Uint8Array(4)
                    break
                  case Qt.LUMINANCE_UNSIGNED_BYTE:
                    n = new Uint8Array(1)
                    break
                  case Qt.LUMINANCE_FLOAT:
                    n = new Float32Array(1)
                    break
                  default:
                    throw new Error(
                      'Can not yet get data for format type: ' + this.formatType
                    )
                }
                return (
                  i.readPixels(e, t, 1, 1, this.format, this.type, n),
                  i.bindFramebuffer(i.FRAMEBUFFER, null),
                  n
                )
              },
            },
            {
              key: 'destruct',
              value: function () {
                var e = this.renderer.context
                this.frameBuffer &&
                  (e.deleteFramebuffer(this.frameBuffer),
                  delete this.frameBuffer),
                  this.colorFramebuffer &&
                    (e.deleteFramebuffer(this.colorFramebuffer),
                    (this.colorFramebuffer = null)),
                  this.depthBuffer &&
                    (e.deleteRenderbuffer(this.depthBuffer),
                    delete this.depthBuffer),
                  this.stencilBuffer &&
                    (e.deleteRenderbuffer(this.stencilBuffer),
                    delete this.stencilBuffer),
                  this.renderBuffer &&
                    (e.deleteRenderbuffer(this.renderBuffer),
                    (this.renderBuffer = null)),
                  this.depthTexture &&
                    (this.depthTexture.destruct(), delete this.depthTexture),
                  ge()(he()(t.prototype), 'destruct', this).call(this)
              },
            },
          ]),
          t
        )
      })(en),
      Cn = (function () {
        function e() {
          se()(this, e)
        }
        return (
          le()(e, null, [
            {
              key: 'createCanvas',
              value: function (e, t) {
                var n = document.createElement('canvas')
                return (n.width = e), (n.height = t), n
              },
            },
            {
              key: 'textureToCanvas',
              value: function (e, t) {
                for (
                  var n = t.getContext('2d'),
                    i = n.createImageData(e.width, e.height),
                    a = e.getData(),
                    r = 0;
                  r < a.length;
                  r++
                )
                  i.data[r] = a[r]
                n.putImageData(i, 0, 0)
              },
            },
            {
              key: 'canvasToCanvas',
              value: function (e, t) {
                t.getContext('2d').drawImage(e, 0, 0)
              },
            },
            {
              key: 'imageToCanvas',
              value: function (t) {
                var n = e.createCanvas(t.width, t.height)
                return n.getContext('2d').drawImage(t, 0, 0), n
              },
            },
            {
              key: 'getImageData',
              value: function (t) {
                var n =
                    arguments.length > 1 &&
                    void 0 !== arguments[1] &&
                    arguments[1],
                  i = e.createCanvas(t.width, t.height),
                  a = i.getContext('2d')
                return (
                  n && a.transform(1, 0, 0, -1, 0, i.height),
                  a.drawImage(t, 0, 0),
                  a.getImageData(0, 0, t.width, t.height)
                )
              },
            },
            {
              key: 'renderToCanvas',
              value: function (t, n) {
                var i =
                    arguments.length > 2 && void 0 !== arguments[2]
                      ? arguments[2]
                      : null,
                  a =
                    arguments.length > 3 && void 0 !== arguments[3]
                      ? arguments[3]
                      : null,
                  r = e.renderToTexture(t, n, i, a)
                return e.putToCanvas(r.getData(), r.width, r.height)
              },
            },
            {
              key: 'renderToPng',
              value: function (t, n) {
                var i =
                    arguments.length > 2 && void 0 !== arguments[2]
                      ? arguments[2]
                      : null,
                  a =
                    arguments.length > 3 && void 0 !== arguments[3]
                      ? arguments[3]
                      : null,
                  r = e.renderToTexture(t, n, i, a),
                  s = e.putToCanvas(r.getData(), r.width, r.height)
                return window.open(s.toDataURL(), '_blank'), s.toDataURL()
              },
            },
            {
              key: 'renderToTexture',
              value: function (e, t) {
                var n =
                    arguments.length > 2 && void 0 !== arguments[2]
                      ? arguments[2]
                      : null,
                  i =
                    arguments.length > 3 && void 0 !== arguments[3]
                      ? arguments[3]
                      : null,
                  a = null !== n ? n : e.getRenderWidth(),
                  r = null !== i ? i : e.getRenderHeight(),
                  s = new bn(e, a, r, Qt.RGBA_UNSIGNED_BYTE, !1, !0, !0, !0)
                return (
                  e.setRenderTexture(s),
                  e.clear(),
                  t.call(this),
                  e.unSetRenderTexture(),
                  s
                )
              },
            },
            {
              key: 'putToCanvas',
              value: function (t, n, i) {
                for (
                  var a =
                      arguments.length > 3 &&
                      void 0 !== arguments[3] &&
                      arguments[3],
                    r = e.createCanvas(n, i),
                    s = r.getContext('2d'),
                    o = s.createImageData(n, i),
                    l = 0;
                  l < i;
                  l++
                )
                  for (
                    var u = l * n * 4,
                      c = a ? l * n * 4 : (i - l - 1) * n * 4,
                      d = 0;
                    d < n;
                    d++
                  )
                    (o.data[u++] = t[c++]),
                      (o.data[u++] = t[c++]),
                      (o.data[u++] = t[c++]),
                      (o.data[u++] = t[c++])
                return s.putImageData(o, 0, 0), r
              },
            },
            {
              key: 'textureToBrowserTab',
              value: function (e) {
                this.dataToBrowserTab(e.getData(), e.width, e.height)
              },
            },
            {
              key: 'dataToBrowserTab',
              value: function (t, n, i) {
                var a = e.createCanvas(n, i),
                  r = new Tn(),
                  s = new Pt(r, a, null, !0)
                r.load(function () {
                  s.init()
                  var e = new en(s, Qt.RGBA_UNSIGNED_BYTE, !1, !1)
                  e.setData(t, n, i), s.blit(e)
                  var a = e.renderer.getCanvas().toDataURL(),
                    r = window.open('', '_blank')
                  if (r) {
                    var o = r.document.createElement('img')
                    ;(o.src = a), r.document.body.appendChild(o)
                  } else console.error('Unable to open new window')
                  s.destruct()
                })
              },
            },
          ]),
          e
        )
      })(),
      An = (function () {
        function e(t, n) {
          se()(this, e), (this._url = n), t.add(this)
        }
        return (
          le()(e, [
            {
              key: 'load',
              value: function (e) {
                var t = this
                this.image = gt.loadImage(this._url, function (n) {
                  ;(t.image = n), t.initImage(), e.call(t)
                })
              },
            },
            {
              key: 'initImage',
              value: function () {
                if (!this.image)
                  throw new ReferenceError(
                    'cannot initialize sizes. image is not defined'
                  )
                ;(this.width = this.image.width),
                  (this.height = this.image.height)
              },
            },
            {
              key: 'getData',
              value: function () {
                var e =
                  arguments.length > 0 &&
                  void 0 !== arguments[0] &&
                  arguments[0]
                return new Uint8Array(Cn.getImageData(this.image, e).data)
              },
            },
          ]),
          e
        )
      })(),
      In = (function () {
        function e() {
          se()(this, e)
        }
        return (
          le()(e, null, [
            {
              key: 'linear',
              value: function (e) {
                return e
              },
            },
            {
              key: 'smoothstep',
              value: function (e) {
                return e * e * (3 - 2 * e)
              },
            },
            {
              key: 'quadIn',
              value: function (e) {
                return e * e
              },
            },
            {
              key: 'quadOut',
              value: function (e) {
                return e * (2 - e)
              },
            },
            {
              key: 'quadInOut',
              value: function (e) {
                return e <= 0.5 ? e * e * 2 : 1 - --e * e * 2
              },
            },
            {
              key: 'quadOutIn',
              value: function (e) {
                return e < 0.5
                  ? -0.5 * (e *= 2) * (e - 2)
                  : 0.5 * (e = 2 * e - 1) * e + 0.5
              },
            },
            {
              key: 'powIn',
              value: function (e) {
                return Math.pow(e, 5)
              },
            },
            {
              key: 'powOut',
              value: function (e) {
                return 1 - Math.pow(1 - e, 5)
              },
            },
            {
              key: 'sineIn',
              value: function (e) {
                return 1 - Math.cos(0.5 * Math.PI * e)
              },
            },
            {
              key: 'sineOut',
              value: function (e) {
                return Math.sin(0.5 * Math.PI * e)
              },
            },
            {
              key: 'sineInOut',
              value: function (e) {
                return 0.5 - Math.cos(Math.PI * e) / 2
              },
            },
            {
              key: 'sineOutIn',
              value: function (e) {
                return 0 == e
                  ? 0
                  : 1 == e
                  ? 1
                  : e < 0.5
                  ? 0.5 * Math.sin(2 * e * Math.PI * 0.5)
                  : -0.5 * Math.cos((2 * e - 1) * Math.PI * 0.5) + 1
              },
            },
            {
              key: 'circIn',
              value: function (e) {
                return 1 - Math.sqrt(1 - e * e)
              },
            },
            {
              key: 'circOut',
              value: function (e) {
                return --e, Math.sqrt(1 - e * e)
              },
            },
            {
              key: 'circInOut',
              value: function (e) {
                return e <= 0.5
                  ? (Math.sqrt(1 - e * e * 4) - 1) / -2
                  : (Math.sqrt(1 - (2 * e - 2) * (2 * e - 2)) + 1) / 2
              },
            },
            {
              key: 'circOutIn',
              value: function (e) {
                return e < 0.5
                  ? 0.5 * Math.sqrt(1 - (e = 2 * e - 1) * e)
                  : -0.5 * (Math.sqrt(1 - (e = 2 * e - 1) * e) - 1 - 1)
              },
            },
            {
              key: 'cubeIn',
              value: function (e) {
                return e * e * e
              },
            },
            {
              key: 'cubeOut',
              value: function (e) {
                return 1 + --e * e * e
              },
            },
            {
              key: 'cubeInOut',
              value: function (e) {
                return e <= 0.5 ? e * e * e * 4 : 1 + --e * e * e * 4
              },
            },
            {
              key: 'cubeOutIn',
              value: function (e) {
                return 0.5 * ((e = 2 * e - 1) * e * e + 1)
              },
            },
            {
              key: 'quartIn',
              value: function (e) {
                return e * e * e * e
              },
            },
            {
              key: 'quartOut',
              value: function (e) {
                return 1 + --e * e * e * e
              },
            },
            {
              key: 'quartInOut',
              value: function (e) {
                return e <= 0.5
                  ? e * e * e * e * 8
                  : 0.5 * (1 - (e = 2 * e - 2) * e * e * e) + 0.5
              },
            },
            {
              key: 'quartOutIn',
              value: function (e) {
                return e < 0.5
                  ? -0.5 * (e = 2 * e - 1) * e * e * e + 0.5
                  : 0.5 * (e = 2 * e - 1) * e * e * e + 0.5
              },
            },
            {
              key: 'quintIn',
              value: function (e) {
                return e * e * e * e * e
              },
            },
            {
              key: 'quintOut',
              value: function (e) {
                return (e -= 1) * e * e * e * e + 1
              },
            },
            {
              key: 'quintInOut',
              value: function (e) {
                return (e *= 2) < 1
                  ? (e * e * e * e * e) / 2
                  : ((e -= 2) * e * e * e * e + 2) / 2
              },
            },
            {
              key: 'quintOutIn',
              value: function (e) {
                return 0.5 * ((e = 2 * e - 1) * e * e * e * e + 1)
              },
            },
            {
              key: 'expoIn',
              value: function (e) {
                return Math.pow(2, 10 * (e - 1))
              },
            },
            {
              key: 'expoOut',
              value: function (e) {
                return 1 - Math.pow(2, -10 * e)
              },
            },
            {
              key: 'expoInOut',
              value: function (e) {
                return e < 0.5
                  ? Math.pow(2, 10 * (2 * e - 1)) / 2
                  : (2 - Math.pow(2, -10 * (2 * e - 1))) / 2
              },
            },
            {
              key: 'expoOutIn',
              value: function (e) {
                return e < 0.5
                  ? 0.5 * (1 - Math.pow(2, -20 * e))
                  : 0.5 == e
                  ? 0.5
                  : 0.5 * (Math.pow(2, 20 * (e - 1)) + 1)
              },
            },
            {
              key: 'backIn',
              value: function (e) {
                return e * e * (5 * e - 4)
              },
            },
            {
              key: 'backOut',
              value: function (e) {
                return 1 - --e * e * (-5 * e - 4)
              },
            },
            {
              key: 'backInOut',
              value: function (e) {
                return (e *= 2) < 1
                  ? (e * e * (5 * e - 4)) / 2
                  : (1 - (e -= 2) * e * (-5 * e - 4)) / 2 + 0.5
              },
            },
            {
              key: 'elasticIn',
              value: function (e) {
                var t =
                    arguments.length > 1 && void 0 !== arguments[1]
                      ? arguments[1]
                      : 1,
                  n =
                    arguments.length > 2 && void 0 !== arguments[2]
                      ? arguments[2]
                      : 0.4
                return (
                  -t *
                  Math.pow(2, 10 * (e -= 1)) *
                  Math.sin(
                    ((e - (n / (Math.PI / 2)) * Math.asin(1 / t)) *
                      (2 * Math.PI)) /
                      n
                  )
                )
              },
            },
            {
              key: 'elasticOut',
              value: function (e) {
                var t =
                    arguments.length > 1 && void 0 !== arguments[1]
                      ? arguments[1]
                      : 1,
                  n =
                    arguments.length > 2 && void 0 !== arguments[2]
                      ? arguments[2]
                      : 0.4
                return (
                  t *
                    Math.pow(2, -10 * e) *
                    Math.sin(
                      ((e - (n / (2 * Math.PI)) * Math.asin(1 / t)) *
                        (2 * Math.PI)) /
                        n
                    ) +
                  1
                )
              },
            },
            {
              key: 'elasticInOut',
              value: function (e) {
                arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
                var t =
                  arguments.length > 2 && void 0 !== arguments[2]
                    ? arguments[2]
                    : 0.4
                return e < 0.5
                  ? Math.pow(2, 10 * (e -= 0.5)) *
                      Math.sin(((e - t / 4) * (2 * Math.PI)) / t) *
                      -0.5
                  : Math.pow(2, -10 * (e -= 0.5)) *
                      Math.sin(((e - t / 4) * (2 * Math.PI)) / t) *
                      0.5 +
                      1
              },
            },
          ]),
          e
        )
      })(),
      kn = function e(t) {
        se()(this, e),
          (this.depth = 0),
          (this.file = ''),
          (this.depth = -t.depth),
          (this.file = t.file)
      },
      Rn = (function () {
        function e(t, n) {
          se()(this, e),
            (this._initialized = !1),
            (this._layers = []),
            (this._amplitudes = []),
            (this._frame = 0),
            (this._tmpVec2 = new je()),
            (this.id = t)
          var i = n.layers
          ;(this._amplitudes = n.amplitudes),
            (this._name = n.name),
            (this._rotation = n.rotation)
          for (var a = 0; a < i.length; a++) this._layers.push(new kn(i[a]))
          this._layers.sort(function (e, t) {
            return t.depth - e.depth
          })
        }
        return (
          le()(
            e,
            [
              {
                key: 'load',
                value: function (t, n) {
                  for (
                    var i = this,
                      a = new Tn(),
                      r = function (t) {
                        var n = i._layers[t]
                        n.texture = e._texturePool[t]
                        var r = new An(
                          a,
                          an.getURL(i._name + '/' + i._name + n.file, !0)
                        )
                        a.setCallbackForPreloadable(r, function () {
                          n.texture.setImage(r.image), n.texture.generateMips()
                        })
                      },
                      s = 0;
                    s < this._layers.length;
                    s++
                  )
                    r(s)
                  var o = new An(
                    a,
                    an.getURL(this._name + '/' + this._name + '_paper')
                  )
                  a.setCallbackForPreloadable(o, function () {
                    e._bgTexture.setImage(o.image), e._bgTexture.generateMips()
                  }),
                    a.load(function () {
                      ;(i._initialized = !0), t()
                    }, n)
                },
              },
              {
                key: 'getCamera',
                value: function () {
                  return e._camera
                },
              },
              {
                key: 'draw',
                value: function (t, n) {
                  if (!this._initialized || n <= 0) this._frame = 0
                  else {
                    var i = kt.getInstance().time,
                      a = e._renderer,
                      r = e._mesh,
                      s = e._tmpTransform,
                      o = e._tmpVec2,
                      l = e._tmpVec3_1,
                      u = e._tmpVec3_2
                    je.lerp(o, o, a.getMouseListener().getScreenPos(), 0.05),
                      l.setValues(
                        Math.sin(0.3 * i) * this._amplitudes[0] +
                          0.3 * (o.x - 0.5),
                        Math.sin(0.4 * i + 2.39996) * this._amplitudes[1] +
                          0.3 * (o.y - 0.5),
                        Math.cos(0.35 * i + 2.39996) * this._amplitudes[2]
                      ),
                      u.setValues(0, 0, -this._rotation),
                      (l.z += 100 * (1 - In.quadOut(n))),
                      (l.y += 2 * (t.view.transform.getPosition().y - 0.5))
                    var c = e._camera
                    c.projection.setFOV(t.projection.getFOV()),
                      c.view.transform.lookAt(l, u, it.UP)
                    var d = e._tmpRotation
                    d.copy(c.view.transform.getRotation()),
                      qt.slerp(d, t.view.transform.getRotation(), d, n),
                      c.view.transform.setRotation(d),
                      c.projection.setAspect(a.getAspect())
                    var h = (e.FOV * Math.PI) / 180,
                      f = Math.tan(h / 2),
                      p = e._material,
                      v = e._materialDepthWrite,
                      m = e._materialBg
                    a.clearDepth(),
                      p.setFloat('_Opacity', In.quadOut(n)),
                      p.setMatrix('_ViewProjection', c.getViewProjection()),
                      v.setMatrix('_ViewProjection', c.getViewProjection()),
                      m.setMatrix('_ViewProjection', c.getViewProjection()),
                      s.setEulerDegreesValues(-90, 0, 0)
                    var _ = e.BG_ZINDEX * f
                    s.setPositionValues(0, 0, -e.BG_ZINDEX),
                      s.setScaleValues(100 * _, 0, 100 * _),
                      m.setMatrix('_Model', s.getWorldMatrix()),
                      m.setFloat('_Frame', this._frame),
                      m.setFloat('_LayerAmount', n),
                      a.draw(r, m)
                    for (var g = 0; g < this._layers.length; g++) {
                      var y = this._layers[g]
                      this._tmpVec2.setValues(
                        g % 2 < 1 ? 1 : -1,
                        g % 4 < 2 ? 1 : -1
                      ),
                        s.setPositionValues(0, 0, y.depth),
                        s.setScaleValues(-y.depth * f * 2, 0, -y.depth * f),
                        p.setTexture('_Texture', y.texture),
                        p.setVector2('_InktUVScale', this._tmpVec2),
                        p.setMatrix('_Model', s.getWorldMatrix()),
                        p.setFloat(
                          '_Frame',
                          this._frame - 60 * (this._layers.length - g)
                        ),
                        a.draw(r, p),
                        g < this._layers.length - 1 &&
                          (v.setTexture('_Texture', y.texture),
                          v.setVector2('_InktUVScale', this._tmpVec2),
                          v.setMatrix('_Model', s.getWorldMatrix()),
                          v.setFloat(
                            '_Frame',
                            this._frame - 60 * (this._layers.length - g)
                          ),
                          a.draw(r, v))
                    }
                    this._frame++
                  }
                },
              },
            ],
            [
              {
                key: 'setup',
                value: function (t, n) {
                  ;(e._renderer = t),
                    (e._mesh = new nn(t, 1, 1)),
                    (e._material = new vt(t, n, 'layeranimation')),
                    e._material.setPreMultipliedAlphaBlending(),
                    e._material.setCullingDisabled(),
                    (e._materialDepthWrite = new vt(
                      t,
                      n,
                      'layeranimationdepth'
                    )),
                    e._materialDepthWrite.setPreMultipliedAlphaBlending(),
                    e._materialDepthWrite.setCullingDisabled(),
                    (e._materialDepthWrite.depthWrite = !0),
                    (e._materialBg = new vt(t, n, 'layeranimationbg')),
                    e._materialBg.setCullingDisabled(),
                    (e._camera = new Yt(e.FOV, 0.1, 1e3))
                  for (var i = 0; i < e.MAX_LAYERS; i++)
                    e._texturePool[i] = new en(t, Qt.RGBA_UNSIGNED_BYTE, !0, !0)
                  ;(e._bgTexture = new en(
                    t,
                    Qt.RGBA_UNSIGNED_BYTE,
                    !0,
                    !0,
                    !1
                  )),
                    (e._inktTexture = an.getInktTex(t, n))
                },
              },
              {
                key: 'init',
                value: function (t, n) {
                  var i = e._material,
                    a = e._materialDepthWrite,
                    r = e._materialBg
                  t.addGroup('LayerAnimation', [i, a, r])
                  r.setTexture('_Detail', n.paperDetail()),
                    r.setTexture('_Texture', e._bgTexture),
                    i.setTexture('_Inkt', e._inktTexture),
                    a.setTexture('_Inkt', e._inktTexture),
                    r.setTexture('_Inkt', e._inktTexture),
                    e._camera.projection.setFOV(e.FOV)
                },
              },
            ]
          ),
          e
        )
      })()
    ;(Rn.MAX_LAYERS = 10),
      (Rn.BG_ZINDEX = 200),
      (Rn.FOV = 60),
      (Rn._texturePool = []),
      (Rn._tmpTransform = new Wt()),
      (Rn._tmpRotation = new qt()),
      (Rn._tmpVec3_1 = new it()),
      (Rn._tmpVec3_2 = new it()),
      (Rn._tmpVec2 = new je())
    var Mn = (function () {
        function e(t) {
          var n =
            !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]
          se()(this, e),
            (this._renderer = t),
            (this._target = new bn(
              this._renderer,
              1,
              1,
              Qt.RGBA_UNSIGNED_BYTE,
              !1,
              !1,
              !0,
              n
            ))
        }
        return (
          le()(e, [
            {
              key: 'bind',
              value: function () {
                var e = this._renderer.getRenderWidth(),
                  t = this._renderer.getRenderHeight()
                ;(e == this._target.width && t == this._target.height) ||
                  this._target.setSize(e, t),
                  this._renderer.setRenderTexture(this._target)
              },
            },
            {
              key: 'unbind',
              value: function () {
                this._renderer.unSetRenderTexture()
              },
            },
            {
              key: 'getRenderTexture',
              value: function () {
                return this._target
              },
            },
            {
              key: 'copy',
              value: function (e) {
                var t = e.getRenderTexture(),
                  n = t.getSize().x,
                  i = t.getSize().y
                ;(n == this._target.width && i == this._target.height) ||
                  this._target.setSize(n, i),
                  this._renderer.blit(t, this._target)
              },
            },
          ]),
          e
        )
      })(),
      xn = n(580),
      Sn = n.n(xn),
      wn = n(393),
      Pn = n.n(wn),
      On = (function () {
        function e(t, n) {
          se()(this, e),
            (this._name = 'PostEffectBase'),
            (this._standAlone = !0),
            (this._generatedShader = ''),
            (this._renderer = t),
            (this._name = n)
        }
        return (
          le()(e, [
            {
              key: 'setSettings',
              value: function (e) {
                var t =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : {}
                ;(this._settings = Object.assign(t, e)),
                  Ye.log('Post Effect: ' + this._name, this._settings)
              },
            },
            {
              key: 'init',
              value: function (e) {
                if ((this.initMaterial(), this._standAlone)) {
                  var t =
                    this._renderer.extensionManager.color_buffer_half_float &&
                    this._renderer.extensionManager.texture_half_float
                  this._outputBuffer = new bn(
                    this._renderer,
                    1,
                    1,
                    t ? Qt.RGBA_HALF_FLOAT : Qt.RGBA_UNSIGNED_BYTE,
                    !1,
                    !0,
                    !0,
                    !1
                  )
                }
              },
            },
            {
              key: 'initMaterial',
              value: function () {
                if (this._standAlone) {
                  var e = this._name,
                    t = this.getBaseVSCode(),
                    n = this.injectFSCode(
                      e,
                      this.getBaseFSCode(),
                      this.getFSCode()
                    )
                  ;(this._generatedShader = n),
                    (this._material = new lt(
                      this._renderer,
                      e,
                      new pt(this._renderer).init(e, t, n)
                    )),
                    (this._material.depthTest = !1)
                }
              },
            },
            {
              key: 'getBaseVSCode',
              value: function () {
                return Sn.a
              },
            },
            {
              key: 'getBaseFSCode',
              value: function () {
                return this.shaderSetsColor()
                  ? Pn.a
                  : Pn.a.replace(
                      '//EFFECTS',
                      'color = texture2D(uTexture, vUV).rgb;\n\n//EFFECTS'
                    )
              },
            },
            {
              key: 'debug',
              value: function () {
                '' == this._generatedShader &&
                  console.warn('Call debug after init'),
                  console.log(this._generatedShader)
              },
            },
            {
              key: 'injectFSCode',
              value: function (e, t, n) {
                var i = t
                return (i = (i = i.replace(
                  '//FUNCTIONS',
                  n + '\n\n//FUNCTIONS'
                )).replace(
                  '//EFFECTS',
                  'color = ' + e.toLowerCase() + '(vUV, color);\n\n//EFFECTS'
                ))
              },
            },
            {
              key: 'shaderSetsColor',
              value: function () {
                return !1
              },
            },
            {
              key: 'getFSCode',
              value: function () {
                return ''
              },
            },
            { key: 'update', value: function (e) {} },
            {
              key: 'standAlone',
              value: function () {
                return this._standAlone
              },
            },
            {
              key: 'setStandAlone',
              value: function (e) {
                this._standAlone = e
              },
            },
            {
              key: 'getMaterial',
              value: function () {
                return this._material
              },
            },
            {
              key: 'setMaterial',
              value: function (e) {
                this._material = e
              },
            },
            {
              key: 'draw',
              value: function (e) {
                var t =
                  arguments.length > 1 &&
                  void 0 !== arguments[1] &&
                  arguments[1]
                return (
                  this.update(e),
                  this.getMaterial().setVector2('uResolution', e.getSize()),
                  this.getMaterial().setFloat('uTime', kt.getInstance().time),
                  t
                    ? this._renderer.blit(e, null, this.getMaterial())
                    : (this._outputBuffer.setSize(e.width, e.height),
                      this._renderer.blit(
                        e,
                        this._outputBuffer,
                        this.getMaterial()
                      ),
                      (this._output = this._outputBuffer)),
                  this.output
                )
              },
            },
            {
              key: 'output',
              get: function () {
                return this._output
              },
            },
          ]),
          e
        )
      })(),
      Ln = (function (e) {
        function t(e, n) {
          var i,
            a = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]
          if (
            (se()(this, t),
            ((i = ce()(
              this,
              he()(t).call(this, e, 'PostEffectStack')
            ))._postEffects = []),
            (i._postStacks = []),
            a)
          ) {
            for (var r = [], s = 0; s < n.length; s++) {
              var o = n[s]
              o.setStandAlone(!1),
                o.shaderSetsColor() &&
                  r.length > 0 &&
                  (i._postStacks.push(new t(e, r)), (r = [])),
                r.push(o)
            }
            ;(i._postEffects = r),
              Ye.log(
                'PostEffectStack auto split in ' +
                  (i._postStacks.length + 1) +
                  ' stacks.'
              )
          } else
            for (var l = 0; l < n.length; l++) {
              var u = n[l]
              if ((u.setStandAlone(!1), l > 0 && u.shaderSetsColor()))
                throw (
                  'PostEffectStack: ' +
                  u._name +
                  ' not at first position of stack. Only the first effect of a stack is allowed to set the base color. Use more than one stack, auto-split stack or re-order effects.'
                )
              i._postEffects.push(u)
            }
          return i
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'init',
              value: function (e) {
                ge()(he()(t.prototype), 'init', this).call(this, e)
                for (var n = 0; n < this._postStacks.length; n++)
                  this._postStacks[n].init(e)
                for (var i = 0; i < this._postEffects.length; i++)
                  this._postEffects[i].setMaterial(this._material),
                    this._postEffects[i].init(e)
              },
            },
            {
              key: 'update',
              value: function (e) {
                for (var t = 0; t < this._postEffects.length; t++)
                  this._postEffects[t].update(e)
              },
            },
            {
              key: 'debug',
              value: function () {
                for (var e = 0; e < this._postStacks.length; e++)
                  this._postStacks[e].debug()
                ge()(he()(t.prototype), 'debug', this).call(this)
              },
            },
            {
              key: 'initMaterial',
              value: function () {
                if (this._standAlone) {
                  for (
                    var e = this._name,
                      t = this.getBaseVSCode(),
                      n = this._postEffects[0].getBaseFSCode(),
                      i = 0;
                    i < this._postEffects.length;
                    i++
                  ) {
                    var a = this._postEffects[i]
                    n = this.injectFSCode(a._name, n, a.getFSCode())
                  }
                  ;(this._generatedShader = n),
                    (this._material = new lt(
                      this._renderer,
                      e,
                      new pt(this._renderer).init(e, t, n)
                    ))
                }
              },
            },
            {
              key: 'draw',
              value: function (e) {
                for (
                  var n =
                      arguments.length > 1 &&
                      void 0 !== arguments[1] &&
                      arguments[1],
                    i = e,
                    a = 0;
                  a < this._postStacks.length;
                  a++
                )
                  i = this._postStacks[a].draw(i)
                return (
                  ge()(he()(t.prototype), 'draw', this).call(this, i, n),
                  this.output
                )
              },
            },
          ]),
          t
        )
      })(On),
      Fn = n(581),
      Nn = n.n(Fn),
      Dn = (function (e) {
        function t(e) {
          var n,
            i =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : {}
          return (
            se()(this, t),
            (n = ce()(this, he()(t).call(this, e, 'Vignette'))).setSettings(i, {
              boost: 1,
              reduction: 0.5,
              color: [0, 0, 0],
            }),
            n
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'getFSCode',
              value: function () {
                return Nn.a
              },
            },
            {
              key: 'init',
              value: function (e) {
                ge()(he()(t.prototype), 'init', this).call(this, e)
                var n = e.addGroup('Vignette', this.getMaterial())
                n.addShaderParamFloat(
                  '_VignetteBoost',
                  this._settings.boost,
                  0,
                  2
                ),
                  n.addShaderParamFloat(
                    '_VignetteReduction',
                    this._settings.reduction,
                    0,
                    2
                  )
                var i = this._settings.color
                this.getMaterial().setFloats(
                  '_VignetteColor',
                  1 - i[0],
                  1 - i[1],
                  1 - i[2],
                  0
                )
              },
            },
          ]),
          t
        )
      })(On),
      Bn = n(582),
      Un = n.n(Bn),
      Vn = (function (e) {
        function t(e) {
          var n,
            i =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : {}
          return (
            se()(this, t),
            (n = ce()(
              this,
              he()(t).call(this, e, 'NoiseAnimated')
            )).setSettings(i, { amount: 1 }),
            n
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'getFSCode',
              value: function () {
                return Un.a
              },
            },
            {
              key: 'init',
              value: function (e) {
                ge()(he()(t.prototype), 'init', this).call(this, e),
                  e
                    .addGroup('NoiseAnimated', this.getMaterial())
                    .addShaderParamFloat(
                      '_NoiseAnimatedAmount',
                      this._settings.amount,
                      0,
                      50
                    )
              },
            },
          ]),
          t
        )
      })(On),
      $n = (function () {
        function e() {
          se()(this, e)
        }
        return (
          le()(e, null, [
            {
              key: 'toVector3Array',
              value: function (e) {
                for (var t = e.length / 3, n = [], i = 0, a = 0; a < t; a++)
                  n.push(new it(e[i++], e[i++], e[i++]))
                return n
              },
            },
            {
              key: 'toFloat32Array',
              value: function (e) {
                for (
                  var t = e.length, n = new Float32Array(3 * t), i = 0, a = 0;
                  a < t;
                  a++
                )
                  (n[i++] = e[a].x), (n[i++] = e[a].y), (n[i++] = e[a].z)
                return n
              },
            },
            {
              key: 'toFloat32ArrayVec4',
              value: function (e) {
                for (
                  var t = e.length, n = new Float32Array(4 * t), i = 0, a = 0;
                  a < t;
                  a++
                )
                  (n[i++] = e[a].x),
                    (n[i++] = e[a].y),
                    (n[i++] = e[a].z),
                    (n[i++] = e[a].w)
                return n
              },
            },
            {
              key: 'toFloat32ArrayVec2',
              value: function (e) {
                for (
                  var t = e.length, n = new Float32Array(2 * t), i = 0, a = 0;
                  a < t;
                  a++
                )
                  (n[i++] = e[a].x), (n[i++] = e[a].y)
                return n
              },
            },
            {
              key: 'toVector2Array',
              value: function (e) {
                for (var t = e.length / 2, n = [], i = 0, a = 0; a < t; a++)
                  n.push(new je(e[i++], e[i++]))
                return n
              },
            },
            {
              key: 'getLocalDimensions',
              value: function (e) {
                var t = new it(0, 0, 0),
                  n = e.getData('aPos')
                if (!n)
                  throw new ReferenceError(
                    'Could not get local dimensions: mesh data not found'
                  )
                for (var i = 0; i < 3 * e.getNumVertices(); i += 3)
                  Math.abs(n[i]) > t.x && (t.x = Math.abs(n[i])),
                    Math.abs(n[i + 1]) > t.y && (t.y = Math.abs(n[i + 1])),
                    Math.abs(n[i + 2]) > t.z && (t.z = Math.abs(n[i + 2]))
                return t
              },
            },
            {
              key: 'makeIndexed',
              value: function (t) {
                Ye.log('makeIndexed ', t.attributes)
                for (
                  var n = t.getNumVertices(), i = 0, a = 0;
                  a < t.attributes.length;
                  a++
                )
                  i += t.attributes[a].stride
                var r = 0,
                  s = t.getNumVertices(),
                  o = new Float32Array(i * s),
                  l = [],
                  u = new Float32Array(i)
                for (a = 0; a < s; a++) {
                  for (var c = 0, d = 0; d < t.attributes.length; d++)
                    for (var h = t.attributes[d], f = 0; f < h.stride; f++)
                      u[c++] = h.data[a * h.stride + f]
                  var p = e.getIndexOfSubBuffer(o, u, r / i)
                  if (p >= 0) l[a] = p
                  else {
                    l[a] = r / i
                    for (f = 0; f < i; f++) o[r++] = u[f]
                  }
                }
                ;(s = r / i) < Math.pow(2, 16)
                  ? t.setIndices(new Uint16Array(l))
                  : t.setIndices32(new Uint32Array(l)),
                  (o = new Float32Array(o.buffer, 0, r))
                var v = []
                for (r = 0, a = 0; a < t.attributes.length; a++)
                  v[a] = new Float32Array(s * t.attributes[a].stride)
                for (a = 0; a < s; a++)
                  for (d = 0; d < t.attributes.length; d++) {
                    var m = t.attributes[d].stride
                    for (f = 0; f < m; f++) v[d][a * m + f] = o[r++]
                  }
                for (a = 0; a < t.attributes.length; a++)
                  t.setAttribute(
                    t.attributes[a].name,
                    t.attributes[a].stride,
                    v[a],
                    !0
                  )
                Ye.log(
                  'generated indices, reduced amount of vertices from ' +
                    n +
                    ' to ' +
                    s
                )
              },
            },
            {
              key: 'getIndexOfSubBuffer',
              value: function (e, t, n) {
                for (var i = t.length, a = 0; a < n; a++) {
                  for (var r = !0, s = 0; s < i; s++)
                    t[s] != e[i * a + s] && ((r = !1), (s = 1e3))
                  if (r) return a
                }
                return -1
              },
            },
            {
              key: 'addTangents',
              value: function (e) {
                var t =
                    arguments.length > 1 &&
                    void 0 !== arguments[1] &&
                    arguments[1],
                  n = e.getUV0(),
                  i = e.getNormals(),
                  a = e.getPositions(),
                  r = e.indices
                if (null == n) return !1
                if (null == a) return !1
                if (null == r) return !1
                if (null == i) return !1
                var s = a.length / 3,
                  o = new Float32Array(4 * s),
                  l = new Float32Array(3 * s),
                  u = new Float32Array(3 * s),
                  c = new Float32Array(3),
                  d = new Float32Array(3)
                function h(e, t, i) {
                  if (null != a && null != n) {
                    var r = a[3 * t] - a[3 * e],
                      s = a[3 * i] - a[3 * e],
                      o = a[3 * t + 1] - a[3 * e + 1],
                      h = a[3 * i + 1] - a[3 * e + 1],
                      f = a[3 * t + 2] - a[3 * e + 2],
                      p = a[3 * i + 2] - a[3 * e + 2],
                      v = n[2 * t] - n[2 * e],
                      m = n[2 * i] - n[2 * e],
                      _ = n[2 * t + 1] - n[2 * e + 1],
                      g = n[2 * i + 1] - n[2 * e + 1],
                      y = 1 / (v * g - m * _)
                    ;(!isNaN(y) && y && isFinite(y)) || (0, (y = 1)),
                      (c[0] = (g * r - _ * s) * y),
                      (c[1] = (g * o - _ * h) * y),
                      (c[2] = (g * f - _ * p) * y),
                      (d[0] = (v * s - m * r) * y),
                      (d[1] = (v * h - m * o) * y),
                      (d[2] = (v * p - m * f) * y)
                    for (var T = 0; T < 3; ++T)
                      (l[3 * e + T] += c[T]),
                        (l[3 * t + T] += c[T]),
                        (l[3 * i + T] += c[T]),
                        (u[3 * e + T] += d[T]),
                        (u[3 * t + T] += d[T]),
                        (u[3 * i + T] += d[T])
                  }
                }
                for (var f = r.length, p = 0; p < f; p += 3)
                  h(r[p], r[p + 1], r[p + 2])
                var v,
                  m,
                  _ = new it(),
                  g = new it(),
                  y = new it(),
                  T = new it(),
                  E = new it(),
                  b = new it()
                function C(e) {
                  if (null != i) {
                    y.setValues(i[3 * e], i[3 * e + 1], i[3 * e + 2]),
                      T.copy(y),
                      E.setValues(l[3 * e], l[3 * e + 1], l[3 * e + 2]),
                      _.copy(E),
                      isNaN(_.x) && (0, _.setValues(1, 0, 0))
                    var t = it.dot(y, E)
                    y.multiplyScalar(t), it.subtract(_, _, y)
                    var n = _.length()
                    0 == n
                      ? (_.setValues(1, 0, 0), 0)
                      : _.multiplyScalar(1 / n),
                      isNaN(_.x) && (_.setValues(1, 0, 0), 0),
                      it.cross(g, T, E),
                      b.setValues(u[3 * e], u[3 * e + 1], u[3 * e + 2]),
                      (m = it.dot(g, b)),
                      (v = m < 0 ? 1 : -1),
                      (o[4 * e] = _.x),
                      (o[4 * e + 1] = _.y),
                      (o[4 * e + 2] = _.z),
                      (o[4 * e + 3] = v)
                  }
                }
                for (var A = 0; A < f; A += 3)
                  C(r[A + 0]), C(r[A + 1]), C(r[A + 2])
                return (
                  e.setAttribute(bt.TANGENT.name, bt.TANGENT.stride, o, t), !0
                )
              },
            },
            {
              key: 'generateNormals',
              value: function (t) {
                var n = t.getPositions()
                if (!n)
                  throw new ReferenceError(
                    'MeshUtils.generateNormals: failed getting positions data on ' +
                      t.name
                  )
                var i = e.toVector3Array(n),
                  a = e.toVector3Array(new Float32Array(n.length)),
                  r = t.indices
                if (!r)
                  throw new ReferenceError(
                    'Cannot generate normals: expected indices to be defined on mesh'
                  )
                for (var s = a.length, o = r.length / 3, l = 0; l < o; l++) {
                  var u = r[3 * l + 0],
                    c = r[3 * l + 1],
                    d = r[3 * l + 2],
                    h = i[u],
                    f = i[c],
                    p = i[d],
                    v = it
                      .cross(
                        new it(),
                        f.clone().subtract(h).normalize(),
                        p.clone().subtract(h).normalize()
                      )
                      .normalize()
                  a[u].add(v), a[c].add(v), a[d].add(v)
                }
                for (l = 0; l < s; l++) a[l].normalize()
                t.setNormals(e.toFloat32Array(a))
              },
            },
            {
              key: 'getElementCenter',
              value: function (e) {
                var t = e.getPositions(),
                  n = e.getNumVertices(),
                  i = new it()
                if (null === t)
                  throw new ReferenceError(
                    'Cannot get element center: positions not defined on mesh'
                  )
                for (var a = 0; a < n; a++)
                  (i.x += t[3 * a]),
                    (i.y += t[3 * a + 1]),
                    (i.z += t[3 * a + 2])
                return i.multiplyScalar(1 / n), i
              },
            },
            {
              key: 'getBoundingBox',
              value: function (e, t) {
                var n = e.getPositions(),
                  i = e.getNumVertices(),
                  a = new it(0, 0, 0)
                if (null === n)
                  throw new ReferenceError(
                    'Cannot get element center: positions not defined on mesh'
                  )
                for (var r = 0; r < i; r++)
                  (a.x = Math.max(a.x, Math.abs(n[3 * r] - t.x))),
                    (a.y = Math.max(a.x, Math.abs(n[3 * r + 1] - t.y))),
                    (a.z = Math.max(a.x, Math.abs(n[3 * r + 2] - t.z)))
                return a
              },
            },
            {
              key: 'getMergedMesh',
              value: function (e) {
                for (
                  var t =
                      arguments.length > 1 &&
                      void 0 !== arguments[1] &&
                      arguments[1],
                    n = new At(e[0].renderer),
                    i = [],
                    a = !!e[0].indices,
                    r = [],
                    s = e[0],
                    o = 0;
                  o < s.attributes.length;
                  o++
                )
                  i[o] = []
                for (var l = [], u = 0, c = 0; c < e.length; c++) {
                  s = e[c]
                  for (var d = 0; d < s.attributes.length; d++)
                    for (
                      var h = s.attributes[d].data, f = h.length, p = 0;
                      p < f;
                      p++
                    )
                      i[d].push(h[p])
                  if (a) {
                    for (var v = s.indices.length, m = 0; m < v; m++)
                      r.push(s.indices[m] + u)
                    u += s.getNumVertices()
                  }
                  if (t)
                    for (var _ = s.getNumVertices(), g = 0; g < _; g++)
                      l.push(c)
                }
                t && n.setAttribute('aIndex', 1, new Float32Array(l)),
                  (s = e[0])
                for (var y = 0; y < s.attributes.length; y++)
                  n.setAttribute(
                    s.attributes[y].name,
                    s.attributes[y].stride,
                    new Float32Array(i[y])
                  )
                return (
                  a && n.setIndices(new Uint16Array(r)),
                  Ye.log('getMergedMesh: vertexCount', n.getNumVertices()),
                  n
                )
              },
            },
            {
              key: 'getMergedTransformedMesh',
              value: function (t, n) {
                var i =
                    arguments.length > 2 &&
                    void 0 !== arguments[2] &&
                    arguments[2],
                  a = new At(t[0].renderer),
                  r = [],
                  s = t.length,
                  o = e.getMergedIndices(t)
                o && a.setIndices(o),
                  a.setAttribute('aIndex', 1, e.getIdList(t, i))
                for (var l = t[0], u = [], c = 0, d = 0; d < s; d++)
                  c += t[d].getNumVertices()
                for (var h = 0; h < l.attributes.length; h++)
                  (u[h] = 0),
                    (r[h] = new Float32Array(c * l.attributes[h].stride))
                for (
                  var f = He.e.create(),
                    p = 0,
                    v = t[0].attributes.length,
                    m = 0;
                  m < s;
                  m++
                ) {
                  l = t[m]
                  for (var _ = n[m].getLocalMatrix(), g = 0; g < v; g++) {
                    var y = l.attributes[g].data
                    if (l.attributes[g].name == bt.POSITION.name) {
                      for (var T = y.length / 3, E = 0; E < T; E++)
                        (f[0] = y[3 * E + 0]),
                          (f[1] = y[3 * E + 1]),
                          (f[2] = y[3 * E + 2]),
                          He.e.transformMat4(f, f, _),
                          (r[g][p++] = f[0]),
                          (r[g][p++] = f[1]),
                          (r[g][p++] = f[2])
                      u[g] += y.length
                    } else r[g].set(y, u[g])
                    u[g] += y.length
                  }
                }
                l = t[0]
                for (var b = 0; b < v; b++)
                  a.setAttribute(
                    l.attributes[b].name,
                    l.attributes[b].stride,
                    r[b]
                  ),
                    Ye.log(
                      'merged mesh attribute',
                      l.attributes[b].name,
                      r[b].length / l.attributes[b].stride,
                      r[b]
                    )
                return a
              },
            },
            {
              key: 'getMergedTransformedIdentical',
              value: function (t, n) {
                for (
                  var i =
                      arguments.length > 2 &&
                      void 0 !== arguments[2] &&
                      arguments[2],
                    a = n.length,
                    r = new At(t.renderer),
                    s = [],
                    o = He.e.create(),
                    l = 0;
                  l < t.attributes.length;
                  l++
                ) {
                  var u = t.attributes[l].data,
                    c = 0,
                    d = u.length
                  if (
                    ((s[l] = new Float32Array(u.length * a)),
                    t.attributes[l].name == bt.POSITION.name)
                  )
                    for (var h = 0; h < a; h++)
                      for (var f = n[h].getLocalMatrix(), p = 0; p < d / 3; p++)
                        (o[0] = u[3 * p + 0]),
                          (o[1] = u[3 * p + 1]),
                          (o[2] = u[3 * p + 2]),
                          He.e.transformMat4(o, o, f),
                          (s[l][c++] = o[0]),
                          (s[l][c++] = o[1]),
                          (s[l][c++] = o[2])
                  else if (t.attributes[l].name == bt.NORMAL.name)
                    for (var v = 0; v < a; v++)
                      for (var m = 0; m < d / 3; m++)
                        (o[0] = u[3 * m + 0]),
                          (o[1] = u[3 * m + 1]),
                          (o[2] = u[3 * m + 2]),
                          He.e.transformQuat(o, o, n[v].getRotation().q),
                          (s[l][c++] = o[0]),
                          (s[l][c++] = o[1]),
                          (s[l][c++] = o[2])
                  else
                    for (var _ = 0; _ < a; _++)
                      for (var g = 0; g < d; g++) s[l][c++] = u[g]
                  r.setAttribute(
                    t.attributes[l].name,
                    t.attributes[l].stride,
                    s[l]
                  )
                }
                var y = e.getMergedIndicesIdentical(t, a)
                return (
                  y && r.setIndices(y),
                  r.setAttribute('aIndex', 1, e.getIdListIdentical(t, a, i)),
                  r
                )
              },
            },
            {
              key: 'getMergedIndices',
              value: function (e) {
                if (e[0].indices) {
                  for (var t = e.length, n = 0, i = 0; i < t; i++) {
                    if (void 0 === e[i].indices)
                      throw new ReferenceError(
                        'Cannot get merged indices: xpected indices to be defined on none or all meshes'
                      )
                    n += e[i].indices.length
                  }
                  for (
                    var a = new Uint16Array(n), r = 0, s = 0, o = 0;
                    o < t;
                    o++
                  ) {
                    for (var l = e[o].indices.length, u = 0; u < l; u++)
                      a[r++] = e[o].indices[u] + s
                    s += e[o].getNumVertices()
                  }
                  return a
                }
                return null
              },
            },
            {
              key: 'getMergedIndicesIdentical',
              value: function (e, t) {
                if (e.indices) {
                  for (
                    var n = e.indices.length,
                      i = new Uint16Array(e.indices.length * t),
                      a = 0,
                      r = 0,
                      s = 0;
                    s < t;
                    s++
                  ) {
                    for (var o = 0; o < n; o++) i[a++] = e.indices[o] + r
                    r += e.getNumVertices()
                  }
                  return i
                }
                return null
              },
            },
            {
              key: 'getIdList',
              value: function (t, n) {
                for (
                  var i = e.getTotalVertexCount(t),
                    a = new Float32Array(i),
                    r = 0,
                    s = 0,
                    o = t.length,
                    l = 0;
                  l < o;
                  l++
                ) {
                  var u = t[l].getNumVertices()
                  s = n ? Math.random() : l
                  for (var c = 0; c < u; c++) a[r++] = s
                }
                return a
              },
            },
            {
              key: 'getIdListIdentical',
              value: function (e, t, n) {
                for (
                  var i = e.getNumVertices(),
                    a = new Float32Array(i * t),
                    r = 0,
                    s = 0,
                    o = 0;
                  o < t;
                  o++
                ) {
                  s = n ? Math.random() : o
                  for (var l = 0; l < i; l++) a[r++] = s
                }
                return a
              },
            },
            {
              key: 'getTotalVertexCount',
              value: function (e) {
                for (var t = 0, n = e.length, i = 0; i < n; i++)
                  t += e[i].getNumVertices()
                return t
              },
            },
            {
              key: 'addBaryCentricCoords',
              value: function (t) {
                var n = t.indices
                if (n) {
                  for (var i = 0; i < t.attributes.length; i++) {
                    var a = t.attributes[i],
                      r = e.getNonIndexed(a.data, n, a.stride)
                    t.setAttribute(a.name, a.stride, r)
                  }
                  delete t.indices
                }
                for (
                  var s = t.getNumVertices() / 3,
                    o = new Float32Array(9 * s),
                    l = 0,
                    u = 0;
                  u < s;
                  u++
                )
                  (o[l++] = 1),
                    (o[l++] = 0),
                    (o[l++] = 0),
                    (o[l++] = 0),
                    (o[l++] = 1),
                    (o[l++] = 0),
                    (o[l++] = 0),
                    (o[l++] = 0),
                    (o[l++] = 1)
                t.setAttribute('aBarycentric', 3, o)
              },
            },
            {
              key: 'getNonIndexed',
              value: function (e, t, n) {
                for (
                  var i = t.length, a = new Float32Array(i * n), r = 0, s = 0;
                  s < i;
                  s++
                )
                  for (var o = t[s], l = 0; l < n; l++) a[r++] = e[o * n + l]
                return a
              },
            },
          ]),
          e
        )
      })(),
      zn = (function () {
        function e(t, n) {
          se()(this, e),
            (this._cubeOffset = new it()),
            (this._oldViewProjection = He.b.create()),
            (this._speed = new it(0.05, -0.002, 0.006)),
            (this._offset = new it()),
            (this._tmpVar = new it()),
            (this._targetPosition = new it()),
            (this._currentPosition = new it()),
            (this._firstFrame = !0),
            (this._targetOpacity = 0.25),
            (this._targetColor = 0.9),
            (this._targetSpeed = -1),
            (this._renderer = t),
            (this._camera = new Yt(60, 1e-4, 100)),
            (this._mesh = this.createMesh(t, e.PARTICLES_SQRT3)),
            (this._material = new vt(t, n, 'snow')),
            this._material.setCullingDisabled(),
            this._material.setAlphaBlending()
        }
        return (
          le()(e, [
            {
              key: 'createMesh',
              value: function (e, t) {
                for (
                  var n = new At(e), i = [], a = [], r = [], s = 0, o = 0;
                  o < t;
                  o++
                )
                  for (var l = 0; l < t; l++)
                    for (var u = 0; u < t; u++) {
                      var c = new it(o - t / 2, l - t / 2, u - t / 2)
                      a.push(c),
                        r.push(new je(0, 0)),
                        a.push(c),
                        r.push(new je(1, 0)),
                        a.push(c),
                        r.push(new je(1, 1)),
                        a.push(c),
                        r.push(new je(0, 1)),
                        i.push(s + 0),
                        i.push(s + 1),
                        i.push(s + 2),
                        i.push(s + 0),
                        i.push(s + 2),
                        i.push(s + 3),
                        (s += 4)
                    }
                return (
                  n.setPositions($n.toFloat32Array(a)),
                  n.setUV0($n.toFloat32ArrayVec2(r)),
                  n.setIndices(new Uint16Array(i)),
                  n
                )
              },
            },
            {
              key: 'setWeather',
              value: function (e) {
                switch (e) {
                  case 'snow':
                    ;(this._targetOpacity = 0.25),
                      (this._targetColor = 0.9),
                      (this._targetSpeed = -1)
                    break
                  case 'ash':
                    ;(this._targetOpacity = 0.25),
                      (this._targetColor = 0.1),
                      (this._targetSpeed = -1)
                    break
                  case 'rain':
                    ;(this._targetOpacity = 0.75),
                      (this._targetColor = 0.4),
                      (this._targetSpeed = -4)
                    break
                  default:
                    ;(this._targetOpacity = 0),
                      (this._targetColor = 0.9),
                      (this._targetSpeed = -1)
                }
              },
            },
            {
              key: 'init',
              value: function (e) {
                var t = this,
                  n = e.addGroup('Snow', this.getMaterial())
                ;(this._opacityParam = n.addParamFloat('_Opacity', 0.25)),
                  (this._colorParam = n.addShaderParamFloat('_Color', 0.9)),
                  (this._speedParam = n.addParamFloat('_Speed', -1, -10, 0)),
                  n.addShaderParamFloat('_ParticleSize', 0.1),
                  (this._areaSize = 0.004)
                var i = n.addParamFloat(
                    '_SnowWindDirection',
                    0.5,
                    0,
                    2 * Math.PI
                  ),
                  a = n.addParamFloat('_SnowWindSpeed', 1, 0, 10),
                  r = function (e, n) {
                    var i = t._speedParam.getValue()
                    t._speed.setValues(
                      n * Math.sin(e) * Math.abs(i),
                      i,
                      n * Math.cos(e) * Math.abs(i)
                    ),
                      t._speed.multiplyScalar(t._areaSize)
                  }
                return (
                  this._speedParam.setChangeCallback(function () {
                    return r(i.getValue(), a.getValue())
                  }),
                  i.setChangeCallback(function () {
                    return r(i.getValue(), a.getValue())
                  }),
                  a.setChangeCallback(function () {
                    return r(i.getValue(), a.getValue())
                  }),
                  r(i.getValue(), a.getValue()),
                  n
                )
              },
            },
            {
              key: 'getMaterial',
              value: function () {
                return this._material
              },
            },
            {
              key: 'draw',
              value: function (t) {
                var n =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : null
                this._targetOpacity > this._opacityParam.getValue()
                  ? this._opacityParam.setValue(
                      Math.min(
                        this._targetOpacity,
                        this._opacityParam.getValue() + 0.25 / 60
                      )
                    )
                  : this._opacityParam.setValue(
                      Math.max(
                        this._targetOpacity,
                        this._opacityParam.getValue() - 0.25 / 60
                      )
                    ),
                  this._targetColor > this._colorParam.getValue()
                    ? this._colorParam.setValue(
                        Math.min(
                          this._targetColor,
                          this._colorParam.getValue() + 0.8 / 60
                        )
                      )
                    : this._colorParam.setValue(
                        Math.max(
                          this._targetColor,
                          this._colorParam.getValue() - 0.8 / 60
                        )
                      ),
                  this._targetOpacity > this._opacityParam.getValue()
                    ? this._opacityParam.setValue(
                        Math.min(
                          this._targetOpacity,
                          this._opacityParam.getValue() + 0.25 / 60
                        )
                      )
                    : this._opacityParam.setValue(
                        Math.max(
                          this._targetOpacity,
                          this._opacityParam.getValue() - 0.25 / 60
                        )
                      ),
                  this._targetSpeed > this._speedParam.getValue()
                    ? this._speedParam.setValue(
                        Math.min(
                          this._targetSpeed,
                          this._speedParam.getValue() + 0.1
                        )
                      )
                    : this._speedParam.setValue(
                        Math.max(
                          this._targetSpeed,
                          this._speedParam.getValue() - 0.1
                        )
                      )
                var i = this._opacityParam.getValue()
                if (!(i <= 0)) {
                  var a = this._camera
                  a.projection.setFOV(t.projection.getFOV()),
                    a.view.transform.setRotation(
                      t.view.transform.getRotation()
                    ),
                    this._targetPosition.copy(
                      t.view.transform.getWorldPosition().multiplyScalar(5e-4)
                    ),
                    n &&
                      (this._targetPosition.add(
                        new it(0, 0, -100).multiplyScalar(5e-4)
                      ),
                      this._targetPosition.add(
                        n.getWorldPosition().multiplyScalar(5e-4)
                      )),
                    this._firstFrame
                      ? (this._currentPosition.copy(this._targetPosition),
                        (this._firstFrame = !1))
                      : it.lerp(
                          this._currentPosition,
                          this._currentPosition,
                          this._targetPosition,
                          0.4
                        ),
                    a.view.transform.setPosition(this._currentPosition),
                    a.projection.setAspect(this._renderer.getAspect()),
                    this._material.setVector3('_OldSnowOffset', this._offset),
                    this._material.setMatrix(
                      '_OldViewProjection',
                      this._oldViewProjection
                    ),
                    this._material.setFloat(
                      '_ParticleAreaSize',
                      this._areaSize
                    ),
                    this._material.setVector3('_CamPos', a.getWorldPosition()),
                    this._material.setFloat(
                      '_Aspect',
                      this._renderer.getAspect()
                    ),
                    this._tmpVar.copy(this._speed),
                    this._tmpVar.multiplyScalar(
                      kt.getInstance().deltaTime / this._areaSize
                    ),
                    this._offset.add(this._tmpVar),
                    this._offset.setValues(
                      this._offset.x % 1e3,
                      this._offset.y % 1e3,
                      this._offset.z % 1e3
                    ),
                    this._cubeOffset.copy(a.view.transform.getWorldForward()),
                    this._cubeOffset.multiplyScalar(
                      -0.5 * e.PARTICLES_SQRT3 * this._areaSize
                    ),
                    this._cubeOffset.add(a.getWorldPosition()),
                    this._material.setVector3('_CubeOffset', this._cubeOffset),
                    this._material.setVector3('_SnowOffset', this._offset),
                    this._material.setFloat('_Particles', e.PARTICLES_SQRT3),
                    this._material.setFloat('_OldTimeFull', this._time),
                    this._material.setFloat(
                      '_TimeFull',
                      kt.getInstance().time % 1e3
                    ),
                    this._material.setFloat('_Opacity', i),
                    He.b.copy(this._oldViewProjection, a.getViewProjection()),
                    (this._time = kt.getInstance().time % 1e3),
                    this._material.setMatrix(
                      '_ViewProjection',
                      a.getViewProjection()
                    ),
                    this._renderer.draw(this._mesh, this._material)
                }
              },
            },
          ]),
          e
        )
      })()
    zn.PARTICLES_SQRT3 = 25
    var Gn = (function () {
        function e(t, n, i, a) {
          se()(this, e),
            (this.active = !0),
            (this.opacity = 0),
            (this._model = new Wt()),
            (this._renderer = t),
            (this.locationId = i),
            (this.characterIds = n),
            (this._colorData = this.createColorArray(this.characterIds)),
            this._model.setPosition(a)
        }
        return (
          le()(
            e,
            [
              {
                key: 'createColorArray',
                value: function (e) {
                  for (
                    var t = [
                        [224, 218, 206],
                        [200, 175, 118],
                        [103, 174, 155],
                        [170, 130, 210],
                      ],
                      n = 0;
                    n < t.length;
                    n++
                  )
                    for (var i = 0; i < 3; i++)
                      (t[n][i] /= 255), (t[n][i] *= t[n][i])
                  var a = []
                  e.indexOf(me.a.C0) >= 0 && a.push(t[0]),
                    e.indexOf(me.a.C1) >= 0 && a.push(t[1]),
                    e.indexOf(me.a.C2) >= 0 && a.push(t[2]),
                    e.indexOf(me.a.C3) >= 0 && a.push(t[3]),
                    a.length > 2 &&
                      console.warn(
                        'CharactersOnMap: this effect can only use 2 colors',
                        a
                      )
                  for (var r = new Float32Array(6), s = 0, o = 0; o < 2; o++)
                    for (var l = a[o % a.length], u = 0; u < 3; u++)
                      r[s++] = l[u]
                  return r
                },
              },
              {
                key: 'isEqual',
                value: function (e, t) {
                  return (
                    t == this.locationId &&
                    JSON.stringify(this.characterIds.sort()) ==
                      JSON.stringify(e.sort())
                  )
                },
              },
              {
                key: 'update',
                value: function () {
                  return (
                    (this.opacity = It.clamp01(
                      this.opacity + (this.active ? 1 / 30 : -1 / 30)
                    )),
                    this.opacity > 0
                  )
                },
              },
              {
                key: 'draw',
                value: function (t, n) {
                  var i = this.opacity * n
                  if (!(i <= 0)) {
                    var a = e._material
                    a.setMatrix('_ViewProjection', t.getViewProjection()),
                      a.setMatrix('_Model', this._model.getWorldMatrix()),
                      a.setFloat('_Opacity', i),
                      a.setFloat('_Time', kt.getInstance().time),
                      a.setFloat(
                        '_Scale',
                        it.distance(
                          t.getWorldPosition(),
                          this._model.getPosition()
                        )
                      ),
                      a.setVector3Array('_Colors', this._colorData),
                      this._renderer.draw(e._mesh, a)
                  }
                },
              },
            ],
            [
              {
                key: 'load',
                value: function (t, n) {
                  e._material ||
                    ((e._material = new vt(t, n, 'charonmap')),
                    e._material.setPreMultipliedAlphaBlending(),
                    e._material.setCullingDisabled(),
                    (e._material.depthTest = !1),
                    (e._mesh = new nn(t, 1, 1)))
                },
              },
              {
                key: 'init',
                value: function (t) {
                  var n = t.addGroup('charactersOnMap', e._material)
                  n.addShaderParamFloat('_Size', 0.14),
                    n.addShaderParamInt('_Frequency', 4),
                    n.addShaderParamFloat('_TemporalFrequency', 0.25),
                    n.addShaderParamFloat('_Amplitude', 0.6),
                    n.addShaderParamFloat('_Bias', 0.4),
                    n.addShaderParamFloat('_Softness', 0.1),
                    n.addShaderParamFloat('_InnerRingRadius', 0.15),
                    n.addShaderParamFloat('_InnerRingThickness', 0.05, 0, 0.2),
                    n.addShaderParamFloat('_Brightness', 0.85),
                    n.addShaderParamFloat('_WhitePoint', 3)
                },
              },
            ]
          ),
          e
        )
      })(),
      Hn = (function () {
        function e(t, n, i, a) {
          se()(this, e),
            (this.opacity = 0),
            (this.active = !1),
            (this._model = new Wt()),
            (this._renderer = t),
            (this.eventId = i),
            this._model.setPosition(a)
        }
        return (
          le()(
            e,
            [
              { key: 'init', value: function (e) {} },
              {
                key: 'useGrabPass',
                value: function () {
                  return !1
                },
              },
              {
                key: 'update',
                value: function () {
                  return (
                    (this.opacity = It.clamp01(
                      this.opacity + (this.active ? 1 / 30 : -1 / 30)
                    )),
                    this.isActive()
                  )
                },
              },
              {
                key: 'isActive',
                value: function () {
                  return this.opacity > 0
                },
              },
              {
                key: 'draw',
                value: function (e, t, n) {
                  this.opacity
                  this.opacity
                },
              },
            ],
            [
              {
                key: 'isTakeOverEvent',
                value: function (t) {
                  return t in e.takeovers
                },
              },
            ]
          ),
          e
        )
      })()
    Hn.takeovers = {
      E1: { title: 'Conjunction of the Spheres' },
      E37: { title: 'Slaughter of Cintra' },
      E40: { title: "Ciri's prophecy" },
      E41: { title: 'Battle of Sodden Hill' },
      E44: { title: 'End of time' },
    }
    var qn = (function () {
        function e(t, n, i) {
          se()(this, e),
            (this._transform = new Wt()),
            (this._renderer = t),
            (this._noiseTexture = an.getPerlinTex(t, n)),
            (this._material = new vt(t, n, 'clouds')),
            this._material.setPreMultipliedAlphaBlending(),
            (this._material.depthTest = !1),
            this._material.setCullingDisabled(),
            (this._mesh = new nn(t, 1, 1)),
            (this._clearPosition = i),
            this._transform.setScaleScalar(1e3),
            this._transform.setPositionValues(0, 1, 0)
        }
        return (
          le()(e, [
            {
              key: 'init',
              value: function (e) {
                var t = e.addGroup('clouds', this._material)
                t.addShaderParamFloat('_Opacity', 0.33),
                  t.addShaderParamFloat('_Wind', 0.03),
                  t.addShaderParamFloat('_Transition', 0.22),
                  t.addShaderParamFloat('_ClearRadius', 320),
                  t.addShaderParamFloat('_ClearAmount', 0.2),
                  t.addShaderParamFloat('_Frequency', 4),
                  t.addShaderParamFloat('_DetailFrequency', 64),
                  t.addShaderParamFloat('_Detail', 0.16),
                  t.addShaderParamFloat('_TemporalFrequency', 0.01, 0, 0.1),
                  this._material.setTexture('_Noise', this._noiseTexture),
                  this._material.setVector3(
                    '_ClearPosition',
                    this._clearPosition
                  )
              },
            },
            {
              key: 'draw',
              value: function (e, t) {
                t > 0 &&
                  (this._material.setMatrix(
                    '_ViewProjection',
                    e.getViewProjection()
                  ),
                  this._material.setMatrix(
                    '_Model',
                    this._transform.getWorldMatrix()
                  ),
                  this._material.setFloat('_Time', kt.getInstance().time),
                  this._material.setFloat('_MultiplyOpacity', t),
                  this._renderer.draw(this._mesh, this._material))
              },
            },
          ]),
          e
        )
      })(),
      jn = (function (e) {
        function t(e, n) {
          var i
          return (
            se()(this, t),
            ((i = ce()(this, he()(t).call(this)))._rainTime = 0),
            (i._isActive = !1),
            (i._opacity = 0),
            (i._renderer = e),
            (i._material = new vt(e, n, 'rainSplashes')),
            i._material.setPreMultipliedAlphaBlending(),
            (i._material.depthTest = !1),
            (i._mesh = i.createQuads(2048)),
            (i._noiseTexture = an.getPerlinTex(e, n)),
            i
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'init',
              value: function (e) {
                var t = e.addGroup('rainSplashes', this._material)
                t.addShaderParamFloat('_PointSize', 7, 0, 16),
                  (this._temporalFrequency = t.addParamFloat(
                    '_TemporalFrequency',
                    0.15
                  )),
                  t.addShaderParamFloat('_Opacity', 0.7),
                  t.addShaderParamFloat('_Hardness', 0.6, 0, 0.95),
                  t.addShaderParamFloat('_NoiseAmount', 1, 0, 2),
                  t.addShaderParamFloat('_NoiseFrequency', 0.5),
                  t.addShaderParamFloat('_Spec', 0.2, 0, 6),
                  t.addShaderParamFloat('_SpecPower', 5),
                  this._material.setVector3(
                    '_Color',
                    new it(56, 42, 29).multiplyScalar(1 / 255)
                  ),
                  this._material.setVector2('_Spread', vn.SIZE),
                  this._material.setTexture('_Noise', this._noiseTexture)
              },
            },
            {
              key: 'createQuads',
              value: function (e) {
                for (
                  var t = 4 * e,
                    n = new Float32Array(4 * t),
                    i = new Float32Array(4 * t),
                    a = new Uint16Array(2 * e * 3),
                    r = 0,
                    s = 0,
                    o = 0,
                    l = new it(),
                    u = 0,
                    c = 0;
                  c < e;
                  c++
                ) {
                  l.randomizeSphere().normalize()
                  for (
                    var d = Math.random(),
                      h = Math.random(),
                      f = Math.random(),
                      p = Math.random(),
                      v = Math.random(),
                      m = Math.random(),
                      _ = 0;
                    _ < 2;
                    _++
                  )
                    for (var g = 0; g < 2; g++)
                      (n[r++] = 2 * _ - 1),
                        (n[r++] = 2 * g - 1),
                        (n[r++] = d),
                        (n[r++] = h),
                        (i[o++] = f),
                        (i[o++] = p),
                        (i[o++] = v),
                        (i[o++] = m)
                  ;(a[s++] = u + 0),
                    (a[s++] = u + 1),
                    (a[s++] = u + 2),
                    (a[s++] = u + 2),
                    (a[s++] = u + 1),
                    (a[s++] = u + 3),
                    (u += 4)
                }
                var y = new At(this._renderer)
                return (
                  y.setAttribute('aPos', 4, n),
                  y.setAttribute('aRandom', 4, i),
                  y.setIndices(a),
                  y
                )
              },
            },
            {
              key: 'setActive',
              value: function (e) {
                this._isActive = e
              },
            },
            {
              key: 'draw',
              value: function (e, t) {
                this._opacity = It.clamp01(
                  this._opacity + (this._isActive ? 1 / 60 : -1 / 60)
                )
                var n = this._opacity * t
                n <= 0 ||
                  (this._material.setMatrix(
                    '_ViewProjection',
                    e.getViewProjection()
                  ),
                  (this._rainTime +=
                    kt.getInstance().deltaTime *
                    this._temporalFrequency.getValue()),
                  this._material.setFloat('_RainTime', this._rainTime),
                  this._material.setFloat('_MultiplyOpacity', n),
                  this._material.setVector3('_CamPos', e.getWorldPosition()),
                  this._renderer.draw(this._mesh, this._material))
              },
            },
            {
              key: 'material',
              get: function () {
                return this._material
              },
            },
          ]),
          t
        )
      })(Ge),
      Wn = function e(t, n) {
        se()(this, e),
          (this._position = t.clone()),
          (this._bounds = n.clone()),
          (this._progressStart = Math.random()),
          (this._size = It.lerp(25, 50, Math.random()))
      },
      Xn = (function (e) {
        function t(e, n, i, a, r) {
          var s
          se()(this, t),
            ((s = ce()(this, he()(t).call(this, e, n, i, a)))._monsters = []),
            (s._introProgress = 0),
            (s._monsterTexture = new tn(
              e,
              n,
              an.getURL('conjunctionOfTheSpheres2k', !0),
              !0,
              !0,
              !1
            )),
            (s._noiseTexture = an.getPerlinTex(e, n)),
            (s._material = new vt(e, n, 'conjunctionOfTheSpheres')),
            s._material.setPreMultipliedAlphaBlending(),
            (s._material.depthTest = !1),
            s._material.setCullingDisabled()
          return (
            ['M1', 'M2', 'M4', 'M5', 'M6', 'M11', 'M8', 'M10'].forEach(
              function (e, t) {
                if (r.hasLocation(e)) {
                  var n = r.getLocation(e)
                  s._monsters.push(
                    new Wn(n.transform.getWorldPosition(), s.getBounds(t))
                  )
                } else console.log('no location for:', e)
              }
            ),
            (s._mesh = new nn(e, 1, 1)),
            s._model.setPositionValues(0, 0, 0),
            (s._clouds = new qn(e, n, a)),
            (s._rainSplashes = new jn(e, n)),
            s
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'getBounds',
              value: function (e) {
                var t = (e % 4) / 4,
                  n = Math.floor(e / 4) / 2
                return new Je(t, 1 - n - 0.5, t + 0.25, 1 - n)
              },
            },
            {
              key: 'init',
              value: function (e) {
                var t = this,
                  n = e.addGroup('conjunctionOfTheSpheres', this._material)
                ;(this._introDuration = n.addParamFloat('_IntroDuration', 5)),
                  n.addButton('reset', function () {
                    return (t._introProgress = 0)
                  }),
                  n.addShaderParamFloat('_FallDuration', 0.45),
                  n.addShaderParamFloat('_FallHeight', 250),
                  n.addShaderParamFloat('_InkAmp', 0.05, 0, 0.2),
                  n.addShaderParamFloat('_InkNoiseFrequency', 20, 0, 32),
                  n.addShaderParamFloat('_RingThicknessOuter', 0.022, 0, 0.1),
                  n.addShaderParamFloat('_CenterFalloff', 0.5),
                  n.addShaderParamFloat('_Ambient', 0.1),
                  n.addShaderParamFloat('_EdgeWidthMax', 0.2),
                  n.addShaderParamFloat('_EdgeWidthMin', 0.015, 0, 0.1),
                  n.addShaderParamFloat('_CircleThickness', 0.013, 0, 0.1),
                  n.addShaderParamFloat('_CirclesBrightness', 0.7),
                  n.addShaderParamFloat('_NoiseAmount', 1),
                  n.addShaderParamFloat('_FillAmount', 0.5),
                  n.addShaderParamFloat('_HighlightRange', 0.1),
                  n.addShaderParamFloat('_HighlightOpacity', 1),
                  n.addShaderParamFloat('_HighlightTemporalFrequency', 1, 0, 2),
                  n.addShaderParamFloat('_HighlightNoise', 1, 0, 2),
                  n.addShaderParamFloat('_HighlightNoiseFrequency', 2),
                  this._material.setTexture('_Monster', this._monsterTexture),
                  this._material.setTexture('_Noise', this._noiseTexture),
                  this._material.setVector3(
                    '_Color',
                    new it(158, 145, 126).multiplyScalar(1 / 255)
                  ),
                  this._clouds.init(e),
                  this._rainSplashes.init(e)
              },
            },
            {
              key: 'update',
              value: function () {
                var e = this.isActive()
                if (
                  (ge()(he()(t.prototype), 'update', this).call(this),
                  this.isActive() && !e)
                ) {
                  this._introProgress = 0
                  for (var n = 0; n < this._monsters.length; n++)
                    this._monsters[n]._progressStart = Math.random()
                }
                return this.isActive()
              },
            },
            {
              key: 'remap',
              value: function (e, t, n) {
                return (n - e) / (t - e)
              },
            },
            {
              key: 'draw',
              value: function (e, t, n) {
                if (
                  ((this._introProgress +=
                    kt.getInstance().deltaTime /
                    this._introDuration.getValue()),
                  !(this.opacity * t <= 0))
                ) {
                  var i = this._material
                  i.setMatrix('_ViewProjection', e.getViewProjection()),
                    i.setMatrix('_Model', this._model.getWorldMatrix()),
                    i.setFloat('_Time', kt.getInstance().time)
                  for (var a = 0; a < this._monsters.length; a++) {
                    var r = this._monsters[a]
                    this._material.setVector4('_Bounds', r._bounds),
                      this._material.setVector3('_Position', r._position),
                      this._material.setFloat('_Size', r._size),
                      this._material.setFloat('_Index', a)
                    var s = this.remap(
                      r._progressStart,
                      r._progressStart + 1,
                      this._introProgress
                    )
                    s > 1 &&
                      (r._progressStart = this._introProgress + Math.random()),
                      this._material.setFloat('_Progress', It.step(0, 0.2, s))
                    var o = this.opacity * t * It.step(0.8, 0.6, s)
                    this._material.setFloat('_Opacity', o),
                      s < this._introProgress &&
                        o > 0 &&
                        this._renderer.draw(this._mesh, i)
                  }
                  this._rainSplashes.draw(e, this.opacity * t),
                    this._clouds.draw(e, this.opacity * t)
                }
              },
            },
            {
              key: 'useGrabPass',
              value: function () {
                return !1
              },
            },
          ]),
          t
        )
      })(Hn),
      Yn = (function () {
        function e(t, n) {
          se()(this, e),
            (this._initialized = !1),
            (this._playRequested = !1),
            (this._updatePossible = !1),
            (this._paused = !0),
            (this._renderer = t),
            (this._videoElement = this.initElement(n))
        }
        return (
          le()(e, [
            {
              key: 'initElement',
              value: function (e) {
                var t = this,
                  n = document.createElement('video')
                return (
                  n.setAttribute('playsinline', 'true'),
                  n.setAttribute('webkit-playsinline', 'true'),
                  n.setAttribute('autoplay', 'false'),
                  (n.preload = 'auto'),
                  (n.loop = !1),
                  (n.muted = !0),
                  (n.style.display = 'none'),
                  n.addEventListener(
                    'canplay',
                    function () {
                      return t.initVideo()
                    },
                    !0
                  ),
                  (n.src = e),
                  n.load(),
                  n.readyState > 3 && this.initVideo(),
                  document.body.appendChild(n),
                  n
                )
              },
            },
            {
              key: 'initVideo',
              value: function () {
                if (!this._initialized) {
                  var e = this._videoElement
                  ;(e.width = e.videoWidth),
                    (e.height = e.videoHeight),
                    (this._initialized = !0)
                }
              },
            },
            {
              key: 'play',
              value: function () {
                var e =
                    !(arguments.length > 0 && void 0 !== arguments[0]) ||
                    arguments[0],
                  t = this._videoElement
                ;(t.loop = e),
                  (t.currentTime = 0),
                  (this._playRequested = !0),
                  (this._updatePossible = !1),
                  (this._paused = !1)
              },
            },
            {
              key: 'pause',
              value: function () {
                this._paused ||
                  (this._videoElement.pause(), (this._paused = !0))
              },
            },
            {
              key: 'update',
              value: function (e) {
                var t = this
                if (!this._initialized) return !1
                var n = this._videoElement
                return (
                  this._playRequested &&
                    ((this._playRequested = !1),
                    n.play().then(function () {
                      t._updatePossible = !0
                    })),
                  !(!this._updatePossible || this._paused) &&
                    (e.setImage(n), !0)
                )
              },
            },
            {
              key: 'destruct',
              value: function () {
                document.body.removeChild(this._videoElement),
                  (this._videoElement = null)
              },
            },
          ]),
          e
        )
      })(),
      Zn = (function (e) {
        function t(e, n, i, a, r, s) {
          var o
          return (
            se()(this, t),
            ((o = ce()(this, he()(t).call(this, e, n, i, a)))._frame = 0),
            (o._texture = new en(o._renderer)),
            (o._video = new Yn(
              o._renderer,
              an.getStaticDir() + 'webgl/data/video/' + r
            )),
            (o._materialVideo = new vt(o._renderer, n, 'takeovervideo')),
            o._materialVideo.setPreMultipliedAlphaBlending(),
            (o._materialVideo.depthTest = !1),
            (o._materialBackground = new vt(o._renderer, n, s)),
            o._materialBackground.setPreMultipliedAlphaBlending(),
            (o._materialBackground.depthTest = !1),
            (o._mesh = new nn(o._renderer, 1, 1)),
            (o._noiseTexture = an.getPerlinTex(e, n)),
            (o._inktTexture = an.getInktTex(e, n)),
            o
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'update',
              value: function () {
                var e = this.isActive()
                return (
                  ge()(he()(t.prototype), 'update', this).call(this),
                  this.isActive() && !e && this._video.play(!0),
                  this.isActive() || this._video.pause(),
                  this.isActive()
                )
              },
            },
            {
              key: 'isActive',
              value: function () {
                return this.opacity > 0
              },
            },
            {
              key: 'draw',
              value: function (e, n, i) {
                var a = this.opacity * n
                if (a > 0) {
                  var r = this._materialBackground
                  r.setMatrix('_ViewProjection', e.getViewProjection()),
                    r.setMatrix('_Model', this._model.getWorldMatrix()),
                    r.setFloat('_Opacity', a),
                    r.setTexture('_GrabPass', i),
                    r.setVector2('_GrabPassSize', i.getSize()),
                    r.setFloat('_Time', kt.getInstance().time),
                    r.setTexture('_Noise', this._noiseTexture),
                    this._renderer.draw(this._mesh, r),
                    this._video.update(this._texture)
                      ? (this._materialVideo.setFloat('_Opacity', a),
                        this._materialVideo.setTexture(
                          'uTexture',
                          this._texture
                        ),
                        this._materialVideo.setFloat('_Frame', this._frame),
                        this._materialVideo.setTexture(
                          '_Inkt',
                          this._inktTexture
                        ),
                        this._materialVideo.setMatrix(
                          '_ViewProjection',
                          e.getViewProjection()
                        ),
                        this._materialVideo.setMatrix(
                          '_Model',
                          this._model.getWorldMatrix()
                        ),
                        this._renderer.draw(this._mesh, this._materialVideo),
                        this._frame++)
                      : (this._frame = t._inkStartFrame)
                } else this._frame = t._inkStartFrame
              },
            },
            {
              key: 'useGrabPass',
              value: function () {
                return !0
              },
            },
          ]),
          t
        )
      })(Hn)
    Zn._inkStartFrame = 20
    var Kn = (function (e) {
        function t(e, n, i, a) {
          return (
            se()(this, t),
            ce()(
              this,
              he()(t).call(
                this,
                e,
                n,
                i,
                a,
                'takeover_slaughter_cintra.mp4',
                'takeoverheat'
              )
            )
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'init',
              value: function (e) {
                var t = e.addGroup('SlaughterCintra', [
                  this._materialVideo,
                  this._materialBackground,
                ])
                t.addShaderParamFloat('_VideoScale', 62),
                  t.addShaderParamFloat('_Additive', 1),
                  t.addShaderParamFloat('_XOffset', -0.01),
                  t.addShaderParamFloat('_YOffset', 0.51),
                  t.addShaderParamFloat('_XOffsetHeat', 0),
                  t.addShaderParamFloat('_YOffsetHeat', 0),
                  t.addShaderParamFloat('_LightRadius', 160),
                  t.addShaderParamFloat('_TintRadius', 0.68),
                  t.addShaderParamFloat('_Vignette', 0.33)
              },
            },
          ]),
          t
        )
      })(Zn),
      Jn = (function (e) {
        function t(e, n, i, a) {
          return (
            se()(this, t),
            ce()(
              this,
              he()(t).call(
                this,
                e,
                n,
                i,
                a,
                'takeover_ciris_prophecy.mp4',
                'takeoveriris'
              )
            )
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'init',
              value: function (e) {
                var t = e.addGroup('CirisProphecy', [
                  this._materialVideo,
                  this._materialBackground,
                ])
                t.addShaderParamFloat('_VideoScale', 50),
                  t.addShaderParamFloat('_Additive', 0.4),
                  t.addShaderParamFloat('_XOffset', 0),
                  t.addShaderParamFloat('_YOffset', 0),
                  t.addShaderParamFloat('_XOffsetHeat', 0),
                  t.addShaderParamFloat('_YOffsetHeat', 0),
                  t.addShaderParamFloat('_LightRadius', 200),
                  t.addShaderParamFloat('_Vignette', 0.33)
              },
            },
          ]),
          t
        )
      })(Zn),
      Qn = (function (e) {
        function t(e, n, i, a) {
          return (
            se()(this, t),
            ce()(
              this,
              he()(t).call(
                this,
                e,
                n,
                i,
                a,
                'takeover_battle_sodden_hill.mp4',
                'takeoverheat'
              )
            )
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'init',
              value: function (e) {
                var t = e.addGroup('SoddenHill', [
                  this._materialVideo,
                  this._materialBackground,
                ])
                t.addShaderParamFloat('_VideoScale', 37),
                  t.addShaderParamFloat('_Additive', 1),
                  t.addShaderParamFloat('_XOffset', -0),
                  t.addShaderParamFloat('_YOffset', 0.59),
                  t.addShaderParamFloat('_XOffsetHeat', 0),
                  t.addShaderParamFloat('_YOffsetHeat', 0),
                  t.addShaderParamFloat('_LightRadius', 160),
                  t.addShaderParamFloat('_TintRadius', 0.68),
                  t.addShaderParamFloat('_Vignette', 0.33)
              },
            },
          ]),
          t
        )
      })(Zn),
      ei = n(959),
      ti = function e(t, n, i) {
        se()(this, e), (this.id = t), (this.transform = n), (this.clickable = i)
      },
      ni = (function () {
        function e() {
          se()(this, e),
            (this._transforms = {}),
            (this._locations = {}),
            (this._clickable = []),
            this.parseData(ei)
        }
        return (
          le()(e, [
            {
              key: 'parseData',
              value: function (e) {
                for (var t = [], n = 0; n < e.transforms.length; n++) {
                  var i = e.transforms[n],
                    a = new Wt()
                  a.setPositionRotationScale(
                    new it(-i.position[0], i.position[1], -i.position[2]),
                    new qt(
                      i.rotation[0],
                      i.rotation[1],
                      i.rotation[2],
                      i.rotation[3]
                    ),
                    new it(i.scale[0], i.scale[1], i.scale[2])
                  ),
                    (a.name = i.name),
                    (a.id = i.id),
                    this._transforms[i.parentId] &&
                      a.setParent(this._transforms[i.parentId]),
                    (this._transforms[i.id] = a),
                    t.push(a)
                }
                for (var r = 0; r < e.locations.length; r++) {
                  var s = e.locations[r],
                    o = new ti(
                      s.id,
                      this._transforms[s.transformID],
                      s.clickable
                    )
                  ;(this._locations[s.id] = o),
                    o.clickable && this._clickable.push(o)
                }
              },
            },
            {
              key: 'hasLocation',
              value: function (e) {
                return e in this._locations
              },
            },
            {
              key: 'getLocation',
              value: function (e) {
                return this._locations[e]
              },
            },
          ]),
          e
        )
      })(),
      ii = (function () {
        function e(t, n) {
          var i =
              arguments.length > 2 && void 0 !== arguments[2]
                ? arguments[2]
                : 1,
            a = arguments.length > 3 ? arguments[3] : void 0
          se()(this, e), (this._renderer = t), (this._opacity = i)
          var r =
            an.getStaticDir() +
            'image/preloader-background' +
            (a ? '' : '-desktop') +
            '.jpg'
          ;(this._texture = new tn(this._renderer, n, r)),
            (this._inkVideoTexture = new en(this._renderer)),
            (this._inkVideo = new Yn(
              this._renderer,
              an.getStaticDir() + 'webgl/data/video/mask_ink_transition_512.mp4'
            )),
            (this._material = new vt(this._renderer, n, 'preloader')),
            this._material.setPreMultipliedAlphaBlending(),
            (this._material.depthTest = !1)
        }
        return (
          le()(e, [
            {
              key: 'update',
              value: function (e) {
                e || 1 != this._opacity || this._inkVideo.play(!1),
                  (this._opacity = It.clamp01(
                    this._opacity + (e ? 1 : -1) / 120
                  ))
              },
            },
            {
              key: 'draw',
              value: function () {
                this._opacity > 0 &&
                  (this._material.setFloat(
                    '_Aspect',
                    this._renderer.getAspect()
                  ),
                  this._material.setFloat(
                    '_AspectImage',
                    this._texture.width / this._texture.height
                  ),
                  this._inkVideo.update(this._inkVideoTexture),
                  this._material.setTexture('_InkVideo', this._inkVideoTexture),
                  this._renderer.blit(this._texture, null, this._material))
              },
            },
          ]),
          e
        )
      })(),
      ai = n(76),
      ri = n.n(ai),
      si = (function (e) {
        function t(e, n, i, a) {
          var r
          return (
            se()(this, t),
            ((r = ce()(this, he()(t).call(this, e, n, i, a)))._texture = new en(
              r._renderer
            )),
            (r._perlin = an.getPerlinTex(r._renderer, n)),
            (r._background = new tn(
              e,
              n,
              an.getURL('background', !1),
              !0,
              !0,
              !1
            )),
            (r._text = new tn(
              e,
              n,
              an.getURL('endOfTimeText', !0),
              !0,
              !0,
              !0
            )),
            (r._video = new Yn(
              r._renderer,
              an.getStaticDir() + 'webgl/data/video/takeover_end_of_time.mp4'
            )),
            (r._material = new vt(r._renderer, n, 'endoftime')),
            r._material.setPreMultipliedAlphaBlending(),
            (r._material.depthTest = !1),
            (r._black = new en(r._renderer)),
            r._black.setData(new Uint8Array([0, 0, 0, 0]), 1, 1),
            (r._inkVideoTexture = new en(r._renderer)),
            (r._inkVideo = new Yn(
              r._renderer,
              an.getStaticDir() + 'webgl/data/video/mask_ink_transition_512.mp4'
            )),
            r
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'init',
              value: function (e) {
                var t = e.addGroup('endOfTime', this._material)
                t.addShaderParamFloat('_TextScale', ri.a.mobile ? 0.5 : 0.7),
                  t.addShaderParamFloat('_TextOpacity', 2),
                  t.addShaderParamFloat('_Gradient', 0.56),
                  t.addShaderParamFloat('_Noise', 0.7),
                  this._material.setTexture('_Text', this._text),
                  this._material.setFloat(
                    '_ImageAspect',
                    this._text.width / this._text.height
                  ),
                  this._material.setVector3(
                    '_Color',
                    new it(158, 145, 126).multiplyScalar(1 / 255)
                  ),
                  this._material.setTexture('_Perlin', this._perlin),
                  this._material.setTexture('_Background', this._background),
                  this._material.setFloat(
                    '_BackgroundAspect',
                    this._background.width / this._background.height
                  )
              },
            },
            {
              key: 'update',
              value: function () {
                var e = this.isActive()
                return (
                  this.active || 1 != this.opacity || this._inkVideo.play(!1),
                  (this.opacity = It.clamp01(
                    this.opacity + (this.active ? 1 / 30 : -1 / 128)
                  )),
                  this.isActive() && !e && this._video.play(!1),
                  this.isActive() || this._video.pause(),
                  this.isActive()
                )
              },
            },
            {
              key: 'draw',
              value: function (e, t, n) {
                var i = this.opacity * t
                i > 0 &&
                  this._video.update(this._texture) &&
                  (this._material.setFloat(
                    '_Aspect',
                    this._renderer.getAspect()
                  ),
                  this._material.setFloat('_Opacity', i),
                  this._material.setFloat('_IsActive', this.active ? 1 : 0),
                  this._inkVideo.update(this._inkVideoTexture)
                    ? this._material.setTexture(
                        '_InkVideo',
                        this._inkVideoTexture
                      )
                    : this._material.setTexture('_InkVideo', this._black),
                  this._renderer.blit(this._texture, null, this._material))
              },
            },
          ]),
          t
        )
      })(Hn),
      oi = (function () {
        function e(t, n) {
          se()(this, e),
            (this._transform = new Wt()),
            (this._isActive = !1),
            (this._opacity = 0),
            (this._renderer = t),
            (this._material = new vt(t, n, 'fog')),
            this._material.setPreMultipliedAlphaBlending(),
            (this._material.depthTest = !1),
            this._material.setCullingDisabled(),
            (this._mesh = new nn(t, 1, 1)),
            (this._clearPosition = new it(0, 0, 0)),
            this._transform.setScaleScalar(1e3),
            this._transform.setPositionValues(0, 1, 0)
        }
        return (
          le()(e, [
            {
              key: 'init',
              value: function (e) {
                var t = e.addGroup('fog', this._material)
                t.addShaderParamFloat('_Opacity', 0.37),
                  t.addShaderParamFloat('_ClearRadius', 320),
                  t.addShaderParamFloat('_ClearAmount', 0.25),
                  t.addShaderParamFloat('_Frequency', 64),
                  t.addShaderParamFloat('_DetailFrequency', 6),
                  t.addShaderParamFloat('_Detail', 0.5),
                  t.addShaderParamFloat('_Contrast', 0.3),
                  t.addShaderParamFloat('_TemporalFrequency', 0.1, 0, 0.1),
                  t.addShaderParamFloat('_Twist', 0.75),
                  t.addShaderParamFloat('_Falloff', 0.55, 0.5, 1),
                  this._material.setVector3(
                    '_ClearPosition',
                    this._clearPosition
                  )
              },
            },
            {
              key: 'setActive',
              value: function (e) {
                this._isActive = e
              },
            },
            {
              key: 'draw',
              value: function (e, t) {
                this._opacity = It.clamp01(
                  this._opacity + (this._isActive ? 1 / 60 : -1 / 60)
                )
                var n = this._opacity * t
                n > 0 &&
                  (this._material.setMatrix(
                    '_ViewProjection',
                    e.getViewProjection()
                  ),
                  this._material.setMatrix(
                    '_Model',
                    this._transform.getWorldMatrix()
                  ),
                  this._material.setFloat('_Time', kt.getInstance().time),
                  this._material.setFloat('_MultiplyOpacity', n),
                  this._renderer.draw(this._mesh, this._material))
              },
            },
          ]),
          e
        )
      })(),
      li = n(960),
      ui = (function () {
        function e(t) {
          se()(this, e),
            (this._charactersOnMap = []),
            (this._takeoversOnMap = {}),
            (this._preloaderHided = !1),
            (this._uiVisible = !1),
            (this._requestId = 0),
            (this._initialized = !1),
            (this._eventDispatcher = t)
        }
        return (
          le()(
            e,
            [
              {
                key: 'setup',
                value: function (e, t, n) {
                  ;(this._canvasManager = new We(e, !0)),
                    this._canvasManager.setPixelRatio(
                      Math.min(
                        on.b ? 2 : 1,
                        this._canvasManager.getPixelRatio()
                      )
                    ),
                    (this._deviceStateTracker = t),
                    (this._uiVisible = n),
                    (Ye.ENABLED = n)
                },
              },
              {
                key: 'load',
                value: function (t) {
                  var i = this,
                    a =
                      this._deviceStateTracker.currentDeviceState.state <
                      V.a.SMALL
                  ;(this._renderer = new Pt(
                    t,
                    this._canvasManager.getCanvas(),
                    n(961),
                    !1
                  )),
                    (this._locationManager = new ni()),
                    (this._transitionManager = new cn(
                      this._eventDispatcher,
                      this._locationManager
                    )),
                    (this._cameraController = new gn(
                      this._renderer,
                      this._eventDispatcher,
                      this._transitionManager
                    )),
                    (this._preloader = new ii(
                      this._renderer,
                      t,
                      this._uiVisible ? 0 : 1,
                      a
                    )),
                    (this._monsterHotspots = new fn(
                      this._renderer,
                      t,
                      this._locationManager
                    )),
                    (this._rainSplashes = new jn(this._renderer, t)),
                    (this._fog = new oi(this._renderer, t)),
                    Gn.load(this._renderer, t),
                    (this._renderTarget = new Mn(this._renderer)),
                    (this._grabPass = new Mn(this._renderer, !1)),
                    (this._postEffectStack = new Ln(
                      this._renderer,
                      [
                        new Dn(this._renderer, {
                          reduction: 0.65,
                          boost: 1,
                          color: [44 / 255, 33 / 255, 21 / 255],
                        }),
                        new Vn(this._renderer, { amount: 5 }),
                      ],
                      !0
                    )),
                    (this._background = new yn(this._renderer, t)),
                    (this._map = new vn(
                      this._renderer,
                      t,
                      this._locationManager
                    )),
                    Rn.setup(this._renderer, t),
                    (this._snow = new zn(this._renderer, t)),
                    Object.keys(Hn.takeovers).forEach(function (n) {
                      var a = i._locationManager
                        .getLocation(n)
                        .transform.getWorldPosition()
                      i._takeoversOnMap[n] = e.createMapTakeOver(
                        n,
                        i._renderer,
                        t,
                        a,
                        i._locationManager
                      )
                    }),
                    this._eventDispatcher.addEventListener(
                      ln.a.types.ON_HOTSPOT_CLICK,
                      function (e) {
                        var t = e.data
                        i._locationManager.hasLocation(t.hotspotId) &&
                          i.showLayerAnimation(
                            t.hotspotId,
                            i._locationManager
                              .getLocation(t.hotspotId)
                              .transform.getWorldPosition()
                          )
                      }
                    ),
                    this._uiVisible && (this._datGui = new zt(t))
                },
              },
              {
                key: 'init',
                value: function () {
                  var e = this
                  if (!this._initialized) {
                    this._initialized = !0
                    var t = new Vt()
                    t.init('controls'),
                      this._cameraController.init(t),
                      this._map.init(t, this._background),
                      Gn.init(t),
                      Rn.init(t, this._background),
                      this._snow.init(t),
                      this._rainSplashes.init(t),
                      this._fog.init(t),
                      Object.keys(Hn.takeovers).forEach(function (n) {
                        e._takeoversOnMap[n].init(t)
                      }),
                      this._postEffectStack.init(t),
                      this._datGui && this._datGui.init(t),
                      this.update()
                  }
                },
              },
              {
                key: 'setTimelineBarElement',
                value: function (e) {
                  this._timelineBarElement = e
                },
              },
              {
                key: 'getCamera',
                value: function () {
                  return this._cameraController
                },
              },
              {
                key: 'update',
                value: function () {
                  var e = this
                  this._requestId &&
                    window.cancelAnimationFrame(this._requestId),
                    (this._requestId = window.requestAnimationFrame(
                      function () {
                        return e.update()
                      }
                    )),
                    kt.getInstance().updateManual(),
                    this._renderer.getMouseListener().updateManual(),
                    this._renderTarget.bind()
                  var t = this._canvasManager.getCanvas().height
                  this._timelineBarElement &&
                    ((t = Math.min(
                      (this._timelineBarElement.getBoundingClientRect().top *
                        this._canvasManager.getPixelRatio()) |
                        0,
                      this._canvasManager.getCanvas().height
                    )),
                    this._renderer.setViewPort(
                      0,
                      this._canvasManager.getCanvas().height - t,
                      this._canvasManager.getCanvas().width,
                      t
                    )),
                    this._transitionManager.update(
                      this._cameraController,
                      this._layerTest ? this._layerTest.id : 'none'
                    ),
                    this._transitionManager.updateCamera(
                      this._cameraController,
                      this._map
                    ),
                    (this._charactersOnMap = this._charactersOnMap.filter(
                      function (e) {
                        return e.update()
                      }
                    ))
                  var n = this._map.update(
                    this._cameraController,
                    this._transitionManager,
                    this._eventDispatcher,
                    this._canvasManager.getPixelRatio(),
                    this._transitionManager.getMapAmount()
                  )
                  this._layerTest &&
                    this._layerTest.draw(
                      this._cameraController,
                      this._transitionManager.getLayerAmount()
                    ),
                    this._map.draw(
                      this._cameraController,
                      this._transitionManager.getMapAmount()
                    )
                  var i = !1
                  Object.keys(Hn.takeovers).forEach(function (t) {
                    e._takeoversOnMap[t].isActive() && (i = !0)
                  }),
                    (n =
                      n ||
                      this._monsterHotspots.update(
                        this._cameraController,
                        this._transitionManager,
                        this._eventDispatcher,
                        this._canvasManager.getPixelRatio(),
                        i
                      )),
                    this._monsterHotspots.draw(
                      this._cameraController,
                      this._transitionManager.getMapAmount(),
                      i
                    ),
                    this._rainSplashes.draw(
                      this._cameraController,
                      this._transitionManager.getMapAmount()
                    ),
                    this._fog.draw(
                      this._cameraController,
                      this._transitionManager.getMapAmount()
                    )
                  var a = !1
                  Object.keys(Hn.takeovers).forEach(function (t) {
                    e._takeoversOnMap[t].update() &&
                      e._takeoversOnMap[t].useGrabPass() &&
                      (a = !0)
                  }),
                    a &&
                      (this._renderTarget.unbind(),
                      this._renderer.unsetViewPort(),
                      this._grabPass.copy(this._renderTarget),
                      this._renderTarget.bind(),
                      this._timelineBarElement &&
                        this._renderer.setViewPort(
                          0,
                          this._canvasManager.getCanvas().height - t,
                          this._canvasManager.getCanvas().width,
                          t
                        ))
                  var r = this._transitionManager.getMapAmount()
                  this._charactersOnMap.forEach(function (t) {
                    return t.draw(e._cameraController, r)
                  }),
                    Object.keys(Hn.takeovers).forEach(function (t) {
                      e._takeoversOnMap[t].draw(
                        e._cameraController,
                        r,
                        e._grabPass.getRenderTexture()
                      )
                    }),
                    this._snow.draw(
                      this._cameraController,
                      this._transitionManager.getLayerAmount() > 0
                        ? this._layerTest.getCamera()
                        : null
                    ),
                    this._renderTarget.unbind(),
                    this._renderer.unsetViewPort(),
                    this._postEffectStack.draw(
                      this._renderTarget.getRenderTexture(),
                      !0
                    ),
                    this._preloader.update(
                      !(this._preloaderHided || this._uiVisible)
                    ),
                    this._preloader.draw(),
                    (document.body.style.cursor = n ? 'pointer' : 'inherit')
                },
              },
              {
                key: 'gotoLocationOnMap',
                value: function (e) {
                  this.deActivateMapEvents(),
                    this._transitionManager.gotoLocation(
                      e,
                      this._cameraController
                    ),
                    this._map.setActiveLocation(e)
                },
              },
              {
                key: 'gotoCharactersOnLocation',
                value: function (e, t) {
                  this.deActivateMapEvents(),
                    this._transitionManager.gotoLocation(
                      t,
                      this._cameraController
                    ),
                    this._map.setActiveLocation(t)
                  var n,
                    i = !1
                  ;(this._charactersOnMap.forEach(function (n) {
                    var a = n.isEqual(e, t)
                    ;(n.active = a), (i = i || a)
                  }),
                  i) ||
                    ((n = this._locationManager.hasLocation(t)
                      ? this._locationManager
                          .getLocation(t)
                          .transform.getWorldPosition()
                      : new it().randomize().multiply(new it(128, 0, 128))),
                    this._charactersOnMap.push(new Gn(this._renderer, e, t, n)))
                },
              },
              {
                key: 'showLayerAnimation',
                value: function (e, t) {
                  var n = this
                  li[e] &&
                    ((this._layerTest = new Rn(e, li[e])),
                    this._layerTest.load(
                      function () {
                        n._layerTest.id === e &&
                          n._transitionManager.gotoLayerAnimation(
                            n._cameraController,
                            t
                          )
                      },
                      function () {}
                    ))
                },
              },
              {
                key: 'hidePreloader',
                value: function () {
                  this._preloaderHided = !0
                },
              },
              {
                key: 'showMap',
                value: function () {
                  this.deActivateMapEvents(),
                    this._transitionManager.showMap(this._cameraController)
                },
              },
              {
                key: 'showMapTakeOver',
                value: function (e) {
                  var t = this
                  this.deActivateMapEvents(),
                    Object.keys(Hn.takeovers).forEach(function (n) {
                      t._takeoversOnMap[n].active =
                        t._takeoversOnMap[n].eventId == e
                    }),
                    this._transitionManager.gotoLocation(
                      e,
                      this._cameraController,
                      'E37' == e || 'E41' == e
                        ? cn.ZOOM_LOCATION
                        : cn.ZOOM_TAKEOVER
                    )
                },
              },
              {
                key: 'handleEvent',
                value: function (e) {
                  var t = f(_).getItemById(e)
                  if (Hn.isTakeOverEvent(e)) this.showMapTakeOver(e)
                  else if (t.locationId) {
                    var n = t.characterIds.filter(function (e) {
                      return ['C0', 'C1', 'C2', 'C3'].indexOf(e) >= 0
                    })
                    n && n.length > 0
                      ? this.gotoCharactersOnLocation(n, t.locationId)
                      : this.gotoLocationOnMap(t.locationId)
                  } else this.showMap()
                  this._map.setDate(e),
                    this._snow.setWeather(t.weather),
                    this._rainSplashes.setActive('rain' == t.weather),
                    this._fog.setActive('fog' == t.weather)
                },
              },
              {
                key: 'closeCard',
                value: function () {
                  this._map.setActiveLocation(null)
                },
              },
              {
                key: 'handleCloseUpAnimation',
                value: function (e) {
                  this.deActivateMapEvents(),
                    this._locationManager.hasLocation(e) &&
                      this.showLayerAnimation(
                        e,
                        this._locationManager
                          .getLocation(e)
                          .transform.getWorldPosition()
                      )
                },
              },
              {
                key: 'handleCard',
                value: function (e) {
                  var t =
                    arguments.length > 1 && void 0 !== arguments[1]
                      ? arguments[1]
                      : ''
                  this.deActivateMapEvents(),
                    'event' == t
                      ? this.handleEvent(e)
                      : this._locationManager.hasLocation(e) &&
                        (this._transitionManager.gotoLocation(
                          e,
                          this._cameraController
                        ),
                        this._map.setActiveLocation(e))
                },
              },
              {
                key: 'deActivateMapEvents',
                value: function () {
                  var e = this
                  this._charactersOnMap.forEach(function (e) {
                    e.active = !1
                  }),
                    Object.keys(Hn.takeovers).forEach(function (t) {
                      e._takeoversOnMap[t].active = !1
                    }),
                    this._map.setActiveLocation(null)
                },
              },
            ],
            [
              {
                key: 'createMapTakeOver',
                value: function (e, t, n, i, a) {
                  switch (e) {
                    case 'E1':
                      return new Xn(t, n, e, i, a)
                    case 'E37':
                      return new Kn(t, n, e, i)
                    case 'E40':
                      return new Jn(t, n, e, i)
                    case 'E41':
                      return new Qn(t, n, e, i)
                    case 'E44':
                      return new si(t, n, 'E44', i)
                  }
                  return null
                },
              },
            ]
          ),
          e
        )
      })(),
      ci = (function () {
        function e() {
          se()(this, e)
        }
        return (
          le()(e, null, [
            {
              key: 'create',
              value: function (e) {
                var t = new zt(new Tn()),
                  n = new Vt()
                n.init('Debug')
                var i = n.addGroup('Extra')
                i.addButton('Monolith', function () {
                  e.handleCard('L20')
                }),
                  i.addButton('Jaskier', function () {
                    e.handleCard('C17')
                  }),
                  i.addButton('Dryad', function () {
                    e.handleCard('R4')
                  })
                var a = n.addGroup('Monsters')
                Re.forEach(function (t) {
                  a.addButton(t.slug, function () {
                    e.handleCard(t.id)
                  })
                })
                var r = n.addGroup('TakeOvers'),
                  s = Hn.takeovers,
                  o = function (t) {
                    var n = s[t]
                    r.addButton(n.title, function () {
                      e.gotoEventOnMap(t)
                    })
                  }
                for (var l in s) o(l)
                var u = n.addGroup('Events')
                Ae.forEach(function (t) {
                  u.addButton(t.slug, function () {
                    e.gotoEventOnMap(t.id)
                  })
                }),
                  t.init(n)
              },
            },
          ]),
          e
        )
      })(),
      di = (function (e) {
        function t() {
          var e
          return (
            se()(this, t),
            ((e = ce()(this, he()(t).call(this))).transitionController = new Ve(
              Ne()(e)
            )),
            (e._webGLMain = new ui(Ne()(e))),
            e
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'addStats',
              value: function () {
                !(function () {
                  var e = document.createElement('script')
                  ;(e.onload = function () {
                    var e = new Stats()
                    ;(e.dom.style.position = 'absolute'),
                      (e.dom.style.bottom = '0px'),
                      (e.dom.style.top = ''),
                      document.body.appendChild(e.dom),
                      requestAnimationFrame(function t() {
                        e.update(), requestAnimationFrame(t)
                      })
                  }),
                    (e.src = '//mrdoob.github.io/stats.js/build/stats.min.js'),
                    document.head.appendChild(e)
                })()
              },
            },
            {
              key: 'setup',
              value: function (e, t) {
                this._webGLMain.setup(e, t, location.hash.indexOf('ui') >= 0)
              },
            },
            {
              key: 'load',
              value: function (e, t, n) {
                var i = this,
                  a = new Tn()
                this._webGLMain.load(a),
                  a.load(function () {
                    t(), i.init()
                  }, n)
              },
            },
            {
              key: 'init',
              value: function () {
                location.hash.indexOf('ui') >= 0 && ci.create(this),
                  this._webGLMain.init()
              },
            },
            {
              key: 'zoom',
              value: function (e) {
                e
                  ? this._webGLMain.getCamera().zoomIn(0.2)
                  : this._webGLMain.getCamera().zoomOut(0.2)
              },
            },
            {
              key: 'hidePreloader',
              value: function () {
                this._webGLMain.hidePreloader()
              },
            },
            {
              key: 'setTimelineBarElement',
              value: function (e) {
                this._webGLMain.setTimelineBarElement(e)
              },
            },
            {
              key: 'gotoEventOnMap',
              value: function (e) {
                this._webGLMain.handleEvent(e)
              },
            },
            {
              key: 'gotoEndOfTime',
              value: function () {
                this._webGLMain.showMapTakeOver('E44')
              },
            },
            {
              key: 'gotoCloseupAnimation',
              value: function (e) {
                this._webGLMain.handleCloseUpAnimation(e)
              },
            },
            {
              key: 'handleCard',
              value: function (e) {
                var t =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : ''
                this._webGLMain.handleCard(e, t)
              },
            },
            {
              key: 'closeCard',
              value: function () {
                this._webGLMain.closeCard()
              },
            },
          ]),
          t
        )
      })(Be.a),
      hi = n(65),
      fi = n.n(hi),
      pi = n(143),
      vi = (function (e) {
        function t(e) {
          return (
            se()(this, t),
            ce()(
              this,
              he()(t).call(this, Object.assign(e, { batchSize: 1, cached: !1 }))
            )
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'loadAsset',
              value: function (e) {
                return Promise.resolve()
              },
            },
            {
              key: 'load',
              value: function (e) {
                var t = this
                return new Promise(function (n) {
                  t.options.loadMethod(
                    t.options.params,
                    function () {
                      n()
                    },
                    function (t) {
                      e(t)
                    }
                  )
                })
              },
            },
            {
              key: 'dispose',
              value: function () {
                ge()(he()(t.prototype), 'dispose', this).call(this)
              },
            },
          ]),
          t
        )
      })(hi.AbstractLoadTask),
      mi = n(27),
      _i = [
        mi.b.LOGO_SHIELD,
        mi.b.LOGO_TITLE,
        mi.b.PAPER_TRANSITION_IN,
        mi.b.PAPER_TRANSITION_OUT,
        mi.b.AVATAR_MASK_IN,
        mi.b.AVATAR_MASK_OUT,
        mi.a.HEADER_SHADOW,
      ],
      gi = (function (e) {
        function t(e) {
          var n
          return (
            se()(this, t),
            ((n = ce()(this, he()(t).call(this))).taskLoaderOptions = null),
            (n.versionRoot = f(y).getVariable(c.d.VERSIONED_STATIC_ROOT)),
            (n.locale = 'en-gb'),
            (n.taskLoader = new fi.a()),
            n.taskLoader.addEventListener(
              hi.TaskLoaderEvent.UPDATE,
              n.onUpdate.bind(Ne()(n))
            ),
            n
          )
        }
        return (
          pe()(t, e),
          le()(t, [
            {
              key: 'setLocale',
              value: function (e) {
                this.locale = e
              },
            },
            {
              key: 'start',
              value: function (e) {
                var t = f('webglApplication')
                return this.loadTasks(
                  [
                    new vi({ loadMethod: t.load.bind(t) }),
                    new hi.LoadImageTask({
                      assets: Object(pi.b)(_i, this.versionRoot, this.locale),
                    }),
                  ],
                  e
                )
              },
            },
            {
              key: 'onUpdate',
              value: function (e) {
                this.taskLoaderOptions &&
                  this.taskLoaderOptions.onUpdate &&
                  this.taskLoaderOptions.onUpdate(e.data.progress)
              },
            },
            {
              key: 'loadTasks',
              value: function (e, t) {
                return (
                  (this.taskLoaderOptions = t || null),
                  this.taskLoader.loadTasks(e)
                )
              },
            },
          ]),
          t
        )
      })(Te.a),
      yi = (function (e) {
        function t() {
          return se()(this, t), ce()(this, he()(t).apply(this, arguments))
        }
        return (
          pe()(t, e), le()(t, [{ key: 'dispose', value: function () {} }]), t
        )
      })(Ee),
      Ti = function () {
        var e = new Q.a()
        e.init(ae.config, ae.environment)
        var t = R.create({
          baseURL: e.getURL(c.c.API),
          headers: { Accept: 'application/json' },
          responseType: 'json',
        })
        t.interceptors.response.use(
          function (e) {
            return (function (e) {
              return e && e.data && 'undefined' !== typeof e.data.data
                ? F()({}, e, e.data)
                : e
            })(e)
          },
          function (e) {
            throw (function (e) {
              if (e && e.response && e.response.data && e.response.data.error) {
                var t = F()({ config: e.config }, e.response, e.response.data)
                return delete t.data, t
              }
              return e
            })(e)
          }
        ),
          Ae.sort(function (e, t) {
            return e.date - t.date
          }),
          h(_, new Ce(Ae)),
          h(g, new Ie(ke)),
          h(v, new Oe(Re)),
          h(p, new Pe(Me)),
          h(m, new we(xe)),
          h('soundModel', new yi(Se)),
          h('webglApplication', new di())
        var n = [].concat(K()(Ae), K()(xe), K()(Me), K()(Re), K()(ke))
        h(
          'cardModel',
          new Le(
            n.map(function (e) {
              return {
                id: e.id,
                slug: e.slug,
                cardType: e.cardType,
                relatedIds: e.relatedIds,
                image: e.image,
              }
            })
          )
        ),
          h(y, e),
          h('gateway', t),
          h('appPreloader', new gi())
      },
      Ei = n(583).a,
      bi = {}
    Object.keys(bi).forEach(function (e) {
      return i.default.filter(e, bi[e])
    }),
      Object.keys(o).forEach(function (e) {
        return i.default.directive(e, o[e])
      }),
      Object.keys(l).forEach(function (e) {
        return i.default.component(e, l[e])
      }),
      Ti(),
      window.webpackPublicPath && (n.p = window.webpackPublicPath)
    var Ci = I(),
      Ai = Object(k.a)(),
      Ii = E(Ci)
    Ii.localeEnabled &&
      (i.default.use(r.a, {
        store: Ai,
        router: Ii.localeRoutingEnabled ? Ci : null,
        config: Ii.config,
        proxy: U,
      }),
      i.default.initI18nManager()),
      Object(s.sync)(Ai, Ci)
    var ki = new i.default({
      router: Ci,
      store: Ai,
      render: function (e) {
        return e(Ei)
      },
    })
    Y(Ai).then(function () {
      ki.$mount('#app')
    })
  },
])
